import{a as Ge,b as Ue}from"./chunk-HH4ICB4R.js";import{a as Fe,b as De}from"./chunk-VGUA5J4Q.js";import{a as Oe}from"./chunk-HOLQ3KKJ.js";import{a as We}from"./chunk-S5EBJMGB.js";import"./chunk-CXNATHVA.js";import{a as O}from"./chunk-B2YP673Q.js";import{$a as V,A as ye,Aa as he,Fa as Te,Ga as H,Ha as ge,I as ce,J as a,K as E,Ka as Ie,Ma as je,Pa as Re,R as M,T as p,Va as B,W as t,Wa as Le,X as i,Y as b,Ya as be,a as U,aa as I,ab as oe,ba as g,bb as W,ca as w,db as J,fb as D,gb as z,ha as ke,ia as Ae,ib as Z,ja as Me,ka as k,kb as G,la as o,lb as Y,ma as P,mb as we,n as L,na as K,pa as f,pb as fe,qa as S,qb as q,r as N,ra as C,rb as Q,s as ve,sb as Ne,u as v,ua as Ee,ub as Be,v as y,vb as Ve,w as T,x as R,za as ue}from"./chunk-WDIAUSLE.js";import{h as ne,j as me}from"./chunk-3EYC4JTX.js";var Se=ne(oe());function tt(c,u){if(c&1){let m=I();t(0,"tr")(1,"td"),o(2),i(),t(3,"td"),o(4),i(),t(5,"td",49)(6,"a",50,51),g("click",function(){v(m);let n=k(7),e=w();return y(e.togme(n))}),t(8,"a",52)(9,"div",53)(10,"a"),o(11,"Edit"),i()(),t(12,"div",54),g("click",function(){let e=v(m).$implicit,d=w();return y(d.deleteLevel(e.id))}),t(13,"a"),o(14,"Delete"),i()(),t(15,"div",55)(16,"a",56),o(17,"Cancel"),i()()()(),t(18,"a",57),g("click",function(){v(m);let n=k(7),e=w();return y(e.togme(n))}),o(19,"Actions "),t(20,"span",58),T(),t(21,"svg",24),b(22,"path",59),i()()()()()}if(c&2){let m=u.$implicit;a(2),P(m.name),a(2),P(m.category)}}var He=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.sch=e,this.gen=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.loading=!1,this.destroy=new U,this.bloke=!1,this.genk=d,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}ngOnInit(){this.getClassLevel()}getClassLevel(){this.sch.getSchoolLevel().subscribe(s=>{this.levelData=s})}togme(s){s.style.display=="contents"?s.style.display="none":(s.style.display="contents",this.bloke=!0)}saveClassLevel(){this.loading=!0;let s={schoolId:this.auth.currentUserValue.schoolId,levelName:this.levelName,levelCategory:this.levelCategory};Se.default.fire({title:"Saving Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Se.default.showLoading(),this.sch.saveClassLevel(s).pipe(L(this.destroy)).subscribe(n=>{Se.default.close(),this.loading=!1,this.getClassLevel()})}}).then(n=>{Se.default.fire({icon:"success",title:"Class-Level saved successfully!.",showConfirmButton:!1,timer:2e3})})}deleteLevel(s){this.sch.deleteClassLevel(s.toString()).subscribe(n=>{Se.default.fire({icon:"success",title:"Class-Level deleted successfully!.",showConfirmButton:!1,timer:2e3})})}logout(){this.auth.logout(),this.router.navigate(["/",this.genk.account])}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(O),E(W))},u.\u0275cmp=N({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:69,vars:3,consts:[[1,"d-flex","flex-column","flex-root"],["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","base",1,"d-flex","justify-content-end"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_create_app",1,"btn","btn-info","me-3"],[1,"card-body","pt-0"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"min-w-125px"],[1,"min-x-50px"],[1,"text-end","min-w-70px"],[1,"table-hover"],[4,"ngFor","ngForOf"],["id","kt_modal_create_app","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-700px"],[1,"modal-content"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-icon","btn-active-color-info"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-lg-10","px-lg-10","h-500px","scroll-y"],["id","kt_modal_create_app_stepper",1,"stepper","stepper-pills","stepper-column","d-flex","flex-column","flex-xl-row","flex-row-fluid"],[1,"flex-row-fluid","py-lg-5","px-lg-15"],[1,"form",3,"ngSubmit"],["data-kt-stepper-element","content",1,"current"],[1,"w-100"],[1,"col-12","mb-10"],[1,"d-flex","align-items-center","fs-5","fw-bold","mb-2"],[1,""],["type","mail","name","levelname","placeholder","",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"row","mb-10"],[1,"col-12"],[1,"fs-6","fw-bold","mb-2"],["name","levelcategory","data-control","select","data-placeholder","Select Class",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],["value","SENIOR"],["value","JUNIOR"],["value","PRIMARY"],["value","NURSERY"],[1,"d-flex","justify-content-center","flex-row-fluid","pt-12"],["type","reset","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],["type","submit",1,"btn","btn-info"],[1,"text-end"],[2,"display","none","border","solid 10px red",3,"click"],["me",""],[2,"text-align","start","background-color","white","border-radius","10px","padding","20px 10px","box-shadow","2px 2px 6px rgb(0, 0, 0, 0.3)","position","absolute","z-index","10"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_app",1,"smallmod",2,"margin-bottom","5px"],[1,"smallmod",2,"margin-bottom","5px",3,"click"],[1,"smallmod"],["data-kt-customer-table-filter","delete_row"],[1,"btn","btn-sm","btn-light","btn-active-light-primary",3,"click"],[1,"svg-icon","svg-icon-5","m-0"],["d","M11.4343 12.7344L7.25 8.55005C6.83579 8.13583 6.16421 8.13584 5.75 8.55005C5.33579 8.96426 5.33579 9.63583 5.75 10.05L11.2929 15.5929C11.6834 15.9835 12.3166 15.9835 12.7071 15.5929L18.25 10.05C18.6642 9.63584 18.6642 8.96426 18.25 8.55005C17.8358 8.13584 17.1642 8.13584 16.75 8.55005L12.5657 12.7344C12.2533 13.0468 11.7467 13.0468 11.4343 12.7344Z","fill","currentColor"]],template:function(n,e){n&1&&(t(0,"div")(1,"div",0)(2,"div")(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"button",9),o(12,"Add Class-Level"),i()()()(),t(13,"div",10)(14,"table",11)(15,"thead")(16,"tr",12)(17,"th",13),o(18,"Class"),i(),t(19,"th",14),o(20,"Category"),i(),t(21,"th",15),o(22,"Actions"),i()()(),t(23,"tbody",16),M(24,tt,23,2,"tr",17),i()()()()()()()()()(),t(25,"div",18)(26,"div",19)(27,"div",20)(28,"div",21)(29,"h2"),o(30," Add Class-Level "),i(),t(31,"div",22)(32,"span",23),T(),t(33,"svg",24),b(34,"rect",25)(35,"rect",26),i()()()(),R(),t(36,"div",27)(37,"div",28)(38,"div",29)(39,"form",30),g("ngSubmit",function(){return e.saveClassLevel()}),t(40,"div",31)(41,"div",32)(42,"div",33)(43,"label",34)(44,"span",35),o(45,"Class-Level Name"),i()(),t(46,"input",36),C("ngModelChange",function(l){return S(e.levelName,l)||(e.levelName=l),l}),i()(),t(47,"div",37)(48,"div",38)(49,"label",39)(50,"span",35),o(51,"Level Category"),i()(),t(52,"select",40),C("ngModelChange",function(l){return S(e.levelCategory,l)||(e.levelCategory=l),l}),t(53,"option",41),o(54,"Select Category"),i(),t(55,"option",42),o(56,"Senior School"),i(),t(57,"option",43),o(58,"Junior School"),i(),t(59,"option",44),o(60,"Primary School"),i(),t(61,"option",45),o(62,"Nursery School"),i()()()()()(),t(63,"div")(64,"div",46)(65,"button",47),o(66,"Cancel"),i(),t(67,"button",48),o(68,"Submit"),i()()()()()()()()()()()),n&2&&(a(24),p("ngForOf",e.levelData),a(22),f("ngModel",e.levelName),a(6),f("ngModel",e.levelCategory))},dependencies:[H,Y,q,Q,J,fe,D,z,G,Z],styles:[".modalsmall2[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;z-index:8;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#000000e6}.modalsmallbox[_ngcontent-%COMP%]{border-bottom:solid 1px silver;background-color:#fff;border-radius:10px;width:22%}.smallmod[_ngcontent-%COMP%]{padding:3px 30px}.smallmod[_ngcontent-%COMP%]:hover{background-color:#a5d8f033;color:#07a8f3}#leaving[_ngcontent-%COMP%]{transition:margin-top .5s,color 1s}"]});let c=u;return c})();var te=ne(oe());function it(c,u){if(c&1){let m=I();t(0,"tr",53,54)(2,"td")(3,"div",55)(4,"span"),o(5),i()()(),t(6,"td"),o(7),i(),t(8,"td"),o(9),i(),t(10,"td")(11,"div",56)(12,"button",57),g("click",function(){let e=v(m).$implicit,d=k(1),l=w();return y(l.reOrderUp(e.order,d))}),t(13,"span",58),T(),t(14,"svg",59),b(15,"path",60)(16,"path",61),i()()(),R(),t(17,"button",62),g("click",function(){let e=v(m).$implicit,d=k(1),l=w();return y(l.reOrderDown(e.order,d))}),t(18,"span",58),T(),t(19,"svg",59),b(20,"path",63)(21,"path",64),i()()()()(),R(),t(22,"td")(23,"div",65)(24,"button",66),g("click",function(){let e=v(m).$implicit,d=w();return y(d.saveEdit(e.id))}),o(25,"Edit"),i(),t(26,"button",67),g("click",function(){let e=v(m).$implicit,d=w();return y(d.deleteSubject(e.id))}),o(27,"Delete"),i()()()()}if(c&2){let m=u.$implicit,s=u.index;a(5),P(s+1),a(2),K(" ",m.subjects," "),a(2),K(" ",m.category," ")}}var Pe=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.gen=e,this.sch=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.subjectList=[],this.readlist=[],this.loading=!1,this.destroy=new U,this.genk=e,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.getSubjects()}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}getSubjects(){this.sch.getSubjects().subscribe(s=>{this.readlist=s,this.subjectList=s.filter(n=>n.subjectType==this.category)})}saveEdit(s){debugger;let n=this.subjectList.filter(e=>e.id==s)[0];this.subjectType=n.subjectType,this.newSubject=n.subjects,this.subjectId=n.id}editSubject(){let s={id:this.subjectId,subjects:this.newSubject,subjectType:this.subjectType};te.default.fire({title:"Saving Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{te.default.showLoading(),this.sch.updateSubject(s).pipe(L(this.destroy)).subscribe(n=>{te.default.close(),this.loading=!1,this.getSubjects()})}}).then(n=>{te.default.fire({icon:"success",title:"Class-Level saved successfully!.",showConfirmButton:!1,timer:2e3})})}saveSubjects(){this.loading=!0;debugger;let s={subjects:this.newSubject,subjectType:this.subjectType};te.default.fire({title:"Saving Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{te.default.showLoading(),this.sch.saveSubjects(s).pipe(L(this.destroy)).subscribe(n=>{te.default.close(),this.loading=!1,this.getSubjects()})}}).then(n=>{te.default.fire({icon:"success",title:"Class-Level saved successfully!.",showConfirmButton:!1,timer:2e3})})}deleteSubject(s){this.sch.deleteSubject(s.toString()).subscribe(n=>{this.getSubjects(),te.default.fire({icon:"success",title:"Class-Level deleted successfully!.",showConfirmButton:!1,timer:2e3})})}changeCategory(s){this.readlist=this.readlist.sort(function(n,e){return n.order-e.order}),s=="ALLSUB"?this.subjectList=this.readlist:this.subjectList=this.readlist.filter(n=>n.subjectType==s)}reOrderUp(s,n){n.style.backgroundColor="rgb(220, 220, 220)",setTimeout(()=>{this.readlist=this.readlist.sort(function(h,x){return h.order-x.order});let e=this.readlist.findIndex(h=>h.order==s),d=e-1,l=this.readlist[e].id;if(!this.readlist[d]){n.style.backgroundColor="";return}let r=this.readlist[d].id;this.readlist[e].order=this.readlist[d].order,this.readlist[d].order=s,this.readlist=this.readlist.sort(function(h,x){return h.order-x.order}),this.sch.updateSubjectOrder(l,r).subscribe(h=>{setTimeout(()=>{n.style.backgroundColor=""},1e3)})},100)}reOrderDown(s,n){n.style.backgroundColor="rgb(220, 220, 220)",setTimeout(()=>{debugger;this.readlist=this.readlist.sort(function(h,x){return h.order-x.order});let e=this.readlist.findIndex(h=>h.order==s),d=e+1,l=this.readlist[e].id;if(!this.readlist[d]){n.style.backgroundColor="";return}let r=this.readlist[d].id;this.readlist[e].order=this.readlist[d].order,this.readlist[d].order=s,this.readlist=this.readlist.sort(function(h,x){return h.order-x.order}),this.sch.updateSubjectOrder(l,r).subscribe(h=>{setTimeout(()=>{n.style.backgroundColor=""},1e3)})},100)}logout(){this.auth.logout(),this.router.navigate(["/",this.genk.account])}leaveModal(s){s.style.marginTop="800px",s.style.color="grey"}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(W),E(O))},u.\u0275cmp=N({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:137,vars:5,consts:[[1,"card","mb-5","mb-xxl-10"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"col-12"],["name","levelcategory","data-control","select","data-placeholder","Select Class",1,"form-select","form-select-solid","fw-bolder",3,"change"],["scal",""],["value",""],["value","ALLSUB"],["value","SENIOR"],["value","JUNIOR"],["value","ALL"],["value","PRIMARY"],["value","NURSERY"],["href","#","data-bs-toggle","modal","data-bs-target","#kt_modal_new_grade",1,"btn","btn-sm","btn-primary","my-1"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-flush","align-middle","table-row-bordered","table-row-solid","gy-4","gs-9"],[1,"border-gray-200","fs-5","fw-bold","bg-lighten"],[1,"min-w-100px"],[1,"min-w-250px"],[1,"min-w-200px"],[1,"fw-6","fw-bold","text-gray-600"],["draggable","true","style","font-weight: 600;",4,"ngFor","ngForOf"],["id","kt_modal_new_card","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-icon","btn-active-color-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_new_card_form","action","#",1,"form"],[1,"d-flex","flex-column","mb-7","fv-row"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["type","text","name","editsubject","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","state","aria-label","Select subject type","data-control","select2","data-placeholder","Select subject type...",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],[1,"row"],[1,"col-6"],["type","reset","id","kt_modal_new_card_cancel",1,"btn","btn-light","me-3","w-100"],["type","submit","id","kt_modal_new_card_submit",1,"btn","btn-primary","w-100",3,"click"],[1,"indicator-label"],[1,"indicator-progress","d-none"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["id","kt_modal_new_grade","tabindex","-1","aria-hidden","true",1,"modal","fade"],["id","kt_modal_new_grade_form",1,"form",3,"ngSubmit"],["type","text","name","subject","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","reset","id","kt_modal_new_grade_cancel",1,"btn","btn-light","me-3","w-100"],["type","submit","id","kt_modal_new_grade_submit",1,"btn","btn-primary","w-100"],["draggable","true",2,"font-weight","600"],["roe",""],[2,"display","flex","width","35px","height","35px","background-color","dodgerblue","border-radius","50px","color","white","justify-content","center","align-items","center"],[1,"d-flex","align-items-center"],[1,"btn","btn-sm","move-up",3,"click"],[1,"svg-icon","svg-icon-muted","svg-icon-1",2,"color","dodgerblue"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["opacity","0.5","d","M13 9.59998V21C13 21.6 12.6 22 12 22C11.4 22 11 21.6 11 21V9.59998H13Z","fill","currentColor"],["d","M5.7071 7.89291C5.07714 8.52288 5.52331 9.60002 6.41421 9.60002H17.5858C18.4767 9.60002 18.9229 8.52288 18.2929 7.89291L12.7 2.3C12.3 1.9 11.7 1.9 11.3 2.3L5.7071 7.89291Z","fill","currentColor"],[1,"btn","btn-sm","move-down",3,"click"],["opacity","0.5","d","M13 14.4V3.00003C13 2.40003 12.6 2.00003 12 2.00003C11.4 2.00003 11 2.40003 11 3.00003V14.4H13Z","fill","currentColor"],["d","M5.7071 16.1071C5.07714 15.4771 5.52331 14.4 6.41421 14.4H17.5858C18.4767 14.4 18.9229 15.4771 18.2929 16.1071L12.7 21.7C12.3 22.1 11.7 22.1 11.3 21.7L5.7071 16.1071Z","fill","currentColor"],[1,"d-flex","align-items-center","py-2"],["data-bs-toggle","modal","data-bs-target","#kt_modal_new_card",1,"btn","btn-sm","btn-light-primary","btn-active-primary","me-3",3,"click"],["type","reset",1,"btn","btn-sm","btn-light-danger","btn-active-danger","me-3",3,"click"]],template:function(n,e){if(n&1){let d=I();t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),o(4,"Manage Subject"),i()(),t(5,"div",3)(6,"div",2)(7,"div",4)(8,"select",5,6),g("change",function(){v(d);let r=k(9);return y(e.changeCategory(r.value))}),t(10,"option",7),o(11,"Select Category"),i(),t(12,"option",8),o(13,"All Subjects"),i(),t(14,"option",9),o(15,"Senior Class"),i(),t(16,"option",10),o(17,"Junior Class"),i(),t(18,"option",11),o(19,"All Clasess"),i(),t(20,"option",12),o(21,"Primary Class"),i(),t(22,"option",13),o(23,"Nursery Class"),i()()()(),t(24,"a",14),o(25,"Add New Subject"),i()()(),t(26,"div",15)(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th",19),o(32,"Order"),i(),t(33,"th",20),o(34,"Subject"),i(),t(35,"th",21),o(36,"Category"),i(),t(37,"th",21),o(38,"Re-order"),i(),t(39,"th",19),o(40,"Action"),i()()(),t(41,"tbody",22),M(42,it,28,3,"tr",23),i()()()()(),t(43,"div",24)(44,"div",25)(45,"div",26)(46,"div",27)(47,"h2"),o(48,"Edit Subject"),i(),t(49,"div",28)(50,"span",29),T(),t(51,"svg",30),b(52,"rect",31)(53,"rect",32),i()()()(),R(),t(54,"div",33)(55,"form",34)(56,"div",35)(57,"label",36)(58,"span",37),o(59,"Subject"),i()(),t(60,"input",38),C("ngModelChange",function(r){return S(e.newSubject,r)||(e.newSubject=r),r}),i()(),t(61,"div",35)(62,"label",36)(63,"span",37),o(64,"Subject Type"),i()(),t(65,"select",39),C("ngModelChange",function(r){return S(e.subjectType,r)||(e.subjectType=r),r}),t(66,"option",7),o(67,"Select subject type..."),i(),t(68,"option",11),o(69,"All Clasess"),i(),t(70,"option",9),o(71,"Senior Class"),i(),t(72,"option",10),o(73,"Junior Class "),i(),t(74,"option",12),o(75,"Primary Class "),i(),t(76,"option",13),o(77,"Nursery Class "),i()()(),t(78,"div",40)(79,"div",41)(80,"div",42)(81,"button",43),o(82,"Discard"),i()(),t(83,"div",42)(84,"button",44),g("click",function(){return e.editSubject()}),t(85,"span",45),o(86,"Submit"),i(),t(87,"span",46),o(88,"Please wait... "),b(89,"span",47),i()()()()()()()()()(),t(90,"div",48)(91,"div",25)(92,"div",26)(93,"div",27)(94,"h2"),o(95,"Add New Subject"),i(),t(96,"div",28)(97,"span",29),T(),t(98,"svg",30),b(99,"rect",31)(100,"rect",32),i()()()(),R(),t(101,"div",33)(102,"form",49),g("ngSubmit",function(){return e.saveSubjects()}),t(103,"div",35)(104,"label",36)(105,"span",37),o(106,"Subject"),i()(),t(107,"input",50),C("ngModelChange",function(r){return S(e.newSubject,r)||(e.newSubject=r),r}),i()(),t(108,"div",35)(109,"label",36)(110,"span",37),o(111,"Subject Type"),i()(),t(112,"select",39),C("ngModelChange",function(r){return S(e.subjectType,r)||(e.subjectType=r),r}),t(113,"option",7),o(114,"Select subject type..."),i(),t(115,"option",11),o(116,"All Clasess"),i(),t(117,"option",9),o(118,"Senior Class"),i(),t(119,"option",10),o(120,"Junior Class "),i(),t(121,"option",12),o(122,"Primary Class "),i(),t(123,"option",13),o(124,"Nursery Class "),i()()(),t(125,"div",40)(126,"div",41)(127,"div",42)(128,"button",51),o(129,"Discard"),i()(),t(130,"div",42)(131,"button",52)(132,"span",45),o(133,"Submit"),i(),t(134,"span",46),o(135,"Please wait... "),b(136,"span",47),i()()()()()()()()()()}n&2&&(a(42),p("ngForOf",e.subjectList),a(18),f("ngModel",e.newSubject),a(5),f("ngModel",e.subjectType),a(42),f("ngModel",e.newSubject),a(5),f("ngModel",e.subjectType))},dependencies:[H,Y,q,Q,J,fe,D,z,G,Z],styles:[".modalsmall2[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;z-index:8;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#000000e6}.modalsmallbox[_ngcontent-%COMP%]{border-bottom:solid 1px silver;background-color:#fff;border-radius:10px;width:22%}.smallmod[_ngcontent-%COMP%]{padding:3px 30px}.smallmod[_ngcontent-%COMP%]:hover{background-color:#a5d8f033;color:#07a8f3}#leaving[_ngcontent-%COMP%]{transition:margin-top .5s,color 1s}"]});let c=u;return c})();var ie=ne(oe());function nt(c,u){if(c&1){let m=I();t(0,"tr")(1,"td")(2,"a",57),o(3),i()(),t(4,"td")(5,"a",57),o(6),i()(),t(7,"td"),o(8),i(),t(9,"td"),o(10),i(),t(11,"td")(12,"div",58)(13,"button",59),g("click",function(){let e=v(m).$implicit,d=w();return y(d.saveEdit(e.id))}),o(14,"Edit"),i(),t(15,"button",60),g("click",function(){let e=v(m).$implicit,d=w();return y(d.deleteGradeScale(e.id))}),o(16,"Delete"),i()()()()}if(c&2){let m=u.$implicit;a(3),P(m.begLimit),a(3),P(m.endLimit),a(2),P(m.grade),a(2),P(m.remarks)}}var Je=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.sch=n,this.auth=e,this.gen=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.subjectList=[],this.loading=!1,this.destroy=new U,this.scaleList=[],this.genk=d,this.userName=e.currentUserValue.name,this.userImgPath=e.currentUserValue.logo,this.adminStatus=e.currentUserValue.status}ngOnInit(){this.getGradeScale()}getGradeScale(){this.sch.getGradeScale().subscribe(s=>{this.subjectList=s})}saveEdit(s){let n=this.subjectList.filter(e=>e.id==s)[0];this.lowerlimt=n.begLimit,this.upperlimit=n.endLimit,this.grade=n.grade,this.remarks=n.remarks,this.gradeScaleId=n.id}changeGradeScale(s){debugger;this.classlevel=s,this.scaleList=this.subjectList.filter(n=>n.classLevel==s)}editGradeScale(){this.loading=!0;let s={id:this.gradeScaleId,begLimit:this.lowerlimt,endLimit:this.upperlimit,grade:this.grade,remarks:this.remarks,classLevel:this.classlevel};ie.default.fire({title:"Saving Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{ie.default.showLoading(),this.sch.updateGradeScale(s).pipe(L(this.destroy)).subscribe(n=>{ie.default.close(),this.loading=!1,this.getGradeScale()})}}).then(n=>{ie.default.fire({icon:"success",title:"Grade Scale saved successfully!.",showConfirmButton:!1,timer:2e3})})}saveGradeScale(){this.loading=!0;let s={begLimit:this.lowerlimt,endLimit:this.upperlimit,grade:this.grade,remarks:this.remarks,classLevel:this.classlevel};ie.default.fire({title:"Saving Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{ie.default.showLoading(),this.sch.saveGradeScale(s).pipe(L(this.destroy)).subscribe(n=>{ie.default.close(),this.loading=!1,this.getGradeScale()})}}).then(n=>{ie.default.fire({icon:"success",title:"Grade Scale saved successfully!.",showConfirmButton:!1,timer:2e3})})}deleteGradeScale(s){this.sch.deleteGradeScale(s.toString()).subscribe(n=>{this.getGradeScale(),ie.default.fire({icon:"success",title:"Grade Scale deleted successfully!.",showConfirmButton:!1,timer:2e3})})}};u.\u0275fac=function(n){return new(n||u)(E(B),E(O),E(V),E(W))},u.\u0275cmp=N({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:126,vars:9,consts:[[1,"card","mb-5","mb-xxl-10"],[1,"card-header"],[1,"card-title"],[1,"col-12"],["name","levelcategory","data-control","select","data-placeholder","Select Class",1,"form-select","form-select-solid","fw-bolder",3,"change"],["scal",""],["value",""],["value","SENIOR"],["value","JUNIOR"],["value","PRIMARY"],["value","NURSERY"],[1,"card-toolbar"],["data-bs-toggle","modal","data-bs-target","#kt_modal_new_grade",1,"btn","btn-sm","btn-primary","my-1",3,"click"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-flush","align-middle","table-row-bordered","table-row-solid","gy-4","gs-9"],[1,"border-gray-200","fs-5","fw-bold","bg-lighten"],[1,"min-w-200px"],[1,"min-w-150px"],[1,"min-w-250px"],[1,"min-w-100px"],[1,"fw-6","fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],["id","kt_modal_new_card","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-icon","btn-active-color-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_new_card_form",1,"form",3,"ngSubmit"],[1,"d-flex","flex-column","mb-7","fv-row"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["type","text","name","lowerscoreedit",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","upperscoreedit",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","gradeedit",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","remarkedit",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],[1,"row"],[1,"col-6"],["data-bs-dismiss","modal","type","reset","id","kt_modal_new_card_cancel",1,"btn","btn-light","me-3","w-100"],["type","submit","id","kt_modal_new_card_submit",1,"btn","btn-primary","w-100"],[1,"indicator-label"],[1,"indicator-progress","d-none"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["id","kt_modal_new_grade","tabindex","-1","aria-hidden","true",1,"modal","fade"],["id","kt_modal_new_grade_form",1,"form",3,"ngSubmit"],["type","text","name","lowerscore",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","upperscore",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","grade",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","remarks",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","reset","data-bs-dismiss","modal","id","kt_modal_new_grade_cancel",1,"btn","btn-light","me-3","w-100"],["type","submit","id","kt_modal_new_grade_submit",1,"btn","btn-primary","w-100"],[1,"text-hover-primary","text-gray-600"],[1,"d-flex","align-items-center","py-2"],["data-bs-toggle","modal","data-bs-target","#kt_modal_new_card",1,"btn","btn-sm","btn-light-primary","btn-active-primary","me-3",3,"click"],["type","reset",1,"btn","btn-sm","btn-light-danger","btn-active-danger","me-3",3,"click"]],template:function(n,e){if(n&1){let d=I();t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"select",4,5),g("change",function(){v(d);let r=k(5);return y(e.changeGradeScale(r.value))}),t(6,"option",6),o(7,"Select Category"),i(),t(8,"option",7),o(9,"Senior School"),i(),t(10,"option",8),o(11,"Junior School"),i(),t(12,"option",9),o(13,"Primary School"),i(),t(14,"option",10),o(15,"Nursery School"),i()()()(),t(16,"div",11)(17,"a",12),g("click",function(){return e.classlevel="JUNIOR"}),o(18,"Add New Grade Scale"),i()()(),t(19,"div",13)(20,"div",14)(21,"table",15)(22,"thead",16)(23,"tr")(24,"th",17),o(25,"Lower Limit"),i(),t(26,"th",17),o(27,"Upper Limit"),i(),t(28,"th",18),o(29,"Grade"),i(),t(30,"th",19),o(31,"Remarks"),i(),t(32,"th",20),o(33,"Action"),i()()(),t(34,"tbody",21),M(35,nt,17,4,"tr",22),i()()()()(),t(36,"div",23)(37,"div",24)(38,"div",25)(39,"div",26)(40,"h2"),o(41,"Edit Grade Scale"),i(),t(42,"div",27)(43,"span",28),T(),t(44,"svg",29),b(45,"rect",30)(46,"rect",31),i()()()(),R(),t(47,"div",32)(48,"form",33),g("ngSubmit",function(){return e.editGradeScale()}),t(49,"div",34)(50,"label",35)(51,"span",36),o(52,"Lower Score Limit"),i()(),t(53,"input",37),C("ngModelChange",function(r){return S(e.lowerlimt,r)||(e.lowerlimt=r),r}),i()(),t(54,"div",34)(55,"label",35)(56,"span",36),o(57,"Upper Score Limit"),i()(),t(58,"input",38),C("ngModelChange",function(r){return S(e.upperlimit,r)||(e.upperlimit=r),r}),i()(),t(59,"div",34)(60,"label",35)(61,"span",36),o(62,"Grade"),i()(),t(63,"input",39),C("ngModelChange",function(r){return S(e.grade,r)||(e.grade=r),r}),i()(),t(64,"div",34)(65,"label",35)(66,"span",36),o(67,"Remarks"),i()(),t(68,"input",40),C("ngModelChange",function(r){return S(e.remarks,r)||(e.remarks=r),r}),i()(),t(69,"div",41)(70,"div",42)(71,"div",43)(72,"button",44),o(73,"Discard"),i()(),t(74,"div",43)(75,"button",45)(76,"span",46),o(77,"Submit"),i(),t(78,"span",47),o(79,"Please wait... "),b(80,"span",48),i()()()()()()()()()(),t(81,"div",49)(82,"div",24)(83,"div",25)(84,"div",26)(85,"h2"),o(86,"Add New Grade Scale"),i(),t(87,"div",27)(88,"span",28),T(),t(89,"svg",29),b(90,"rect",30)(91,"rect",31),i()()()(),R(),t(92,"div",32)(93,"form",50),g("ngSubmit",function(){return e.saveGradeScale()}),t(94,"div",34)(95,"label",35)(96,"span",36),o(97,"Lower Score Limit"),i()(),t(98,"input",51),C("ngModelChange",function(r){return S(e.lowerlimt,r)||(e.lowerlimt=r),r}),i()(),t(99,"div",34)(100,"label",35)(101,"span",36),o(102,"Upper Score Limit"),i()(),t(103,"input",52),C("ngModelChange",function(r){return S(e.upperlimit,r)||(e.upperlimit=r),r}),i()(),t(104,"div",34)(105,"label",35)(106,"span",36),o(107,"Grade"),i()(),t(108,"input",53),C("ngModelChange",function(r){return S(e.grade,r)||(e.grade=r),r}),i()(),t(109,"div",34)(110,"label",35)(111,"span",36),o(112,"Remarks"),i()(),t(113,"input",54),C("ngModelChange",function(r){return S(e.remarks,r)||(e.remarks=r),r}),i()(),t(114,"div",41)(115,"div",42)(116,"div",43)(117,"button",55),o(118,"Discard"),i()(),t(119,"div",43)(120,"button",56)(121,"span",46),o(122,"Submit"),i(),t(123,"span",47),o(124,"Please wait... "),b(125,"span",48),i()()()()()()()()()()}n&2&&(a(35),p("ngForOf",e.scaleList),a(18),f("ngModel",e.lowerlimt),a(5),f("ngModel",e.upperlimit),a(5),f("ngModel",e.grade),a(5),f("ngModel",e.remarks),a(30),f("ngModel",e.lowerlimt),a(5),f("ngModel",e.upperlimit),a(5),f("ngModel",e.grade),a(5),f("ngModel",e.remarks))},dependencies:[H,Y,q,Q,J,D,z,G,Z],styles:[".modalsmall2[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;z-index:8;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#000000e6}.modalsmallbox[_ngcontent-%COMP%]{border-bottom:solid 1px silver;background-color:#fff;border-radius:10px;width:22%}.smallmod[_ngcontent-%COMP%]{padding:3px 30px}.smallmod[_ngcontent-%COMP%]:hover{background-color:#a5d8f033;color:#07a8f3}#leaving[_ngcontent-%COMP%]{transition:margin-top .5s,color 1s}"]});let c=u;return c})();var j=class{constructor(){this.state=!1}},xe=class{};var ze=ne(oe());var Ze=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.sch=e,this.gen=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.CA1Jun=new j,this.CA2Jun=new j,this.CA3Jun=new j,this.CA4Jun=new j,this.CA5Jun=new j,this.CA6Jun=new j,this.CA7Jun=new j,this.CA8Jun=new j,this.CA9Jun=new j,this.examJun=new j,this.CA1Sen=new j,this.CA2Sen=new j,this.CA3Sen=new j,this.CA4Sen=new j,this.CA5Sen=new j,this.CA6Sen=new j,this.CA7Sen=new j,this.CA8Sen=new j,this.CA9Sen=new j,this.CA10Sen=new j,this.CA11Sen=new j,this.CA12Sen=new j,this.CA13Sen=new j,this.CA14Sen=new j,this.CA15Sen=new j,this.examSen=new j,this.destroy=new U,this.juniorSetupList=[],this.seniorSetupList=[],this.genk=d,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.genk.topdata="CA Setup"}getCaSetup(){this.sch.getCASetup().subscribe(s=>{this.caData=s,this.juniorSetupList=this.caData.filter(n=>n.class.toLowerCase()==this.levelCategory.toLowerCase()),this.CA1Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA1")),this.CA2Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA2")),this.CA3Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA3")),this.CA4Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA4")),this.CA5Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA5")),this.CA6Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA6")),this.CA7Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA7")),this.CA8Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA8")),this.CA9Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA9")),this.CA10Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA10")),this.CA11Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA11")),this.CA12Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA12")),this.CA13Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA13")),this.CA14Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA14")),this.CA15Sen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName=="CA15")),this.examSen=this.checkIsEmpty(this.juniorSetupList.filter(n=>n.systemName.toLowerCase()=="exam"))})}setCategory(s){this.levelCategory=s,this.getCaSetup()}onExam(s,n){s.status="Enabled",s.systemName="exam",s.actualName="exam",s.Class=this.levelCategory,s.maxScore=n}onSelect(s,n,e){n.status=s?"Enabled":"Disabled",n.systemName=e,n.Class=this.levelCategory,console.log("Is Checked? ",s)}checkEnabled(s){return s.state=s.status!="Disabled",s}checkIsEmpty(s){return s.length>0?this.checkEnabled(s[0]):new j}saveData(){let s=[],n=[];this.levelCategory&&(n=[this.CA1Sen,this.CA2Sen,this.CA3Sen,this.CA4Sen,this.CA5Sen,this.CA6Sen,this.CA7Sen,this.CA8Sen,this.CA9Sen,this.CA10Sen,this.CA11Sen,this.CA12Sen,this.CA13Sen,this.CA14Sen,this.CA15Sen,this.examSen],n.forEach(e=>{e.systemName&&(e.maxScore=Number(e.maxScore),s.push(e))}),this.sch.saveCaSetup(s).pipe(L(this.destroy)).subscribe(e=>{this.getCaSetup(),ze.default.fire({icon:"success",title:"CA-Setup saved successfully!.",showConfirmButton:!1,timer:2e3})}))}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(O),E(W))},u.\u0275cmp=N({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:178,vars:62,consts:[[1,"row"],[1,"col-lg-8","col-md-9","col-sm-12",2,"margin","0 auto"],[1,"card","mb-5","mb-xl-10"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],[2,"display","flex","align-items","center"],["name","levelcategory","data-control","select","data-placeholder","Select Class",1,"form-select","form-select-solid","fw-bolder",3,"value","change"],["cat",""],["disabled","","value","","selected",""],["value","SENIOR"],["value","JUNIOR"],["value","PRIMARY"],["value","NURSERY"],["id","kt_account_settings_profile_details",1,"collapse","show"],["id","kt_account_profile_details_form",1,"form",3,"ngSubmit"],[1,"card-body","border-top","col-lg-12"],[1,"row","mb-6"],[1,"col-lg-4","mt-8","form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox","name","ca1jun",1,"me-3","form-check-input",3,"checked","value","change"],[1,"col-form-label","fw-bold","fs-6"],[1,"col-lg-5","fv-row"],[1,"d-flex","align-items-center","fs-6","mb-3","fw-bold"],[1,""],["type","text","name","actualNameJunior1",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-lg-3","fv-row"],["type","number","name","maxScoreJunior1",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-lg-4","form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior2",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior2",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","actualNameJunior3",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior3",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca4sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior4",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior4",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca5sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior5",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior5",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca6sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior6",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior6",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca7sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameSenior7",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreSenior7",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca8sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior8",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior8",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca9sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior9",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior9",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca10sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior10",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior10",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca11sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior11",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior11",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca12sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior12",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior12",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca13sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior13",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior13",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca14sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior14",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior14",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","checkbox","name","ca15sen",1,"me-3","form-check-input",3,"checked","value","change"],["type","text","name","actualNameJunior15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","maxScoreJunior15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"col-lg-8","fv-row"],["type","number","name","examJun",1,"form-control","form-control-lg","form-control-solid",3,"value","change"],["examJunior",""],["type","number","placeholder","","value","100","disabled","",1,"form-control","form-control-lg","form-control-solid"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary"]],template:function(n,e){if(n&1){let d=I();t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),o(6,"CA Setup"),i()(),t(7,"div",6)(8,"select",7,8),g("change",function(){v(d);let r=k(9);return y(e.setCategory(r.value))}),t(10,"option",9),o(11,"Select Category"),i(),t(12,"option",10),o(13,"Senior School"),i(),t(14,"option",11),o(15,"Junior School"),i(),t(16,"option",12),o(17,"Primary School"),i(),t(18,"option",13),o(19,"Nursery School"),i()()()(),t(20,"div",14)(21,"form",15),g("ngSubmit",function(){return e.saveData()}),t(22,"div",16)(23,"div",17)(24,"div",18)(25,"input",19),g("change",function(r){return e.onSelect(r.target.checked,e.CA1Sen,"CA1")}),i(),t(26,"label",20),o(27,"Enable CA 1"),i()(),t(28,"div",21)(29,"label",22)(30,"span",23),o(31,"CA Caption"),i()(),t(32,"input",24),C("ngModelChange",function(r){return S(e.CA1Sen.actualName,r)||(e.CA1Sen.actualName=r),r}),i()(),t(33,"div",25)(34,"label",22)(35,"span",23),o(36,"Max Score"),i()(),t(37,"input",26),C("ngModelChange",function(r){return S(e.CA1Sen.maxScore,r)||(e.CA1Sen.maxScore=r),r}),i()()(),t(38,"div",17)(39,"div",27)(40,"input",28),g("change",function(r){return e.onSelect(r.target.checked,e.CA2Sen,"CA2")}),i(),t(41,"label",20),o(42,"Enable CA 2"),i()(),t(43,"div",21)(44,"input",29),C("ngModelChange",function(r){return S(e.CA2Sen.actualName,r)||(e.CA2Sen.actualName=r),r}),i()(),t(45,"div",25)(46,"input",30),C("ngModelChange",function(r){return S(e.CA2Sen.maxScore,r)||(e.CA2Sen.maxScore=r),r}),i()()(),t(47,"div",17)(48,"div",27)(49,"input",28),g("change",function(r){return e.onSelect(r.target.checked,e.CA3Sen,"CA3")}),i(),t(50,"label",20),o(51,"Enable CA 3"),i()(),t(52,"div",21)(53,"input",31),C("ngModelChange",function(r){return S(e.CA3Sen.actualName,r)||(e.CA3Sen.actualName=r),r}),i()(),t(54,"div",25)(55,"input",32),C("ngModelChange",function(r){return S(e.CA3Sen.maxScore,r)||(e.CA3Sen.maxScore=r),r}),i()()(),t(56,"div",17)(57,"div",27)(58,"input",33),g("change",function(r){return e.onSelect(r.target.checked,e.CA4Sen,"CA4")}),i(),t(59,"label",20),o(60,"Enable CA 4"),i()(),t(61,"div",21)(62,"input",34),C("ngModelChange",function(r){return S(e.CA4Sen.actualName,r)||(e.CA4Sen.actualName=r),r}),i()(),t(63,"div",25)(64,"input",35),C("ngModelChange",function(r){return S(e.CA4Sen.maxScore,r)||(e.CA4Sen.maxScore=r),r}),i()()(),t(65,"div",17)(66,"div",27)(67,"input",36),g("change",function(r){return e.onSelect(r.target.checked,e.CA5Sen,"CA5")}),i(),t(68,"label",20),o(69,"Enable CA 5"),i()(),t(70,"div",21)(71,"input",37),C("ngModelChange",function(r){return S(e.CA5Sen.actualName,r)||(e.CA5Sen.actualName=r),r}),i()(),t(72,"div",25)(73,"input",38),C("ngModelChange",function(r){return S(e.CA5Sen.maxScore,r)||(e.CA5Sen.maxScore=r),r}),i()()(),t(74,"div",17)(75,"div",27)(76,"input",39),g("change",function(r){return e.onSelect(r.target.checked,e.CA6Sen,"CA6")}),i(),t(77,"label",20),o(78,"Enable CA 6"),i()(),t(79,"div",21)(80,"input",40),C("ngModelChange",function(r){return S(e.CA6Sen.actualName,r)||(e.CA6Sen.actualName=r),r}),i()(),t(81,"div",25)(82,"input",41),C("ngModelChange",function(r){return S(e.CA6Sen.maxScore,r)||(e.CA6Sen.maxScore=r),r}),i()()(),t(83,"div",17)(84,"div",27)(85,"input",42),g("change",function(r){return e.onSelect(r.target.checked,e.CA7Sen,"CA7")}),i(),t(86,"label",20),o(87,"Enable CA 7"),i()(),t(88,"div",21)(89,"input",43),C("ngModelChange",function(r){return S(e.CA7Sen.actualName,r)||(e.CA7Sen.actualName=r),r}),i()(),t(90,"div",25)(91,"input",44),C("ngModelChange",function(r){return S(e.CA7Sen.maxScore,r)||(e.CA7Sen.maxScore=r),r}),i()()(),t(92,"div",17)(93,"div",27)(94,"input",45),g("change",function(r){return e.onSelect(r.target.checked,e.CA8Sen,"CA8")}),i(),t(95,"label",20),o(96,"Enable CA 8"),i()(),t(97,"div",21)(98,"input",46),C("ngModelChange",function(r){return S(e.CA8Sen.actualName,r)||(e.CA8Sen.actualName=r),r}),i()(),t(99,"div",25)(100,"input",47),C("ngModelChange",function(r){return S(e.CA8Sen.maxScore,r)||(e.CA8Sen.maxScore=r),r}),i()()(),t(101,"div",17)(102,"div",27)(103,"input",48),g("change",function(r){return e.onSelect(r.target.checked,e.CA9Sen,"CA9")}),i(),t(104,"label",20),o(105,"Enable CA 9"),i()(),t(106,"div",21)(107,"input",49),C("ngModelChange",function(r){return S(e.CA9Sen.actualName,r)||(e.CA9Sen.actualName=r),r}),i()(),t(108,"div",25)(109,"input",50),C("ngModelChange",function(r){return S(e.CA9Sen.maxScore,r)||(e.CA9Sen.maxScore=r),r}),i()()(),t(110,"div",17)(111,"div",27)(112,"input",51),g("change",function(r){return e.onSelect(r.target.checked,e.CA10Sen,"CA10")}),i(),t(113,"label",20),o(114,"Enable CA 10"),i()(),t(115,"div",21)(116,"input",52),C("ngModelChange",function(r){return S(e.CA10Sen.actualName,r)||(e.CA10Sen.actualName=r),r}),i()(),t(117,"div",25)(118,"input",53),C("ngModelChange",function(r){return S(e.CA10Sen.maxScore,r)||(e.CA10Sen.maxScore=r),r}),i()()(),t(119,"div",17)(120,"div",27)(121,"input",54),g("change",function(r){return e.onSelect(r.target.checked,e.CA11Sen,"CA11")}),i(),t(122,"label",20),o(123,"Enable CA 11"),i()(),t(124,"div",21)(125,"input",55),C("ngModelChange",function(r){return S(e.CA11Sen.actualName,r)||(e.CA11Sen.actualName=r),r}),i()(),t(126,"div",25)(127,"input",56),C("ngModelChange",function(r){return S(e.CA11Sen.maxScore,r)||(e.CA11Sen.maxScore=r),r}),i()()(),t(128,"div",17)(129,"div",27)(130,"input",57),g("change",function(r){return e.onSelect(r.target.checked,e.CA12Sen,"CA12")}),i(),t(131,"label",20),o(132,"Enable CA 12"),i()(),t(133,"div",21)(134,"input",58),C("ngModelChange",function(r){return S(e.CA12Sen.actualName,r)||(e.CA12Sen.actualName=r),r}),i()(),t(135,"div",25)(136,"input",59),C("ngModelChange",function(r){return S(e.CA12Sen.maxScore,r)||(e.CA12Sen.maxScore=r),r}),i()()(),t(137,"div",17)(138,"div",27)(139,"input",60),g("change",function(r){return e.onSelect(r.target.checked,e.CA13Sen,"CA13")}),i(),t(140,"label",20),o(141,"Enable CA 13"),i()(),t(142,"div",21)(143,"input",61),C("ngModelChange",function(r){return S(e.CA13Sen.actualName,r)||(e.CA13Sen.actualName=r),r}),i()(),t(144,"div",25)(145,"input",62),C("ngModelChange",function(r){return S(e.CA13Sen.maxScore,r)||(e.CA13Sen.maxScore=r),r}),i()()(),t(146,"div",17)(147,"div",27)(148,"input",63),g("change",function(r){return e.onSelect(r.target.checked,e.CA14Sen,"CA14")}),i(),t(149,"label",20),o(150,"Enable CA 14"),i()(),t(151,"div",21)(152,"input",64),C("ngModelChange",function(r){return S(e.CA14Sen.actualName,r)||(e.CA14Sen.actualName=r),r}),i()(),t(153,"div",25)(154,"input",65),C("ngModelChange",function(r){return S(e.CA14Sen.maxScore,r)||(e.CA14Sen.maxScore=r),r}),i()()(),t(155,"div",17)(156,"div",27)(157,"input",66),g("change",function(r){return e.onSelect(r.target.checked,e.CA15Sen,"CA15")}),i(),t(158,"label",20),o(159,"Enable CA 15"),i()(),t(160,"div",21)(161,"input",67),C("ngModelChange",function(r){return S(e.CA15Sen.actualName,r)||(e.CA15Sen.actualName=r),r}),i()(),t(162,"div",25)(163,"input",68),C("ngModelChange",function(r){return S(e.CA15Sen.maxScore,r)||(e.CA15Sen.maxScore=r),r}),i()()(),t(164,"div",17)(165,"label",69),o(166,"Exam Score"),i(),t(167,"div",70)(168,"input",71,72),g("change",function(){v(d);let r=k(169);return y(e.onExam(e.examSen,r.value))}),i()()(),t(170,"div",17)(171,"label",69),o(172,"Total Score"),i(),t(173,"div",70),b(174,"input",73),i()()(),t(175,"div",74)(176,"button",75),o(177,"Save Changes"),i()()()()()()()}n&2&&(a(8),p("value",e.levelCategory),a(17),p("checked",e.CA1Sen.state)("value",e.CA1Sen.state),a(7),f("ngModel",e.CA1Sen.actualName),a(5),f("ngModel",e.CA1Sen.maxScore),a(3),p("checked",e.CA2Sen.state)("value",e.CA2Sen.state),a(4),f("ngModel",e.CA2Sen.actualName),a(2),f("ngModel",e.CA2Sen.maxScore),a(3),p("checked",e.CA3Sen.state)("value",e.CA3Sen.state),a(4),f("ngModel",e.CA3Sen.actualName),a(2),f("ngModel",e.CA3Sen.maxScore),a(3),p("checked",e.CA4Sen==null?null:e.CA4Sen.state)("value",e.CA4Sen==null?null:e.CA4Sen.state),a(4),f("ngModel",e.CA4Sen.actualName),a(2),f("ngModel",e.CA4Sen.maxScore),a(3),p("checked",e.CA5Sen==null?null:e.CA5Sen.state)("value",e.CA5Sen.state),a(4),f("ngModel",e.CA5Sen.actualName),a(2),f("ngModel",e.CA5Sen.maxScore),a(3),p("checked",e.CA6Sen==null?null:e.CA6Sen.state)("value",e.CA6Sen.state),a(4),f("ngModel",e.CA6Sen.actualName),a(2),f("ngModel",e.CA6Sen.maxScore),a(3),p("checked",e.CA7Sen==null?null:e.CA7Sen.state)("value",e.CA7Sen.state),a(4),f("ngModel",e.CA7Sen.actualName),a(2),f("ngModel",e.CA7Sen.maxScore),a(3),p("checked",e.CA8Sen==null?null:e.CA8Sen.state)("value",e.CA8Sen.state),a(4),f("ngModel",e.CA8Sen.actualName),a(2),f("ngModel",e.CA8Sen.maxScore),a(3),p("checked",e.CA9Sen==null?null:e.CA9Sen.state)("value",e.CA9Sen.state),a(4),f("ngModel",e.CA9Sen.actualName),a(2),f("ngModel",e.CA9Sen.maxScore),a(3),p("checked",e.CA10Sen==null?null:e.CA10Sen.state)("value",e.CA10Sen.state),a(4),f("ngModel",e.CA10Sen.actualName),a(2),f("ngModel",e.CA10Sen.maxScore),a(3),p("checked",e.CA11Sen==null?null:e.CA11Sen.state)("value",e.CA11Sen.state),a(4),f("ngModel",e.CA11Sen.actualName),a(2),f("ngModel",e.CA11Sen.maxScore),a(3),p("checked",e.CA12Sen==null?null:e.CA12Sen.state)("value",e.CA12Sen.state),a(4),f("ngModel",e.CA12Sen.actualName),a(2),f("ngModel",e.CA12Sen.maxScore),a(3),p("checked",e.CA13Sen==null?null:e.CA13Sen.state)("value",e.CA13Sen.state),a(4),f("ngModel",e.CA13Sen.actualName),a(2),f("ngModel",e.CA13Sen.maxScore),a(3),p("checked",e.CA14Sen==null?null:e.CA14Sen.state)("value",e.CA14Sen.state),a(4),f("ngModel",e.CA14Sen.actualName),a(2),f("ngModel",e.CA14Sen.maxScore),a(3),p("checked",e.CA15Sen==null?null:e.CA15Sen.state)("value",e.CA15Sen.state),a(4),f("ngModel",e.CA15Sen.actualName),a(2),f("ngModel",e.CA15Sen.maxScore),a(5),p("value",e.examSen.maxScore))},dependencies:[Y,q,Q,J,we,D,z,G,Z],styles:[".modalsmall2[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;z-index:8;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#000000e6}.modalsmallbox[_ngcontent-%COMP%]{border-bottom:solid 1px silver;background-color:#fff;border-radius:10px;width:22%}.smallmod[_ngcontent-%COMP%]{padding:3px 30px}.smallmod[_ngcontent-%COMP%]:hover{background-color:#a5d8f033;color:#07a8f3}#leaving[_ngcontent-%COMP%]{transition:margin-top .5s,color 1s}"]});let c=u;return c})();var Ce=ne(oe());function ot(c,u){if(c&1){let m=I();t(0,"tr",26)(1,"td",27),o(2),i(),t(3,"td"),o(4),i(),t(5,"td",30)(6,"button",40),g("click",function(){let e=v(m).$implicit,d=w();return y(d.deleteMotor(e.id))}),t(7,"span",32),T(),t(8,"svg",33),b(9,"path",34)(10,"path",35)(11,"path",36),i()()()()()}if(c&2){let m=u.$implicit;a(2),K(" ",m.skills," "),a(2),K(" ",m.maxScore," ")}}var Ye=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.gen=e,this.sch=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.destroy=new U,this.motorlist=[],this.genk=e,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.getPsycomotor()}getPsycomotor(){this.sch.getPsycomotor().subscribe(s=>{this.motorlist=s})}saveMotor(){Ce.default.fire({title:"Saving Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Ce.default.showLoading(),this.sch.saveMotor(this.name,this.maxScore.toString()).pipe(L(this.destroy)).subscribe(s=>{Ce.default.close(),this.getPsycomotor()})}}).then(s=>{Ce.default.fire({icon:"success",title:"Psycomotor saved successfully!.",showConfirmButton:!1,timer:2e3})})}deleteMotor(s){this.sch.deletePsycomotor(s.toString()).subscribe(n=>{this.getPsycomotor(),Ce.default.fire({icon:"success",title:"Psycomotor deleted successfully!.",showConfirmButton:!1,timer:2e3})})}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(W),E(O))},u.\u0275cmp=N({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:52,vars:3,consts:[[1,"flex-lg-row-fluid","mb-10","mb-lg-0","me-lg-7","me-xl-10"],[1,"card"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],[1,"card-body","border-top","p-9"],[1,"mb-0"],[1,"table-responsive","mb-10"],["action","","id","kt_invoice_form",1,"card-body","border-bottom","p-9",3,"ngSubmit"],[1,"mb-9",2,"display","flex"],[1,"min-w-300px","w-475px","pe-7"],[2,"font-weight","bold","color","black"],["type","text","name","name[]","placeholder","Pyschomotor Name",1,"form-control","form-control-solid","mb-2",3,"ngModel","ngModelChange"],["inpu",""],[1,"ps-0"],["type","number","min","1","name","quantity[]","placeholder","1",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"text-primary"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary"],["data-kt-element","items",1,"table","g-5","gs-0","mb-0","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"min-w-250px","w-375px"],[1,"min-w-150px","w-150px"],[1,"min-w-75px","w-75px","text-end"],["tibo",""],["class","border-bottom border-bottom-dashed","data-kt-element","item",4,"ngFor","ngForOf"],["data-kt-element","item-template",1,"table","d-none"],["data-kt-element","item",1,"border-bottom","border-bottom-dashed"],[1,"pe-7"],["type","text","name","name[]","placeholder","Pyschomotor Name",1,"form-control","form-control-solid","mb-2"],["type","number","min","1","name","quantity[]","placeholder","","value","",1,"form-control","form-control-solid"],[1,"pt-5","text-end"],["type","button","data-kt-element","remove-item",1,"btn","btn-sm","btn-icon","btn-active-color-primary"],[1,"svg-icon","svg-icon-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M5 9C5 8.44772 5.44772 8 6 8H18C18.5523 8 19 8.44772 19 9V18C19 19.6569 17.6569 21 16 21H8C6.34315 21 5 19.6569 5 18V9Z","fill","currentColor"],["opacity","0.5","d","M5 5C5 4.44772 5.44772 4 6 4H18C18.5523 4 19 4.44772 19 5V5C19 5.55228 18.5523 6 18 6H6C5.44772 6 5 5.55228 5 5V5Z","fill","currentColor"],["opacity","0.5","d","M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4V4H9V4Z","fill","currentColor"],["data-kt-element","empty-template",1,"table","d-none"],["data-kt-element","empty"],["colspan","5",1,"text-muted","text-center","py-10"],["type","button","data-kt-element","remove-item",1,"btn","btn-sm","btn-icon","btn-active-color-primary",3,"click"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),o(5,"Psychomotor Setup"),i()()(),t(6,"div",5)(7,"div",6)(8,"div",7)(9,"form",8),g("ngSubmit",function(){return e.saveMotor()}),t(10,"div",9)(11,"div",10)(12,"label",11),o(13,"Name"),i(),t(14,"input",12,13),C("ngModelChange",function(l){return S(e.name,l)||(e.name=l),l}),i()(),t(16,"div",14)(17,"label",11),o(18,"Maximum score"),i(),t(19,"input",15),C("ngModelChange",function(l){return S(e.maxScore,l)||(e.maxScore=l),l}),i()()(),t(20,"div",16)(21,"button",17),o(22,"Save Psychomotor"),i()()(),t(23,"table",18)(24,"thead")(25,"tr",19)(26,"th",20),o(27,"Name"),i(),t(28,"th",21),o(29,"Maximum Score"),i(),t(30,"th",22),o(31,"Action"),i()()(),t(32,"tbody",null,23),M(34,ot,12,2,"tr",24),i()()(),t(35,"table",25)(36,"tr",26)(37,"td",27),b(38,"input",28),i(),t(39,"td",14),b(40,"input",29),i(),t(41,"td",30)(42,"button",31)(43,"span",32),T(),t(44,"svg",33),b(45,"path",34)(46,"path",35)(47,"path",36),i()()()()()(),R(),t(48,"table",37)(49,"tr",38)(50,"th",39),o(51,"No items"),i()()()()()()()),n&2&&(a(14),f("ngModel",e.name),a(5),f("ngModel",e.maxScore),a(15),p("ngForOf",e.motorlist))},dependencies:[H,Y,J,we,D,z,Ne,G,Z],styles:[".modalsmall2[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;z-index:8;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#000000e6}.modalsmallbox[_ngcontent-%COMP%]{border-bottom:solid 1px silver;background-color:#fff;border-radius:10px;width:22%}.smallmod[_ngcontent-%COMP%]{padding:3px 30px}.smallmod[_ngcontent-%COMP%]:hover{background-color:#a5d8f033;color:#07a8f3}#leaving[_ngcontent-%COMP%]{transition:margin-top .5s,color 1s}"]});let c=u;return c})();var pe=ne(oe());function st(c,u){if(c&1){let m=I();t(0,"tr")(1,"td"),o(2," First Term "),i(),t(3,"td"),o(4),ue(5,"date"),i(),t(6,"td"),o(7),ue(8,"date"),i(),t(9,"td"),o(10),i(),t(11,"td")(12,"a",103),g("click",function(){v(m);let n=w().$implicit,e=w();return y(e.deleteTerm(n,"FIRST"))}),t(13,"span",6),T(),t(14,"svg",7),b(15,"path",92)(16,"path",93)(17,"path",94),i()()()()()}if(c&2){let m=w().$implicit,s=w();a(4),P(he(5,3,m.firstTermStart)),a(3),P(he(8,5,m.firstTermEnd)),a(3),P(s.getWeeks(m.firstTermStart,m.firstTermEnd)+" Weeks")}}function rt(c,u){if(c&1){let m=I();t(0,"tr")(1,"td"),o(2," Second Term "),i(),t(3,"td"),o(4),ue(5,"date"),i(),t(6,"td"),o(7),ue(8,"date"),i(),t(9,"td"),o(10),i(),t(11,"td")(12,"a",103),g("click",function(){v(m);let n=w().$implicit,e=w();return y(e.deleteTerm(n,"SECOND"))}),t(13,"span",6),T(),t(14,"svg",7),b(15,"path",92)(16,"path",93)(17,"path",94),i()()()()()}if(c&2){let m=w().$implicit,s=w();a(4),P(he(5,3,m.secondTermStart)),a(3),P(he(8,5,m.secondTermEnd)),a(3),P(s.getWeeks(m.secondTermStart,m.secondTermEnd)+" Weeks")}}function lt(c,u){if(c&1){let m=I();t(0,"tr")(1,"td"),o(2," Third Term "),i(),t(3,"td"),o(4),ue(5,"date"),i(),t(6,"td"),o(7),ue(8,"date"),i(),t(9,"td"),o(10),i(),t(11,"td")(12,"a",103),g("click",function(){v(m);let n=w().$implicit,e=w();return y(e.deleteTerm(n,"THIRD"))}),t(13,"span",6),T(),t(14,"svg",7),b(15,"path",92)(16,"path",93)(17,"path",94),i()()()()()}if(c&2){let m=w().$implicit,s=w();a(4),P(he(5,3,m.thirdTermStart)),a(3),P(he(8,5,m.thirdTermEnd)),a(3),P(s.getWeeks(m.thirdTermStart,m.thirdTermEnd)+" Weeks")}}function at(c,u){if(c&1){let m=I();t(0,"tr")(1,"a",104),g("click",function(){v(m);let n=w().$implicit,e=w();return y(e.selectedSession=n)}),t(2,"span",6),T(),t(3,"svg",7),b(4,"rect",8)(5,"rect",9)(6,"rect",10),i()(),o(7,"Add New Term"),i()()}}function dt(c,u){if(c&1){let m=I();t(0,"div",82)(1,"div",83)(2,"a",84)(3,"div",85)(4,"span",6),T(),t(5,"svg",7),b(6,"path",86),i()()(),R(),t(7,"div",87)(8,"div",88)(9,"div",89),o(10),i()()()(),t(11,"div",90)(12,"a",91),g("click",function(){let e=v(m).$implicit,d=w();return y(d.deleteSession(e.id))}),t(13,"span",6),T(),t(14,"svg",7),b(15,"path",92)(16,"path",93)(17,"path",94),i()()()()(),R(),t(18,"div",95)(19,"table",96)(20,"thead",97)(21,"tr",98)(22,"th",99),o(23,"Term"),i(),t(24,"th",99),o(25,"Start Date"),i(),t(26,"th",99),o(27,"End Date"),i(),t(28,"th",99),o(29,"Number of Weeks"),i(),b(30,"th",100),i()(),t(31,"tbody",101),M(32,st,18,7,"tr",102)(33,rt,18,7,"tr",102)(34,lt,18,7,"tr",102)(35,at,8,0,"tr",102),i()()()()}if(c&2){let m=u.$implicit,s=u.index,n=w();a(2),p("href","#kt_customer_view_payment_method_1"+s,ce),a(8),P(n.addtwenty(m.sessionName)),a(8),p("id","kt_customer_view_payment_method_1"+s),a(14),p("ngIf",m.firstTermStart),a(),p("ngIf",m.secondTermStart),a(),p("ngIf",m.thirdTermStart),a(),p("ngIf",!m.firstTermStart||n.secondTermStart||!m.thirdTermStart)}}function mt(c,u){if(c&1&&(t(0,"option",105),o(1),i()),c&2){let m=u.$implicit;p("value",m.id),a(),P(m.sessionName)}}function ct(c,u){if(c&1&&(t(0,"option",105),o(1),i()),c&2){let m=u.$implicit;p("value",m.id),a(),P(m.sessionName)}}function ut(c,u){if(c&1&&(t(0,"option",105),o(1),i()),c&2){let m=u.$implicit;p("value",m),a(),P(m)}}function ht(c,u){if(c&1&&(t(0,"option",105),o(1),i()),c&2){let m=u.$implicit;p("value",m),a(),P(m)}}var Ke=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.sch=e,this.gen=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.mysession=new xe,this.sessionlist=[],this.genk=d,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.getSession(),this.getCurrentSession()}getSession(){this.sch.getSession().subscribe(s=>{this.sessionlist=s})}createSessions(){let n=new Date().getFullYear();return[n-2+"/"+(n-1).toString().substring(2,4),n-1+"/"+(n-0).toString().substring(2,4),n-0+"/"+(n+1).toString().substring(2,4),n+1+"/"+(n+2).toString().substring(2,4),n+2+"/"+(n+3).toString().substring(2,4)]}saveSession(){this.sch.createSession(this.mysession).subscribe(s=>{this.getSession()})}setSession(){let s=this.sessionlist.filter(n=>n.id==this.currentSessionId)[0];this.sch.setCurrentSession(s.id,s.sessionName).subscribe(n=>{this.setTerm()})}setTerm(){this.sch.setTerm(this.currentTerm).subscribe(s=>{pe.default.fire({icon:"success",title:"Current Session & Term updated successfully!.",showConfirmButton:!1,timer:2e3})})}getCurrentSession(){this.sch.getCurrentSession().subscribe(s=>{this.currentSessionObj=s,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm),this.getNextTerm()})}saveResumptiondate(){this.nextSession=this.sessionlist.filter(s=>s.id==this.nextSessionId)[0].sessionName,this.sch.saveResumptiondate(this.nextSession,this.nextSessionId.toString(),this.currentTerm,this.nextResumptionDate).subscribe(s=>{pe.default.fire({icon:"success",title:"Resumption Date updated successfully!.",showConfirmButton:!1,timer:2e3})})}getNextTerm(){this.sch.getNextTerm(this.currentSessionId.toString(),this.currentTerm).subscribe(s=>{s?(this.nextResumptionDate=s.date,this.nextSessionId=s.sessionId,this.nextSession=s.session?s.session:this.currentSessionObj.sessionName):this.nextSession=this.currentSessionObj.sessionName})}deleteSession(s){pe.default.fire({title:"Do you really want to delete this session. Results uploaded for this session might be deleted?",showCancelButton:!0,confirmButtonText:"Yes, Delete"}).then(n=>{n.isConfirmed&&this.sch.deleteSession(s.toString()).subscribe(e=>{this.getSession(),pe.default.fire({icon:"success",title:"Session deleted successfully!.",showConfirmButton:!1,timer:2e3})})})}addtwenty(s){return s.substring(0,5)+"20"+s.substring(5,8)}getWeeks(s,n){let d=new Date(s),l=new Date(n),r=Date.UTC(d.getFullYear(),d.getMonth(),d.getDate()),h=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate());return Math.floor((h-r)/6048e5)}addTerm(){let s={id:this.selectedSession.id,sessionName:this.selectedSession.sessionName,term:this.selectedTerm,startDate:this.startDate,endDate:this.endDate};this.sch.createTerm(s).subscribe(n=>{this.getSession(),pe.default.fire({icon:"success",title:"Session Term added successfully!.",showConfirmButton:!1,timer:2e3})})}editTerm(){let s={id:this.selectedSession.id,sessionName:this.selectedSession.sessionName,term:this.selectedTerm,startDate:this.startDate,endDate:this.endDate};this.sch.editTerm(s).subscribe(n=>{})}deleteTerm(s,n){let e={id:s.id,sessionName:s.sessionName,term:n};this.sch.deleteTerm(e).subscribe(d=>{this.getSession(),pe.default.fire({icon:"success",title:"Session Term added successfully!.",showConfirmButton:!1,timer:2e3})})}calcNextTerm(s){return s=="FIRST"?"SECOND":s=="SECOND"?"THIRD":s=="THIRD"?"FIRST":s}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(O),E(W))},u.\u0275cmp=N({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:338,vars:23,consts:[[1,"card","pt-4","mb-6","mb-xl-9"],[1,"card-header","border-0"],[1,"card-title"],[1,"fw-bolder","mb-0"],[1,"card-toolbar"],["href","#","data-bs-toggle","modal","data-bs-target","#kt_modal_new_card_session",1,"btn","btn-sm","btn-flex","btn-light-primary"],[1,"svg-icon","svg-icon-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.3","x","2","y","2","width","20","height","20","rx","5","fill","currentColor"],["x","10.8891","y","17.8033","width","12","height","2","rx","1","transform","rotate(-90 10.8891 17.8033)","fill","currentColor"],["x","6.01041","y","10.9247","width","12","height","2","rx","1","fill","currentColor"],["id","kt_customer_view_payment_method",1,"card-body","pt-0"],["class","py-0","data-kt-customer-payment-method","row",4,"ngFor","ngForOf"],[1,"col-lg-6","col-sm-12"],[1,"card","mb-5","mb-xl-10"],[1,"row"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_settings_profile_details",1,"collapse","show"],["id","kt_account_profile_details_form",1,"form",3,"ngSubmit"],[1,"card-body","border-top","p-9"],[1,"d-flex","flex-column","mb-7","fv-row"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["name","calass","aria-label","Select class","data-control","select1",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],[1,""],["name","class","aria-label","Select class","data-control","select1",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","FIRST"],["value","SECOND"],["value","THIRD"],[1,"text-center","pt-5","mb-5"],["type","submit","id","kt_modal_new_grade_submit",1,"btn","btn-primary","w-100"],[1,"indicator-label"],[1,"indicator-progress","d-none"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["name","celass","aria-label","Select class","data-control","select1",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","","selected",""],["type","date","id","daterangepicker","name","nextResume","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["id","kt_modal_new_card_session","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-icon","btn-active-color-primary"],[1,"svg-icon","svg-icon-1"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-25"],["id","kt_modal_new_card_form",1,"form",3,"ngSubmit"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["type","text","placeholder","","value","First Term","disabled","",1,"form-control","form-control-solid"],["type","date","id","daterangepicker","placeholder","","name","firstTermStart",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","placeholder","","name","firstTermEnd",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"text-center","mb-0","pt-5"],[1,"col-6"],["type","reset","id","kt_modal_new_card1_cancel",1,"btn","btn-light","me-3","w-100"],["type","submit","id","kt_modal_new_card1_submit",1,"btn","btn-primary","w-100"],["id","kt_modal_new_card_addterm","tabindex","-1","aria-hidden","true",1,"modal","fade"],["type","text","placeholder","","disabled","",1,"form-control","form-control-solid",3,"value"],["selected","","disabled",""],["type","date","id","daterangepicker","placeholder","","name","addstartDate",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","placeholder","","name","addendDate",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","reset","id","kt_modal_new_card_cancel",1,"btn","btn-light","me-3","w-100"],["type","submit","id","kt_modal_new_card_submit",1,"btn","btn-primary","w-100"],["id","kt_modal_new_card","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_new_card_form","action","#",1,"form"],["type","text","placeholder","","value","",1,"form-control","form-control-solid"],["type","date","id","daterangepicker","placeholder","","value","",1,"form-control","form-control-solid"],[1,"text-center","pt-15"],["id","kt_modal_new_grade","tabindex","-1","aria-hidden","true",1,"modal","fade"],["id","kt_modal_new_grade_form",1,"form",3,"ngSubmit"],["type","date","id","daterangepicker","name","firstTermStart",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","name","firstTermEnd",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","name","secondTermStart",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","name","secondTermEnd",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","name","thirdTermStart",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","date","id","daterangepicker","name","thirdTermEnd",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","reset","id","kt_modal_new_grade_cancel",1,"btn","btn-light","me-3","w-100"],["data-kt-customer-payment-method","row",1,"py-0"],[1,"py-3","d-flex","flex-stack","flex-wrap"],["data-bs-toggle","collapse","role","button","aria-expanded","false","aria-controls","kt_customer_view_payment_method_1",1,"d-flex","align-items-center","collapsible","rotate",3,"href"],[1,"me-3","rotate-90"],["d","M12.6343 12.5657L8.45001 16.75C8.0358 17.1642 8.0358 17.8358 8.45001 18.25C8.86423 18.6642 9.5358 18.6642 9.95001 18.25L15.4929 12.7071C15.8834 12.3166 15.8834 11.6834 15.4929 11.2929L9.95001 5.75C9.5358 5.33579 8.86423 5.33579 8.45001 5.75C8.0358 6.16421 8.0358 6.83579 8.45001 7.25L12.6343 11.4343C12.9467 11.7467 12.9467 12.2533 12.6343 12.5657Z","fill","currentColor"],[1,"me-3"],[1,"d-flex","align-items-center"],[1,"text-gray-800","fs-5","fw-bolder"],[1,"d-flex","my-3","ms-9"],["data-bs-toggle","tooltip","title","Delete","data-kt-customer-payment-method","delete",1,"btn","btn-icon","btn-active-light-primary","w-30px","h-30px","me-3",3,"click"],["d","M5 9C5 8.44772 5.44772 8 6 8H18C18.5523 8 19 8.44772 19 9V18C19 19.6569 17.6569 21 16 21H8C6.34315 21 5 19.6569 5 18V9Z","fill","currentColor"],["opacity","0.5","d","M5 5C5 4.44772 5.44772 4 6 4H18C18.5523 4 19 4.44772 19 5V5C19 5.55228 18.5523 6 18 6H6C5.44772 6 5 5.55228 5 5V5Z","fill","currentColor"],["opacity","0.5","d","M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4V4H9V4Z","fill","currentColor"],[1,"collapse","fs-6","ps-10",3,"id"],["id","kt_table_customers_payment",1,"table","align-middle","table-row-dashed","gy-5"],[1,"border-bottom","border-gray-200","fs-7","fw-bolder"],[1,"text-start","text-muted","text-uppercase","gs-0"],[1,"min-w-100px"],[1,"w-100px","text-end"],[1,"fs-6","fw-bold","text-gray-600"],[4,"ngIf"],["data-bs-toggle","tooltip","title","Delete","data-kt-customer-payment-method","delete",1,"btn","btn-icon","btn-active-light-primary","w-30px","h-10px","me-3",3,"click"],["href","#","data-bs-toggle","modal","data-bs-target","#kt_modal_new_card_addterm",1,"btn","btn-sm","btn-flex","btn-light-primary",3,"click"],[3,"value"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o(4,"Sessions"),i()(),t(5,"div",4)(6,"a",5)(7,"span",6),T(),t(8,"svg",7),b(9,"rect",8)(10,"rect",9)(11,"rect",10),i()(),o(12," Add new Session"),i()()(),R(),t(13,"div",11),M(14,dt,36,7,"div",12),i()(),t(15,"div",13),b(16,"div",14),i(),t(17,"div",15)(18,"div",13)(19,"div",14)(20,"div",16)(21,"div",17)(22,"h3",18),o(23,"Manage Term"),i()()(),t(24,"div",19)(25,"form",20),g("ngSubmit",function(){return e.setSession()}),t(26,"div",21)(27,"div",22)(28,"label",23)(29,"span",24),o(30," Current Session"),i()(),t(31,"select",25),C("ngModelChange",function(l){return S(e.currentSessionId,l)||(e.currentSessionId=l),l}),t(32,"option",26),o(33,"Select Session..."),i(),M(34,mt,2,2,"option",27),i()(),t(35,"div",15)(36,"div",28)(37,"div",22)(38,"label",23)(39,"span",29),o(40,"Current Term"),i()(),t(41,"select",30),C("ngModelChange",function(l){return S(e.currentTerm,l)||(e.currentTerm=l),l}),t(42,"option",31),o(43,"First"),i(),t(44,"option",32),o(45,"Second"),i(),t(46,"option",33),o(47,"Third"),i()()()()(),t(48,"div",34)(49,"div",15)(50,"div",28)(51,"button",35)(52,"span",36),o(53,"Change Session & Term"),i(),t(54,"span",37),o(55,"Please wait... "),b(56,"span",38),i()()()()()()()()()(),t(57,"div",13)(58,"div",14)(59,"div",16)(60,"div",17)(61,"h3",18),o(62,"Next Term Settings"),i()()(),t(63,"div",19)(64,"form",20),g("ngSubmit",function(){return e.saveResumptiondate()}),t(65,"div",21)(66,"div",22)(67,"label",23)(68,"span",24),o(69,"Session"),i()(),t(70,"select",39),C("ngModelChange",function(l){return S(e.nextSessionId,l)||(e.nextSessionId=l),l}),t(71,"option",40),o(72,"Select Session..."),i(),M(73,ct,2,2,"option",27),i()(),t(74,"div",15)(75,"div",28)(76,"div",22)(77,"label",23)(78,"span",29),o(79,"Next Term Resumption Date"),i()(),t(80,"input",41),C("ngModelChange",function(l){return S(e.nextResumptionDate,l)||(e.nextResumptionDate=l),l}),i()()()(),t(81,"div",34)(82,"div",15)(83,"div",28)(84,"button",35)(85,"span",36),o(86,"Save"),i(),t(87,"span",37),o(88,"Please wait... "),b(89,"span",38),i()()()()()()()()()()(),t(90,"div",42)(91,"div",43)(92,"div",44)(93,"div",45)(94,"h2"),o(95,"Add New Session"),i(),t(96,"div",46)(97,"span",47),T(),t(98,"svg",7),b(99,"rect",48)(100,"rect",49),i()()()(),R(),t(101,"div",50)(102,"form",51),g("ngSubmit",function(){return e.saveSession()}),t(103,"div",22)(104,"label",23)(105,"span",24),o(106,"Session"),i()(),t(107,"select",52),C("ngModelChange",function(l){return S(e.mysession.sessionName,l)||(e.mysession.sessionName=l),l}),t(108,"option",26),o(109,"Select Session..."),i(),M(110,ut,2,2,"option",27),i()(),t(111,"div",22)(112,"label",23)(113,"span",24),o(114,"Term"),i()(),b(115,"input",53),i(),t(116,"div",15)(117,"div",28)(118,"div",22)(119,"label",23)(120,"span",29),o(121," Start Date"),i()(),t(122,"input",54),C("ngModelChange",function(l){return S(e.mysession.firstTermStart,l)||(e.mysession.firstTermStart=l),l}),i()()()(),t(123,"div",15)(124,"div",28)(125,"div",22)(126,"label",23)(127,"span",29),o(128,"End Date"),i()(),t(129,"input",55),C("ngModelChange",function(l){return S(e.mysession.firstTermEnd,l)||(e.mysession.firstTermEnd=l),l}),i()()()(),t(130,"div",56)(131,"div",15)(132,"div",57)(133,"button",58),o(134,"Discard"),i()(),t(135,"div",57)(136,"button",59)(137,"span",36),o(138,"Submit"),i(),t(139,"span",37),o(140,"Please wait... "),b(141,"span",38),i()()()()()()()()()(),t(142,"div",60)(143,"div",43)(144,"div",44)(145,"div",45)(146,"h2"),o(147,"Add New Term"),i(),t(148,"div",46)(149,"span",47),T(),t(150,"svg",7),b(151,"rect",48)(152,"rect",49),i()()()(),R(),t(153,"div",50)(154,"form",51),g("ngSubmit",function(){return e.addTerm()}),t(155,"div",22)(156,"label",23)(157,"span",24),o(158,"Session"),i()(),b(159,"input",61),i(),t(160,"div",22)(161,"label",23)(162,"span",24),o(163,"Term"),i()(),t(164,"select",52),C("ngModelChange",function(l){return S(e.selectedTerm,l)||(e.selectedTerm=l),l}),t(165,"option",62),o(166,"Select term"),i(),t(167,"option",32),o(168,"Second"),i(),t(169,"option",33),o(170,"Third"),i()()(),t(171,"div",15)(172,"div",28)(173,"div",22)(174,"label",23)(175,"span",29),o(176," Start Date"),i()(),t(177,"input",63),C("ngModelChange",function(l){return S(e.startDate,l)||(e.startDate=l),l}),i()()()(),t(178,"div",15)(179,"div",28)(180,"div",22)(181,"label",23)(182,"span",29),o(183,"End Date"),i()(),t(184,"input",64),C("ngModelChange",function(l){return S(e.endDate,l)||(e.endDate=l),l}),i()()()(),t(185,"div",56)(186,"div",15)(187,"div",57)(188,"button",65),o(189,"Discard"),i()(),t(190,"div",57)(191,"button",66)(192,"span",36),o(193,"Submit"),i(),t(194,"span",37),o(195,"Please wait... "),b(196,"span",38),i()()()()()()()()()(),t(197,"div",67)(198,"div",43)(199,"div",44)(200,"div",45)(201,"h2"),o(202,"Edit Session"),i(),t(203,"div",46)(204,"span",47),T(),t(205,"svg",7),b(206,"rect",48)(207,"rect",49),i()()()(),R(),t(208,"div",68)(209,"form",69)(210,"div",22)(211,"label",23)(212,"span",24),o(213,"Session"),i()(),b(214,"input",70),i(),t(215,"div",15)(216,"div",57)(217,"div",22)(218,"label",23)(219,"span",29),o(220,"First Term Start Date"),i()(),b(221,"input",71),i()(),t(222,"div",57)(223,"div",22)(224,"label",23)(225,"span",29),o(226,"First Term End Date"),i()(),b(227,"input",71),i()()(),t(228,"div",15)(229,"div",57)(230,"div",22)(231,"label",23)(232,"span",29),o(233,"Second Term Start Date"),i()(),b(234,"input",71),i()(),t(235,"div",57)(236,"div",22)(237,"label",23)(238,"span",29),o(239,"Second Term End Date"),i()(),b(240,"input",71),i()()(),t(241,"div",15)(242,"div",57)(243,"div",22)(244,"label",23)(245,"span",29),o(246,"Third Term Start Date"),i()(),b(247,"input",71),i()(),t(248,"div",57)(249,"div",22)(250,"label",23)(251,"span",29),o(252,"Third Term End Date"),i()(),b(253,"input",71),i()()(),t(254,"div",72)(255,"div",15)(256,"div",57)(257,"button",65),o(258,"Discard"),i()(),t(259,"div",57)(260,"button",66)(261,"span",36),o(262,"Submit"),i(),t(263,"span",37),o(264,"Please wait... "),b(265,"span",38),i()()()()()()()()()(),t(266,"div",73)(267,"div",43)(268,"div",44)(269,"div",45)(270,"h2"),o(271,"Add New Session"),i(),t(272,"div",46)(273,"span",47),T(),t(274,"svg",7),b(275,"rect",48)(276,"rect",49),i()()()(),R(),t(277,"div",68)(278,"form",74),g("ngSubmit",function(){return e.saveSession()}),t(279,"div",22)(280,"label",23)(281,"span",24),o(282,"Session"),i()(),t(283,"select",52),C("ngModelChange",function(l){return S(e.mysession.sessionName,l)||(e.mysession.sessionName=l),l}),t(284,"option",26),o(285,"Select Session..."),i(),M(286,ht,2,2,"option",27),i()(),t(287,"div",15)(288,"div",57)(289,"div",22)(290,"label",23)(291,"span",29),o(292,"First Term Start Date"),i()(),t(293,"input",75),C("ngModelChange",function(l){return S(e.mysession.firstTermStart,l)||(e.mysession.firstTermStart=l),l}),i()()(),t(294,"div",57)(295,"div",22)(296,"label",23)(297,"span",29),o(298,"First Term End Date"),i()(),t(299,"input",76),C("ngModelChange",function(l){return S(e.mysession.firstTermEnd,l)||(e.mysession.firstTermEnd=l),l}),i()()()(),t(300,"div",15)(301,"div",57)(302,"div",22)(303,"label",23)(304,"span",29),o(305,"Second Term Start Date"),i()(),t(306,"input",77),C("ngModelChange",function(l){return S(e.mysession.secondTermStart,l)||(e.mysession.secondTermStart=l),l}),i()()(),t(307,"div",57)(308,"div",22)(309,"label",23)(310,"span",29),o(311,"Second Term End Date"),i()(),t(312,"input",78),C("ngModelChange",function(l){return S(e.mysession.secondTermEnd,l)||(e.mysession.secondTermEnd=l),l}),i()()()(),t(313,"div",15)(314,"div",57)(315,"div",22)(316,"label",23)(317,"span",29),o(318,"Third Term Start Date"),i()(),t(319,"input",79),C("ngModelChange",function(l){return S(e.mysession.thirdTermStart,l)||(e.mysession.thirdTermStart=l),l}),i()()(),t(320,"div",57)(321,"div",22)(322,"label",23)(323,"span",29),o(324,"Third Term End Date"),i()(),t(325,"input",80),C("ngModelChange",function(l){return S(e.mysession.thirdTermEnd,l)||(e.mysession.thirdTermEnd=l),l}),i()()()(),t(326,"div",72)(327,"div",15)(328,"div",57)(329,"button",81),o(330,"Discard"),i()(),t(331,"div",57)(332,"button",35)(333,"span",36),o(334,"Submit"),i(),t(335,"span",37),o(336,"Please wait... "),b(337,"span",38),i()()()()()()()()()()),n&2&&(a(14),p("ngForOf",e.sessionlist),a(17),f("ngModel",e.currentSessionId),a(3),p("ngForOf",e.sessionlist),a(7),f("ngModel",e.currentTerm),a(29),f("ngModel",e.nextSessionId),a(3),p("ngForOf",e.sessionlist),a(7),f("ngModel",e.nextResumptionDate),a(27),f("ngModel",e.mysession.sessionName),a(3),p("ngForOf",e.createSessions()),a(12),f("ngModel",e.mysession.firstTermStart),a(7),f("ngModel",e.mysession.firstTermEnd),a(30),p("value",e.selectedSession==null?null:e.selectedSession.sessionName),a(5),f("ngModel",e.selectedTerm),a(13),f("ngModel",e.startDate),a(7),f("ngModel",e.endDate),a(99),f("ngModel",e.mysession.sessionName),a(3),p("ngForOf",e.createSessions()),a(7),f("ngModel",e.mysession.firstTermStart),a(6),f("ngModel",e.mysession.firstTermEnd),a(7),f("ngModel",e.mysession.secondTermStart),a(6),f("ngModel",e.mysession.secondTermEnd),a(7),f("ngModel",e.mysession.thirdTermStart),a(6),f("ngModel",e.mysession.thirdTermEnd))},dependencies:[H,ge,Y,q,Q,J,fe,D,z,G,Z,Ie],encapsulation:2});let c=u;return c})();var F=ne(oe());function pt(c,u){if(c&1){let m=I();t(0,"div",49)(1,"div",50)(2,"div")(3,"div",51)(4,"label",52)(5,"span",53),o(6,"School Name"),i()(),t(7,"div",54)(8,"input",55),C("ngModelChange",function(n){v(m);let e=w();return S(e.school.schoolName,n)||(e.school.schoolName=n),y(n)}),i()()(),t(9,"div",51)(10,"label",52)(11,"span",53),o(12,"Phone No."),i()(),t(13,"div",54)(14,"input",56),C("ngModelChange",function(n){v(m);let e=w();return S(e.school.phoneOne,n)||(e.school.phoneOne=n),y(n)}),i()()(),t(15,"div",51)(16,"label",52)(17,"span",53),o(18,"Phone No. 2"),i()(),t(19,"div",54)(20,"input",57),C("ngModelChange",function(n){v(m);let e=w();return S(e.school.phoneTwo,n)||(e.school.phoneTwo=n),y(n)}),i()()(),t(21,"div",51)(22,"label",52)(23,"span",58),o(24,"Email"),i()(),t(25,"div",54)(26,"input",59),C("ngModelChange",function(n){v(m);let e=w();return S(e.school.email,n)||(e.school.email=n),y(n)}),i()()()(),t(27,"div",51)(28,"label",52),o(29,"School Logo"),i(),t(30,"div",54)(31,"div")(32,"div",60,61),b(34,"img",62,63),i(),t(36,"label",64)(37,"input",65,66),g("change",function(n){v(m);let e=k(35),d=w();return y(d.genk.showPreviewLogo(n,e))}),i()()(),t(39,"div",67),o(40,"Allowed file types: png, jpg, jpeg."),i()()(),t(41,"div",51)(42,"label",52),o(43,"School-Signature/School-Stamp"),i(),t(44,"div",54)(45,"div")(46,"div",60,68),b(48,"img",62,69),i(),t(50,"label",64)(51,"input",65,70),g("change",function(n){v(m);let e=k(49),d=w();return y(d.genk.showPreviewSignature(n,e))}),i()()(),t(53,"div",67),o(54,"Allowed file types: png, jpg, jpeg."),i()()(),t(55,"div",71)(56,"div",72)(57,"label",52)(58,"span",53),o(59,"Address"),i()(),t(60,"div",54)(61,"div",73)(62,"div",74)(63,"textarea",75),C("ngModelChange",function(n){v(m);let e=w();return S(e.school.address,n)||(e.school.address=n),y(n)}),i()()()()()(),t(64,"div",51)(65,"label",52)(66,"span",58),o(67,"Website"),i()(),t(68,"div",54)(69,"div",73)(70,"div",74)(71,"input",76),C("ngModelChange",function(n){v(m);let e=w();return S(e.school.website,n)||(e.school.website=n),y(n)}),i()()()()()()()}if(c&2){let m=w();a(8),f("ngModel",m.school.schoolName),a(6),f("ngModel",m.school.phoneOne),a(6),f("ngModel",m.school.phoneTwo),a(6),f("ngModel",m.school.email),a(8),p("src",m.genk.imgurl+m.school.schoolLogo,ce),a(14),p("src",m.genk.imgurl+m.school.schoolSignature,ce),a(15),f("ngModel",m.school.address),a(8),f("ngModel",m.school.website)}}function gt(c,u){if(c&1&&(t(0,"div",77)(1,"div",78),o(2,"Email Address"),i(),t(3,"div",79),o(4),i()()),c&2){let m=w();a(4),P(m.myadmin.username)}}function ft(c,u){if(c&1){let m=I();t(0,"div",80)(1,"form",81)(2,"div",82)(3,"div",83)(4,"div",84)(5,"label",85),o(6,"Enter New Email Address"),i(),t(7,"input",86),C("ngModelChange",function(n){v(m);let e=w();return S(e.adminEmail,n)||(e.adminEmail=n),y(n)}),i()()(),t(8,"div",87)(9,"div",84)(10,"label",88),o(11,"Confirm Password"),i(),t(12,"input",89),C("ngModelChange",function(n){v(m);let e=w();return S(e.currentAdminPassword,n)||(e.currentAdminPassword=n),y(n)}),i()()()(),t(13,"div",90)(14,"button",91),g("click",function(){v(m);let n=w();return y(n.updateAdminEmail())}),o(15,"Update Email"),i(),t(16,"button",92),g("click",function(){v(m);let n=w();return y(n.isChangeEmail=!1)}),o(17,"Cancel"),i()()()()}if(c&2){let m=w();a(7),f("ngModel",m.adminEmail),a(5),f("ngModel",m.currentAdminPassword)}}function St(c,u){if(c&1){let m=I();t(0,"div",93)(1,"button",94),g("click",function(){v(m);let n=w();return y(n.isChangeEmail=!0)}),o(2,"Change Email"),i()()}}function Ct(c,u){c&1&&(t(0,"div")(1,"div",78),o(2,"Password"),i(),t(3,"div",79),o(4,"************"),i()())}function bt(c,u){if(c&1){let m=I();t(0,"div",80)(1,"form",95)(2,"div",96)(3,"div",97)(4,"div",84)(5,"label",98),o(6,"Current Password"),i(),t(7,"input",99),C("ngModelChange",function(n){v(m);let e=w();return S(e.adminPassword,n)||(e.adminPassword=n),y(n)}),i()()(),t(8,"div",97)(9,"div",84)(10,"label",100),o(11,"New Password"),i(),t(12,"input",101),C("ngModelChange",function(n){v(m);let e=w();return S(e.newAdminPassword,n)||(e.newAdminPassword=n),y(n)}),i()()(),t(13,"div",97)(14,"div",84)(15,"label",102),o(16,"Confirm New Password"),i(),t(17,"input",103),C("ngModelChange",function(n){v(m);let e=w();return S(e.newTestAdminPassword,n)||(e.newTestAdminPassword=n),y(n)}),i()()()(),t(18,"div",104),o(19,"Password must be at least 8 character and contain symbols"),i(),t(20,"div",90)(21,"button",91),g("click",function(){v(m);let n=w();return y(n.updatePassword())}),o(22,"Update Password"),i(),t(23,"button",92),g("click",function(){v(m);let n=w();return y(n.isChangePassword=!1)}),o(24,"Cancel"),i()()()()}if(c&2){let m=w();a(7),f("ngModel",m.adminPassword),a(5),f("ngModel",m.newAdminPassword),a(5),f("ngModel",m.newTestAdminPassword)}}function _t(c,u){if(c&1){let m=I();t(0,"div",93)(1,"button",94),g("click",function(){v(m);let n=w();return y(n.isChangePassword=!0)}),o(2,"Reset Password"),i()()}}var qe=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.gen=e,this.sch=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.tabActive="Person",this.school=new We,this.step1=!0,this.step2=!1,this.loading=!1,this.imgFile=null,this.destroy=new U,this.isChangeEmail=!1,this.isChangePassword=!1,this.emailChanged=!1,this.isSurname=!1,this.isAdmissionNo=!1,this.isAccessPin=!1,this.isPhone=!1,this.isStaffSurname=!1,this.isStaffIdCardNo=!1,this.isStaffEmail=!1,this.isStaffPhone=!1,this.loginFieldList=[],this.staffLoginFieldList=[],this.genk=e,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.getSchool(),this.getAdminUser(),this.getLoginFields(),this.getStaffLoginFields()}getSchool(){this.sch.getSchoolById(this.auth.currentUserValue.schoolId.toString()).subscribe(s=>{this.school=s})}getAdminUser(){this.sch.getAdminUser().subscribe(s=>{this.myadmin=s,this.adminEmail=s.username})}getStaffLoginFields(){this.sch.getStaffLoginFields().subscribe(s=>{this.staffLoginFieldList=s,this.isStaffIdCardNo=this.checkStaffLoginFields("idcardno"),this.isStaffPhone=this.checkStaffLoginFields("phone"),this.isStaffSurname=this.checkStaffLoginFields("surname"),this.isStaffEmail=this.checkStaffLoginFields("email")})}getLoginFields(){this.sch.getLoginFields().subscribe(s=>{this.loginFieldList=s,this.isAdmissionNo=this.checkLoginFields("admissionno"),this.isPhone=this.checkLoginFields("phone"),this.isSurname=this.checkLoginFields("surname"),this.isAccessPin=this.checkLoginFields("accesspin")})}checkLoginFields(s){return this.loginFieldList.filter(e=>e.name==s).length>0}checkStaffLoginFields(s){return this.staffLoginFieldList.filter(e=>e.name==s).length>0}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}toggle(s){this.tabActive=s}setField(s,n){s?this.sch.addLoginField(n).pipe(L(this.destroy)).subscribe(e=>{F.default.fire({icon:"success",title:"Login fields updated successfully!.",showConfirmButton:!1,timer:2e3})}):this.sch.removeLoginField(n).pipe(L(this.destroy)).subscribe(e=>{F.default.fire({icon:"success",title:"Login fields updated successfully!.",showConfirmButton:!1,timer:2e3})})}setStaffField(s,n){s?this.sch.addStaffLoginField(n).pipe(L(this.destroy)).subscribe(e=>{F.default.fire({icon:"success",title:"Login fields updated successfully!.",showConfirmButton:!1,timer:2e3})}):this.sch.removeStaffLoginField(n).pipe(L(this.destroy)).subscribe(e=>{F.default.fire({icon:"success",title:"Login fields updated successfully!.",showConfirmButton:!1,timer:2e3})})}moveToTwo(){this.step1=!1,this.step2=!0}moveToOne(){this.step1=!0,this.step2=!1}saveSchoolProfile(s){this.loading=!0,this.school.id=this.auth.currentUserValue.schoolId,this.school.banner=this.genk.bannerImgFile,this.school.logo=this.genk.logoImgFile,this.school.signature=this.genk.signatureImgFile;let n=new FormData;for(let e in this.school)if(this.school[e])switch(e.toString()){case"logo":n.append("media",this.genk.logoImgFile,this.passportName),this.school.photoType=this.school.photoType+"logo",n.append(e.toString(),"logo");break;case"signature":n.append("media",this.genk.signatureImgFile,this.passportName),this.school.photoType=this.school.photoType+"signature",n.append(e.toString(),"signature");break;default:n.append(e.toString(),this.school[e]);break}F.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{F.default.showLoading(),this.sch.updateSchool(n).pipe(L(this.destroy)).subscribe(e=>{F.default.close(),this.loading=!1})}}).then(e=>{F.default.fire({icon:"success",title:"School data updated successfully!.",showConfirmButton:!1,timer:2e3})})}updateAdminEmail(){let s=this.currentAdminPassword;F.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{F.default.showLoading(),this.sch.updateAdminEmail(this.adminEmail,this.currentAdminPassword).pipe(L(this.destroy)).subscribe(n=>{F.default.close(),this.emailChanged=n.value})}}).then(n=>{this.emailChanged==!0?F.default.fire({icon:"success",title:"Admin Email updated successfully!.",showConfirmButton:!1,timer:2e3}):F.default.fire({icon:"error",title:"Password is incorrect.",showConfirmButton:!1,timer:2e3}),this.getAdminUser()})}updatePassword(){if(this.newAdminPassword!=this.newTestAdminPassword){F.default.fire({icon:"error",title:"New password and Confirm New password not the same",showConfirmButton:!1,timer:2e3});return}F.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{F.default.showLoading(),this.sch.updateAdminPassword(this.adminPassword,this.newAdminPassword).pipe(L(this.destroy)).subscribe(s=>{F.default.close(),this.emailChanged=s.value})}}).then(s=>{this.emailChanged==!0?F.default.fire({icon:"success",title:"Admin Password updated successfully!.",showConfirmButton:!1,timer:2e3}):F.default.fire({icon:"error",title:"Password is incorrect.",showConfirmButton:!1,timer:2e3}),this.getAdminUser()})}logout(){this.auth.logout(),this.router.navigate(["/",this.genk.account])}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(W),E(O))},u.\u0275cmp=N({type:u,selectors:[["app-admin-register"]],inputs:{header:"header"},decls:141,vars:15,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-body","px-lg-10"],[1,"stepper","stepper-pills","stepper-column","d-flex","flex-column","flex-xl-row","flex-row-fluid"],[1,"flex-row-fluid","py-lg-5","px-lg-15"],[1,"form",3,"ngSubmit"],["f","ngForm"],["class","current",4,"ngIf"],[1,"card-footer","d-flex","justify-content-end","pt-6","px-9"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary"],[1,"card","mb-5","mb-xl-10","mt-10"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_signin_method",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_settings_signin_method",1,"collapse","show"],[1,"card-body","border-top","p-9"],[1,"d-flex","flex-wrap","align-items-center"],["id","kt_signin_email",4,"ngIf"],["class","flex-row-fluid",4,"ngIf"],["class","ms-auto",4,"ngIf"],[1,"separator","separator-dashed","my-6"],[1,"d-flex","flex-wrap","align-items-center","mb-10"],[4,"ngIf"],[1,"card","mb-5","mb-xl-10"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_notifications","aria-expanded","true","aria-controls","kt_account_notifications",1,"card-header","border-0","cursor-pointer"],["id","kt_account_settings_notifications",1,"collapse","show"],[1,"form"],[1,"card-body","border-top","px-9","pt-3","pb-4"],[1,"table-responsive"],[1,"table","table-row-dashed","border-gray-300","align-middle","gy-6"],[1,"fw-bold",2,"font-family","'Poppins'"],[1,"w-175px",2,"font-size","18px","color","black","font-weight","700"],[1,"w-100px"],[2,"color","rgb(124, 122, 122)"],[2,"font-size","16px","margin-left","35px"],[1,"svg-icon","svg-icon-1","svg-icon-primary"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","viewBox","0 0 24 24"],["d","M10.0813 3.7242C10.8849 2.16438 13.1151 2.16438 13.9187 3.7242V3.7242C14.4016 4.66147 15.4909 5.1127 16.4951 4.79139V4.79139C18.1663 4.25668 19.7433 5.83365 19.2086 7.50485V7.50485C18.8873 8.50905 19.3385 9.59842 20.2758 10.0813V10.0813C21.8356 10.8849 21.8356 13.1151 20.2758 13.9187V13.9187C19.3385 14.4016 18.8873 15.491 19.2086 16.4951V16.4951C19.7433 18.1663 18.1663 19.7433 16.4951 19.2086V19.2086C15.491 18.8873 14.4016 19.3385 13.9187 20.2758V20.2758C13.1151 21.8356 10.8849 21.8356 10.0813 20.2758V20.2758C9.59842 19.3385 8.50905 18.8873 7.50485 19.2086V19.2086C5.83365 19.7433 4.25668 18.1663 4.79139 16.4951V16.4951C5.1127 15.491 4.66147 14.4016 3.7242 13.9187V13.9187C2.16438 13.1151 2.16438 10.8849 3.7242 10.0813V10.0813C4.66147 9.59842 5.1127 8.50905 4.79139 7.50485V7.50485C4.25668 5.83365 5.83365 4.25668 7.50485 4.79139V4.79139C8.50905 5.1127 9.59842 4.66147 10.0813 3.7242V3.7242Z","fill","#00A3FF"],["d","M14.8563 9.1903C15.0606 8.94984 15.3771 8.9385 15.6175 9.14289C15.858 9.34728 15.8229 9.66433 15.6185 9.9048L11.863 14.6558C11.6554 14.9001 11.2876 14.9258 11.048 14.7128L8.47656 12.4271C8.24068 12.2174 8.21944 11.8563 8.42911 11.6204C8.63877 11.3845 8.99996 11.3633 9.23583 11.5729L11.3706 13.4705L14.8563 9.1903Z","fill","white",1,"permanent"],[1,"w-175px"],[1,"form-check","form-check-solid"],["type","checkbox",1,"form-check-input",3,"checked","change"],["adm",""],[2,"font-size","16px","color","black"],["pho",""],["sur",""],["acce",""],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],[1,"btn","btn-primary","px-6"],[1,"current"],[1,"w-100"],[1,"row","col-lg-12","mb-10"],[1,"col-lg-3","fs-5","fw-bold","mb-2"],[1,"required"],[1,"col-lg-8"],["type","text","placeholder","","name","schoolname",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","","name","phoneOne",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","","name","phoneTwo",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,""],["type","text","name","email","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[2,"display","flex"],["magdiv",""],[2,"width","120px","height","120px",3,"src"],["mage",""],[2,"margin-top","10px"],["type","file","accept",".jpg, .jpeg, .png, .gif, .tif",1,"intbox",3,"change"],["dile",""],[1,"form-text"],["magdivsign",""],["magesign",""],["dilmag",""],[1,"row","mb-10"],[1,"row","col-lg-12"],[1,"row"],[1,"col-lg-12","fv-row"],["type","mail","name","address","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","website","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["id","kt_signin_email"],[1,"fs-6","fw-bolder","mb-1"],[1,"fw-bold","text-gray-600"],[1,"flex-row-fluid"],["id","kt_signin_change_email","novalidate","novalidate",1,"form"],[1,"row","mb-6"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"fv-row","mb-0"],["for","emailaddress",1,"form-label","fs-6","fw-bolder","mb-3"],["type","email","id","emailaddress","placeholder","Email Address","name","emailaddress",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-6"],["for","confirmemailpassword",1,"form-label","fs-6","fw-bolder","mb-3"],["type","password","name","adminpassword",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"d-flex"],["type","button",1,"btn","btn-primary","me-2","px-6",3,"click"],["type","button",1,"btn","btn-color-gray-400","btn-active-light-primary","px-6",3,"click"],[1,"ms-auto"],[1,"btn","btn-light","btn-active-light-primary",3,"click"],["id","kt_signin_change_password","novalidate","novalidate",1,"form"],[1,"row","mb-1"],[1,"col-lg-4"],["for","currentpassword",1,"form-label","fs-6","fw-bolder","mb-3"],["type","password","name","currentpassword",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["for","newpassword",1,"form-label","fs-6","fw-bolder","mb-3"],["type","password","name","newpassword","id","newpassword",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["for","confirmpassword",1,"form-label","fs-6","fw-bolder","mb-3"],["type","password","name","confirmtestpassword",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"form-text","mb-5"]],template:function(n,e){if(n&1){let d=I();t(0,"div")(1,"div")(2,"div",0)(3,"div",1)(4,"h2"),o(5,"Edit School Profile"),i()(),t(6,"div",2)(7,"div",3)(8,"div",4)(9,"form",5,6),g("ngSubmit",function(){v(d);let r=k(10);return y(e.saveSchoolProfile(r))}),M(11,pt,72,8,"div",7),t(12,"div",8)(13,"button",9),o(14,"Save Changes"),i()()()()()()()()(),t(15,"div",10)(16,"div",11)(17,"div",12)(18,"h3",13),o(19,"Admin Sign-in Method"),i()()(),t(20,"div",14)(21,"div",15)(22,"div",16),M(23,gt,5,1,"div",17)(24,ft,18,2,"div",18)(25,St,3,0,"div",19),i(),b(26,"div",20),t(27,"div",21),M(28,Ct,5,0,"div",22)(29,bt,25,3,"div",18)(30,_t,3,0,"div",19),i()()()(),t(31,"div",23)(32,"div",24)(33,"div",12)(34,"h3",13),o(35,"Student Authentication Method"),i()()(),t(36,"div",25)(37,"form",26)(38,"div",27)(39,"div",28)(40,"table",29)(41,"tbody",30)(42,"tr")(43,"td",31),o(44,"Username"),i(),t(45,"td",32)(46,"div",33)(47,"label",34),o(48,"Admission No."),i(),t(49,"span",35),T(),t(50,"svg",36),b(51,"path",37)(52,"path",38),i()()()(),R(),b(53,"td")(54,"td")(55,"td"),i(),t(56,"tr")(57,"td",31),o(58,"Password"),i(),t(59,"td",39)(60,"div",40)(61,"input",41,42),g("change",function(){v(d);let r=k(62);return y(e.setField(r.checked,"admissionno"))}),i(),t(63,"label",43),o(64,"Admission No."),i()()(),t(65,"td",39)(66,"div",40)(67,"input",41,44),g("change",function(){v(d);let r=k(68);return y(e.setField(r.checked,"phone"))}),i(),t(69,"label",43),o(70,"Phone Number"),i()()(),t(71,"td",39)(72,"div",40)(73,"input",41,45),g("change",function(){v(d);let r=k(74);return y(e.setField(r.checked,"surname"))}),i(),t(75,"label",43),o(76,"Surname"),i()()(),t(77,"td",39)(78,"div",40)(79,"input",41,46),g("change",function(){v(d);let r=k(80);return y(e.setField(r.checked,"accesspin"))}),i(),t(81,"label",43),o(82,"Access Pin"),i()()()()()()()(),t(83,"div",47)(84,"button",48),o(85,"Save Changes"),i()()()()(),t(86,"div",23)(87,"div",24)(88,"div",12)(89,"h3",13),o(90,"Staff Authentication Method"),i()()(),t(91,"div",25)(92,"form",26)(93,"div",27)(94,"div",28)(95,"table",29)(96,"tbody",30)(97,"tr")(98,"td",31),o(99,"Username"),i(),t(100,"td",32)(101,"div",33)(102,"label",34),o(103,"Phone Number"),i(),t(104,"span",35),T(),t(105,"svg",36),b(106,"path",37)(107,"path",38),i()()()(),R(),b(108,"td")(109,"td")(110,"td"),i(),t(111,"tr")(112,"td",31),o(113,"Password"),i(),t(114,"td",39)(115,"div",40)(116,"input",41,42),g("change",function(){v(d);let r=k(62);return y(e.setStaffField(r.checked,"surname"))}),i(),t(118,"label",43),o(119,"Surname"),i()()(),t(120,"td",39)(121,"div",40)(122,"input",41,44),g("change",function(){v(d);let r=k(68);return y(e.setStaffField(r.checked,"idcardno"))}),i(),t(124,"label",43),o(125,"IdCardNo"),i()()(),t(126,"td",39)(127,"div",40)(128,"input",41,45),g("change",function(){v(d);let r=k(74);return y(e.setStaffField(r.checked,"email"))}),i(),t(130,"label",43),o(131,"Email"),i()()(),t(132,"td",39)(133,"div",40)(134,"input",41,46),g("change",function(){v(d);let r=k(80);return y(e.setStaffField(r.checked,"phone"))}),i(),t(136,"label",43),o(137,"Phone Number"),i()()()()()()()(),t(138,"div",47)(139,"button",48),o(140,"Save Changes"),i()()()()()}n&2&&(a(11),p("ngIf",e.step1),a(12),p("ngIf",!e.isChangeEmail),a(),p("ngIf",e.isChangeEmail),a(),p("ngIf",!e.isChangeEmail),a(3),p("ngIf",!e.isChangePassword),a(),p("ngIf",e.isChangePassword),a(),p("ngIf",!e.isChangePassword),a(31),p("checked",e.isAdmissionNo),a(6),p("checked",e.isPhone),a(6),p("checked",e.isSurname),a(6),p("checked",e.isAccessPin),a(37),p("checked",e.isStaffSurname),a(6),p("checked",e.isStaffIdCardNo),a(6),p("checked",e.isStaffEmail),a(6),p("checked",e.isStaffPhone))},dependencies:[ge,Y,J,D,z,G,Z]});let c=u;return c})();var _e=ne(oe());function vt(c,u){if(c&1&&(t(0,"option",17),o(1),i()),c&2){let m=u.$implicit;p("value",m.id),a(),K("",m.name," ")}}function yt(c,u){if(c&1){let m=I();t(0,"div",18)(1,"label",19),o(2),i(),t(3,"div",20)(4,"div")(5,"div",21)(6,"label",22)(7,"span"),o(8,"Set Core Subject"),i(),b(9,"i",23),i(),t(10,"ng-select",24),C("ngModelChange",function(n){let d=v(m).index,l=w();return S(l.mydata[d].subjects,n)||(l.mydata[d].subjects=n),y(n)}),i()()()()()}if(c&2){let m=u.$implicit,s=u.index,n=w();a(2),P(m.class),a(8),p("items",n.classSubjects)("multiple",!0),f("ngModel",n.mydata[s].subjects)}}var Qe=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.sch=e,this.gen=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.schoolLevels=[],this.bigboss=[],this.destroy=new U,this.mydata=[],this.classSubjects=[],this.coreSubjects=[],this.sendData=[],this.cars=[{id:1,name:"BMW Hyundai"},{id:2,name:"Kia Tata"},{id:3,name:"Volkswagen Ford"},{id:4,name:"Renault Audi"},{id:5,name:"Mercedes Benz Skoda"}],this.selected=[{id:3,name:"Volkswagen Ford"}],this.genk=d,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.genk.topdata="Dashboard",this.getLevels(),this.getPopulationData()}getLevels(){this.sch.getClassLevels().subscribe(s=>{this.schoolLevels=s})}getClassByLevel(s){this.currentClassLevelId=s,this.sch.getClassByLevel(this.currentClassLevelId.toString()).subscribe(n=>{this.schoolClasses=n,this.mydata=[],this.getClassSubjects(),this.getCoreSubjects()})}getPopulationData(){this.sch.getPopulationData().subscribe(s=>{this.countdata=s[0]})}getClassSubjects(){this.sch.getSubjectByLevel(this.currentClassLevelId.toString()).subscribe(s=>{this.classSubjects=s})}getCoreSubjects(){this.sch.getCoreSubjects(this.currentClassLevelId.toString()).subscribe(s=>{this.coreSubjects=s,this.schoolClasses.forEach(n=>{let e=this.coreSubjects.filter(d=>d.classId==n.id);if(e.length>0){let d=[];e.forEach(r=>{let h={id:r.id,name:r.subjects};d.push(h)});let l={myclass:n.id,subjects:d};this.mydata.push(l)}else{let d={myclass:n.id,subjects:[]};this.mydata.push(d)}console.log(this.mydata)})})}savePlacement(){let s=this.mydata;this.mydata.forEach(e=>{let d=[];e.subjects.forEach(l=>{let r=this.schoolClasses.filter(x=>x.id==e.myclass)[0].class,h=this.schoolLevels.filter(x=>x.id==this.currentClassLevelId)[0].name;d.push({ClassId:e.myclass,Class:r,ClassLevelId:this.currentClassLevelId,ClassLevel:h,Subjects:l.name,SubjectId:l.id,SchoolId:this.auth.currentUserValue.schoolId,MinimumScore:0})}),this.sendData.push({classId:e.myclass,subjects:d})});let n=this.bigboss;_e.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{_e.default.showLoading(),this.sch.saveCoreSubject(this.sendData).pipe(L(this.destroy)).subscribe(e=>{_e.default.close()})}}).then(e=>{_e.default.fire({icon:"success",title:"Core Subjects updated successfully!.",showConfirmButton:!1,timer:2e3})})}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(O),E(W))},u.\u0275cmp=N({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:27,vars:3,consts:[[1,"card","card-xxl-stretch","mb-5","mb-xl-10"],[1,"card-header","card-header-stretch"],[1,"card-title"],[1,"m-0","text-gray-900"],[1,"card-toolbar"],[1,"nav-item"],[1,"nav-link"],["data-control","select2","data-placeholder","Select Hours","data-hide-search","true",1,"me-2","form-select","form-select-sm","form-select-solid","w-125px",3,"value","change"],["wed",""],["value","","selected","selected"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body","pt-7","pb-0","px-0"],[1,"row","p-0","mb-5","px-9"],["class","row mb-15",4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","reset",1,"btn","btn-light","btn-active-light-primary","me-2"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"row","mb-15"],[1,"col-md-3","col-sm-12",2,"font-size","18px","font-family","'Trebuchet MS'","font-weight","500","color","black"],[1,"col-md-8","col-sm-12"],[1,"col-lg-9","fv-row"],[1,"mb-2",2,"font-size","18px","font-family","'Trebuchet MS'","font-weight","500","color","black"],["data-bs-toggle","tooltip","title","Specify Core Subject",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["bindLabel","name","placeholder","Select Category","appendTo","body",2,"background-color","rgb(235, 239, 245)",3,"items","multiple","ngModel","ngModelChange"]],template:function(n,e){if(n&1){let d=I();t(0,"div")(1,"div")(2,"div")(3,"div")(4,"div",0)(5,"div",1)(6,"div",2)(7,"h3",3),o(8,"Promotion by Core Subject"),i()(),t(9,"div",4)(10,"li",5)(11,"div",6)(12,"select",7,8),g("change",function(){v(d);let r=k(13);return y(e.getClassByLevel(r.value))}),t(14,"option",9),o(15,"Class Level"),i(),M(16,vt,2,2,"option",10),i()()()()(),t(17,"div",11)(18,"div")(19,"div")(20,"div",12),M(21,yt,11,4,"div",13),i(),t(22,"div",14)(23,"button",15),o(24,"Discard"),i(),t(25,"button",16),g("click",function(){return e.savePlacement()}),o(26,"Save Changes"),i()()()()()()()()()()}n&2&&(a(12),p("value",e.currentClassLevelId),a(4),p("ngForOf",e.schoolLevels),a(5),p("ngForOf",e.schoolClasses))},dependencies:[H,q,Q,D,G,Ge],encapsulation:2});let c=u;return c})();var ee=ne(oe());var wt=["chart"];function xt(c,u){if(c&1&&(t(0,"option",94),o(1),i()),c&2){let m=u.$implicit;p("value",m.id),a(),K("",m.name," ")}}function Et(c,u){if(c&1&&(t(0,"option",94),o(1),i()),c&2){let m=u.$implicit;p("value",m.id),a(),K(" ",m.class,"")}}function Pt(c,u){if(c&1){let m=I();t(0,"div",95)(1,"div",23)(2,"div",96)(3,"div",25)(4,"div",97)(5,"div",27)(6,"div",98),o(7),i()(),t(8,"div",29)(9,"div",99),o(10," Minimum Score"),i(),t(11,"input",31,100),g("change",function(){let e=v(m).$implicit,d=k(12),l=w();return y(l.setCore(d.value,e.subjectId))}),i()()()()()()()}if(c&2){let m=u.$implicit;a(7),P(m.subjects),a(4),p("value",m.minimumScore)}}function kt(c,u){if(c&1){let m=I();t(0,"div",101)(1,"div",27)(2,"div",102),o(3,"Core Subject"),i()(),t(4,"div",103)(5,"div",104),o(6,"Must Pass"),i(),t(7,"input",105),C("ngModelChange",function(n){v(m);let e=w();return S(e.coreSubjectMustPassCount,n)||(e.coreSubjectMustPassCount=n),y(n)}),i()()()}if(c&2){let m=w();a(7),f("ngModel",m.coreSubjectMustPassCount)}}function At(c,u){if(c&1){let m=I();t(0,"div",12)(1,"div",106)(2,"div",62)(3,"h3",107),o(4,"Set Promotion Setting"),i()()(),t(5,"div",108)(6,"div",109)(7,"div",110)(8,"div",111)(9,"div",112)(10,"label",113)(11,"span",114)(12,"span",115)(13,"span",116),o(14,"Atleast One Criteria Must be Satisfied"),i(),t(15,"span",117),o(16," One criteria must be satisfied for a student to be promoted"),i()()(),t(17,"span",118)(18,"input",119,120),g("change",function(){v(m);let n=k(19),e=w();return y(e.setBothOr(n.checked))}),i()()()()(),t(20,"div",111)(21,"div",121)(22,"label",113)(23,"span",114)(24,"span",115)(25,"span",116),o(26," Both criteria required for promotion."),i(),t(27,"span",117),o(28," Both criteria must be satisfied for a student to be promoted"),i()()(),t(29,"span",118)(30,"input",119,122),g("change",function(){v(m);let n=k(31),e=w();return y(e.setBothAnd(n.checked))}),i()()()()()()()()()}if(c&2){let m=w();a(18),p("checked",m.isBothOr),a(12),p("checked",m.isBothAnd)}}function Mt(c,u){if(c&1&&(t(0,"div",123)(1,"div",124)(2,"div",125)(3,"div",126)(4,"h3",127)(5,"span",128),o(6,"Performance Statistics"),i(),t(7,"span",129),o(8,"Statictics by Class"),i()(),t(9,"div",130)(10,"select",131)(11,"option",132),o(12,"Class Level"),i(),t(13,"option",133),o(14,"JSS 1"),i(),t(15,"option",134),o(16,"JSS 2"),i(),t(17,"option",135),o(18,"JSS 3"),i(),t(19,"option",136),o(20,"SSS 1"),i()()()(),t(21,"div",137),b(22,"apx-chart",138),i()()(),t(23,"div",139)(24,"div",125)(25,"div",140)(26,"h3",127)(27,"span",141),o(28,"Passing Rate"),i(),t(29,"span",142),o(30,"Passing Percentage of Student "),i()(),t(31,"div",68)(32,"button",143),b(33,"i",144),i(),t(34,"div",145)(35,"div",146)(36,"div",147),o(37,"Filter Options"),i()(),b(38,"div",148),t(39,"div",146)(40,"div",149)(41,"label",150),o(42,"Status:"),i(),t(43,"div")(44,"select",151),b(45,"option"),t(46,"option",152),o(47,"Approved"),i(),t(48,"option",133),o(49,"Pending"),i(),t(50,"option",133),o(51,"In Process"),i(),t(52,"option",133),o(53,"Rejected"),i()()()(),t(54,"div",149)(55,"label",150),o(56,"Member Type:"),i(),t(57,"div",27)(58,"label",153),b(59,"input",154),t(60,"span",155),o(61," Author "),i()(),t(62,"label",156),b(63,"input",157),t(64,"span",155),o(65," Customer "),i()()()(),t(66,"div",149)(67,"label",150),o(68,"Notifications:"),i(),t(69,"div",158),b(70,"input",159),t(71,"label",155),o(72," Enabled "),i()()(),t(73,"div",160)(74,"button",161),o(75,"Reset"),i(),t(76,"button",162),o(77,"Apply"),i()()()()()(),t(78,"div",163)(79,"div",137),b(80,"apx-chart",164),i(),t(81,"div",165)(82,"p",166)(83,"span",167),o(84,"Notes:"),i(),o(85,"\xA0 percentage of students who met the passing criteria "),i()()()()()()),c&2){let m=w();a(22),p("series",m.chartOptions.series)("chart",m.chartOptions.chart)("colors",m.chartOptions.colors)("xaxis",m.chartOptions.xaxis)("title",m.chartOptions.title)("legend",m.chartOptions.legend)("plotOptions",m.chartOptions.plotOptions)("fill",m.chartOptions.fill),a(58),p("series",m.radialChartOptions.series)("chart",m.radialChartOptions.chart)("plotOptions",m.radialChartOptions.plotOptions)("labels",m.radialChartOptions.labels)("fill",m.radialChartOptions.fill)("stroke",m.radialChartOptions.stroke)}}function Tt(c,u){if(c&1&&(t(0,"option",94),o(1),i()),c&2){let m=u.$implicit;p("value",m.id),a(),P(m.sessionName)}}function It(c,u){c&1&&(t(0,"th",89),o(1,"Core Subject Passed"),i())}function jt(c,u){c&1&&(t(0,"th",89),o(1,"Subjects Passed"),i())}function Rt(c,u){if(c&1&&(t(0,"td",175),o(1),i()),c&2){let m=w().$implicit,s;a(),K(" ",(s=m.passCount)!==null&&s!==void 0?s:0," ")}}function Lt(c,u){if(c&1&&(t(0,"td",175),o(1),i()),c&2){let m=w().$implicit,s;a(),K(" ",(s=(s=m.count)!==null&&s!==void 0?s:m.passCount)!==null&&s!==void 0?s:0," ")}}function Nt(c,u){if(c&1&&(t(0,"tr")(1,"td"),o(2),i(),t(3,"td",168)(4,"div",169)(5,"div",170),b(6,"img",171),i()(),t(7,"div",172)(8,"a",173),o(9),i()()(),t(10,"td"),o(11),i(),t(12,"td")(13,"div",174),o(14),i()(),t(15,"td",175),o(16),i(),t(17,"td",175)(18,"div",176),o(19),i()(),M(20,Rt,2,1,"td",177)(21,Lt,2,1,"td",177),i()),c&2){let m=u.$implicit,s=u.index,n=w();a(2),K(" ",s+1," "),a(4),p("src",n.setImg(m.studentPhoto),ce),a(3),P(m.studentName),a(2),P(m.admissionNo),a(3),P(m.sex),a(2),P(m.average),a(2),p("ngClass",n.genk.isCategoryActive?"badge badge-light-success fw-bolder":"badge badge-light-danger fw-bolder"),a(),P(n.genk.isCategoryActive?"PASSED":"FAILED"),a(),p("ngIf",n.isCoreSubject),a(),p("ngIf",n.isPromotionByCount)}}var Xe=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.sch=e,this.gen=d,this.schoolClasses=[],this.schoolLevels=[],this.bigboss=[],this.destroy=new U,this.mydata=[],this.classSubjects=[],this.coreSubjects=[],this.sendData=[],this.failLimit=0,this.isPromoAverage=!1,this.isCoreSubject=!1,this.isPromotionByCount=!1,this.isBoth="",this.isBothAnd=!1,this.isBothOr=!1,this.sessionlist=[],this.corePassedResult=[],this.coreFailedResult=[],this.averagePassedResult=[],this.averageFailedResult=[],this.resultlist=[],this.passedResult=[],this.failedResult=[],this.isPassed=!1,this.isChartReady=!1,this.promotionByCountResults=[],this.promotionByAverageResults=[],this.promotionByCoreSubjectsResults=[],this.genk=d}ngOnInit(){this.genk.topdata="Promotion Criteria",this.getLevels()}setImg(s){return s&&s.length>0?this.genk.imgurl+s:this.genk.defaultImg}showChart(){this.chartOptions={series:[{name:"distibuted",data:[this.passedResult.length,this.failedResult.length]}],chart:{height:350,type:"bar",events:{click:function(s,n,e){}}},colors:["#00E396","#FF4560"],plotOptions:{bar:{columnWidth:"45%",distributed:!0}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1","#a41313"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},dataLabels:{enabled:!1},legend:{show:!1},grid:{show:!1},xaxis:{categories:[["Passed"],["Failed"]],labels:{style:{colors:["#000000","#000000"],fontSize:"12px"}}}},this.radialChartOptions={series:[this.passPercentage],chart:{height:350,type:"radialBar",toolbar:{show:!0}},plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(s){return parseInt(s.toString(),10).toString()},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["% Passed"]}}switchCat(s){this.genk.isCategoryActive=s=="pass",this.resultlist=s=="pass"?this.passedResult:this.failedResult,this.isPassed=s=="pass"}getLevels(){this.sch.getClassLevels().subscribe(s=>{this.schoolLevels=s})}getClassByLevel(s){this.genk.criCurrentClassLevelId=s,this.sch.getClassByLevel(this.genk.criCurrentClassLevelId.toString()).subscribe(n=>{this.schoolClasses=n,this.mydata=[]})}changeClass(s){this.genk.criCurrentClassId=s,this.getPromotionAverage(),this.getCoreSubjects(),this.getPromotionSetting(),this.getSession(),this.getCurrentSession()}loadCriteria(){this.getPromotionSetting()}getPromotionAverage(){this.sch.getPromotionAverage(this.genk.criCurrentClassId.toString()).subscribe(s=>{this.failLimit=s.failLimit})}savePromotionAverage(){this.sch.savePromotionAverage(this.failLimit.toString(),this.genk.criCurrentClassId.toString()).subscribe(s=>{this.loadCriteria(),ee.default.fire({icon:"success",title:"Promotion Average updated successfully!.",showConfirmButton:!1,timer:2e3})})}getCoreSubjects(){this.sch.getCoreSubjectsByClass(this.genk.criCurrentClassId.toString()).subscribe(s=>{this.coreSubjects=s})}setCore(s,n){this.bigboss.filter(e=>e.subjectId==n).length>0?this.bigboss[this.bigboss.findIndex(e=>e.subjectId==Number(n))].value=Number(s):this.bigboss.push({subjectId:n,value:Number(s)})}saveCoreScore(){ee.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{debugger;ee.default.showLoading(),this.sch.updateCoreSubject(this.bigboss,this.genk.criCurrentClassId.toString(),this.coreSubjectMustPassCount.toString()).pipe(L(this.destroy)).subscribe(s=>{ee.default.close()})}}).then(s=>{this.loadCriteria(),ee.default.fire({icon:"success",title:"Core Subjects updated successfully!.",showConfirmButton:!1,timer:2e3})})}savePromotionByCount(){debugger;let s=this.promotionByCountTotalPass;this.sch.savePromotionByCount(this.promotionByCountTotalPass.toString(),this.genk.criCurrentClassId.toString()).subscribe(n=>{this.loadCriteria(),ee.default.fire({icon:"success",title:"Promotion By Count Total updated successfully!.",showConfirmButton:!1,timer:2e3})})}setPromotionAverage(s){this.isPromoAverage=s,this.settingsType="AVERAGE",this.settingsValue=s.toString(),this.createPromotionSetting()}setCoreSubject(s){this.isCoreSubject=s,this.settingsType="CORESUBJECT",this.settingsValue=s.toString(),this.createPromotionSetting()}setPromotionByCount(s){this.isPromotionByCount=s,this.settingsType="PROMOTIONBYCOUNT",this.settingsValue=s.toString(),this.createPromotionSetting()}setBothOr(s){this.isBothOr=s,this.settingsType="BOTH",this.settingsValue=s?"OR":"",this.createPromotionSetting()}setBothAnd(s){this.isBothAnd=s,this.settingsType="BOTH",this.settingsValue=s?"AND":"",this.createPromotionSetting()}createPromotionSetting(){ee.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{ee.default.showLoading(),this.sch.createPromotionSetting(this.settingsType,this.settingsValue,this.genk.criCurrentClassId.toString()).pipe(L(this.destroy)).subscribe(s=>{ee.default.close()})}}).then(s=>{this.loadCriteria(),ee.default.fire({icon:"success",title:"Criteria updated successfully!.",showConfirmButton:!1,timer:2e3})})}getPromotionSetting(){this.sch.getPromotionSetting(this.genk.criCurrentClassId.toString()).subscribe(s=>{this.promotionSetting=s,this.isPromoAverage=s.average,this.isCoreSubject=s.coreSubject,this.isPromotionByCount=s.promotionByCount,this.promotionByCountTotalPass=s.promotionMustPassCount,this.coreSubjectMustPassCount=s.coreSubjectMustPassCount?s.coreSubjectMustPassCount:this.coreSubjects.length,this.coreSubjectCount=s.coreSubjectMustPassCount?s.coreSubjectMustPassCount:this.coreSubjects.length,this.averageCoreSubjectType=s.averageCoreSubject,s.averageCoreSubject=="OR"&&(this.isBothOr=!0),s.averageCoreSubject=="AND"&&(this.isBothAnd=!0)})}getSession(){this.sch.getSession().subscribe(s=>{this.sessionlist=s})}getCurrentSession(){this.sch.getCurrentSession().subscribe(s=>{this.currentSessionObj=s,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm)})}getPromotionPositionAverageStudents(){this.currentTerm=="ANNUAL"?this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(s=>{this.resultlist=s,this.promotionByAverageResults=s,this.passedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.failedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.averagePassedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.averageFailedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult}):this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(s=>{this.resultlist=s,this.promotionByAverageResults=s,this.passedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.failedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.averagePassedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.averageFailedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getPromotionCoreSubject(){this.currentTerm=="ANNUAL"?this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(s=>{this.resultlist=s,this.promotionByCoreSubjectsResults=s,this.passedResult=this.resultlist.filter(n=>n.passCount>=this.coreSubjectCount),this.failedResult=this.resultlist.filter(n=>n.passCount<this.coreSubjectCount),this.corePassedResult=this.resultlist.filter(n=>n.passCount>=this.coreSubjectCount),this.coreFailedResult=this.resultlist.filter(n=>n.passCount<this.coreSubjectCount),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult}):this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(s=>{this.resultlist=s,this.promotionByCoreSubjectsResults=s,this.passedResult=this.resultlist.filter(n=>n.passCount>=this.coreSubjectCount),this.failedResult=this.resultlist.filter(n=>n.passCount<this.coreSubjectCount),this.corePassedResult=this.resultlist.filter(n=>n.passCount>=this.coreSubjectCount),this.coreFailedResult=this.resultlist.filter(n=>n.passCount<this.coreSubjectCount),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getPromotionByCount(){this.currentTerm=="ANNUAL"?this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(s=>{this.resultlist=s,this.promotionByCountResults=s,this.passedResult=this.resultlist.filter(n=>n.passCount>=this.promotionByCountTotalPass),this.failedResult=this.resultlist.filter(n=>n.passCount<this.promotionByCountTotalPass),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult}):this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(s=>{this.resultlist=s,this.promotionByCountResults=s,this.passedResult=this.resultlist.filter(n=>n.passCount>=this.promotionByCountTotalPass),this.failedResult=this.resultlist.filter(n=>n.passCount<this.promotionByCountTotalPass),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getPromotionTotalORStudents(){this.currentTerm=="ANNUAL"?this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(s=>{this.resultlist=s,this.passedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.failedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.averagePassedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.averageFailedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(n=>{this.resultlist=n,this.passedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.failedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.corePassedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.coreFailedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length;let e=this.averagePassedResult.concat(this.corePassedResult),d="studentId",l=[...new Map(e.map(h=>[h[d],h])).values()];this.passedResult=l;let r=n;l.forEach(h=>{r.filter(x=>x.studentId==h.studentId).length>0&&(r=r.filter(x=>x.studentId!==h.studentId))}),this.failedResult=r,this.passPercentage=this.passedResult.length/n.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}):this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(s=>{this.resultlist=s,this.passedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.failedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.averagePassedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.averageFailedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.passedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.failedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.corePassedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.coreFailedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length;let e=this.averagePassedResult.concat(this.corePassedResult),d="studentId",l=[...new Map(e.map(h=>[h[d],h])).values()];this.passedResult=l;let r=n;l.forEach(h=>{r.filter(x=>x.studentId==h.studentId).length>0&&(r=r.filter(x=>x.studentId!==h.studentId))}),this.failedResult=r,this.passPercentage=this.passedResult.length/n.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})})}getPromotionTotalAndStudents(){this.currentTerm=="ANNUAL"?this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(s=>{this.resultlist=s,this.passedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.failedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.averagePassedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.averageFailedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(n=>{this.resultlist=n,this.passedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.failedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.corePassedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.coreFailedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100;debugger;let e=this.averagePassedResult.concat(this.corePassedResult),d="studentId",l=[];e.forEach(h=>{e.filter(x=>x.studentId==h.studentId).length>1&&(l.push(this.corePassedResult.filter(x=>x.studentId==h.studentId)[0]),e=e.filter(x=>x.studentId!==h.studentId))}),this.passedResult=l;let r=n;l.forEach(h=>{r.filter(x=>x.studentId==h.studentId).length>0&&(r=r.filter(x=>x.studentId!==h.studentId))}),this.passPercentage=this.passedResult.length/n.length*100,this.failedResult=r,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}):this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(s=>{this.resultlist=s,this.passedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.failedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.averagePassedResult=this.resultlist.filter(n=>n.average>=this.failLimit),this.averageFailedResult=this.resultlist.filter(n=>n.average<this.failLimit),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.passedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.failedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.corePassedResult=this.resultlist.filter(h=>h.passCount>=this.coreSubjectCount),this.coreFailedResult=this.resultlist.filter(h=>h.passCount<this.coreSubjectCount),this.passCount=this.passedResult.length,this.failCount=this.failedResult.length,this.passPercentage=this.passCount/this.resultlist.length*100;debugger;let e=this.averagePassedResult.concat(this.corePassedResult),d="studentId",l=[];e.forEach(h=>{e.filter(x=>x.studentId==h.studentId).length>1&&(l.push(this.corePassedResult.filter(x=>x.studentId==h.studentId)[0]),e=e.filter(x=>x.studentId!==h.studentId))}),this.passedResult=l;let r=n;l.forEach(h=>{r.filter(x=>x.studentId==h.studentId).length>0&&(r=r.filter(x=>x.studentId!==h.studentId))}),this.passPercentage=this.passedResult.length/n.length*100,this.failedResult=r,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})})}findPosition(){debugger;let s=this.isPromoAverage,n=this.isPromotionByCount,e=this.isCoreSubject;this.isPromoAverage&&!this.isCoreSubject&&!this.isPromotionByCount&&this.getPromotionPositionAverageStudents(),!this.isPromoAverage&&!this.isPromotionByCount&&this.isCoreSubject&&this.getPromotionCoreSubject(),this.isPromotionByCount&&!this.isPromoAverage&&!this.isCoreSubject&&this.getPromotionByCount(),this.isPromoAverage&&this.isCoreSubject&&!this.isPromotionByCount&&(this.averageCoreSubjectType=="OR"&&this.getPromotionTotalORStudents(),this.averageCoreSubjectType=="AND"&&this.getPromotionTotalAndStudents()),this.isPromotionByCount&&this.isCoreSubject&&!this.isPromoAverage&&(this.averageCoreSubjectType=="OR"&&this.getCountOrCore(),this.averageCoreSubjectType=="AND"&&this.getCountAndCore()),this.isPromotionByCount&&!this.isCoreSubject&&this.isPromoAverage&&(this.averageCoreSubjectType=="OR"&&this.getCountOrAverage(),this.averageCoreSubjectType=="AND"&&this.getCountAndAverage()),this.isPromotionByCount&&this.isCoreSubject&&this.isPromoAverage&&(this.averageCoreSubjectType=="OR"&&this.getCountOrCoreOrAverage(),this.averageCoreSubjectType=="AND"&&this.getCountAndCoreAndAverage())}changeSession(s){this.currentSessionId=s.toString(),this.findPosition()}changeTerm(s){this.currentTerm=s,this.findPosition()}getCountAndCore(){return me(this,null,function*(){if(this.currentTerm=="ANNUAL"){let d=yield new Promise((h,x)=>{this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByCoreSubjectsResults=_,h(1)})})}else{let d=yield new Promise((h,x)=>{this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByCoreSubjectsResults=_,h(1)})})}for(let e=0;e<this.promotionByCoreSubjectsResults.length;e++)this.promotionByCoreSubjectsResults[e].count=this.promotionByCountResults[this.promotionByCountResults.findIndex(d=>d.studentId==this.promotionByCoreSubjectsResults[e].studentId)].passCount;this.passedResult=this.promotionByCoreSubjectsResults.filter(e=>e.passCount>=this.coreSubjectCount&&e.count>=this.promotionByCountTotalPass);let s=this.passedResult,n=this.promotionByCoreSubjectsResults;s.forEach(e=>{n.filter(d=>d.studentId==e.studentId).length>0&&(n=n.filter(d=>d.studentId!==e.studentId))}),this.failedResult=n,this.passPercentage=this.passedResult.length/this.promotionByCoreSubjectsResults.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getCountOrCore(){return me(this,null,function*(){if(this.currentTerm=="ANNUAL"){let d=yield new Promise((h,x)=>{this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByCoreSubjectsResults=_,h(1)})})}else{let d=yield new Promise((h,x)=>{this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByCoreSubjectsResults=_,h(1)})})}for(let e=0;e<this.promotionByCoreSubjectsResults.length;e++)this.promotionByCoreSubjectsResults[e].count=this.promotionByCountResults[this.promotionByCountResults.findIndex(d=>d.studentId==this.promotionByCoreSubjectsResults[e].studentId)].passCount;this.passedResult=this.promotionByCoreSubjectsResults.filter(e=>e.passCount>=this.coreSubjectCount||e.count>=this.promotionByCountTotalPass);let s=this.passedResult,n=this.promotionByCoreSubjectsResults;s.forEach(e=>{n.filter(d=>d.studentId==e.studentId).length>0&&(n=n.filter(d=>d.studentId!==e.studentId))}),this.failedResult=n,this.passPercentage=this.passedResult.length/this.promotionByCoreSubjectsResults.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getCountOrAverage(){return me(this,null,function*(){if(this.currentTerm=="ANNUAL"){let d=yield new Promise((h,x)=>{this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByAverageResults=_,h(1)})})}else{let d=yield new Promise((h,x)=>{this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByAverageResults=_,h(1)})})}for(let e=0;e<this.promotionByAverageResults.length;e++)this.promotionByAverageResults[e].count=this.promotionByCountResults[this.promotionByCountResults.findIndex(d=>d.studentId==this.promotionByAverageResults[e].studentId)].passCount;this.passedResult=this.promotionByAverageResults.filter(e=>e.average>=this.failLimit||e.count>=this.promotionByCountTotalPass);let s=this.passedResult,n=this.promotionByAverageResults;s.forEach(e=>{n.filter(d=>d.studentId==e.studentId).length>0&&(n=n.filter(d=>d.studentId!==e.studentId))}),this.failedResult=n,this.passPercentage=this.passedResult.length/this.promotionByAverageResults.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getCountAndAverage(){return me(this,null,function*(){if(this.currentTerm=="ANNUAL"){let d=yield new Promise((h,x)=>{this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(_=>{this.resultlist=_,this.promotionByAverageResults=_,h(1)})})}else{let d=yield new Promise((h,x)=>{this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByCountResults=_,h(1)})}),r=yield new Promise((h,x)=>{this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(_=>{this.resultlist=_,this.promotionByAverageResults=_,h(1)})})}for(let e=0;e<this.promotionByAverageResults.length;e++)this.promotionByAverageResults[e].count=this.promotionByCountResults[this.promotionByCountResults.findIndex(d=>d.studentId==this.promotionByAverageResults[e].studentId)].passCount;this.passedResult=this.promotionByAverageResults.filter(e=>e.average>=this.failLimit&&e.count>=this.promotionByCountTotalPass);let s=this.passedResult,n=this.promotionByAverageResults;s.forEach(e=>{n.filter(d=>d.studentId==e.studentId).length>0&&(n=n.filter(d=>d.studentId!==e.studentId))}),this.failedResult=n,this.passPercentage=this.passedResult.length/this.promotionByAverageResults.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getCountAndCoreAndAverage(){return me(this,null,function*(){if(this.currentTerm=="ANNUAL"){let d=yield new Promise((_,X)=>{this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(A=>{this.resultlist=A,this.promotionByCountResults=A,_(1)})}),r=yield new Promise((_,X)=>{this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(A=>{this.resultlist=A,this.promotionByAverageResults=A,_(1)})}),x=yield new Promise((_,X)=>{this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(A=>{this.resultlist=A,this.promotionByCoreSubjectsResults=A,_(1)})})}else{let d=yield new Promise((_,X)=>{this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(A=>{this.resultlist=A,this.promotionByCountResults=A,_(1)})}),r=yield new Promise((_,X)=>{this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(A=>{this.resultlist=A,this.promotionByAverageResults=A,_(1)})}),x=yield new Promise((_,X)=>{this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(A=>{this.resultlist=A,this.promotionByCoreSubjectsResults=A,_(1)})})}for(let e=0;e<this.promotionByCoreSubjectsResults.length;e++)this.promotionByCoreSubjectsResults[e].count=this.promotionByCountResults[this.promotionByCountResults.findIndex(d=>d.studentId==this.promotionByCoreSubjectsResults[e].studentId)].passCount;this.passedResult=this.promotionByCoreSubjectsResults.filter(e=>e.average>=this.failLimit&&e.count>=this.promotionByCountTotalPass&&e.passCount>=this.coreSubjectCount);let s=this.passedResult,n=this.promotionByCoreSubjectsResults;s.forEach(e=>{n.filter(d=>d.studentId==e.studentId).length>0&&(n=n.filter(d=>d.studentId!==e.studentId))}),this.failedResult=n,this.passPercentage=this.passedResult.length/this.promotionByCoreSubjectsResults.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}getCountOrCoreOrAverage(){return me(this,null,function*(){if(this.currentTerm=="ANNUAL"){let d=yield new Promise((_,X)=>{this.sch.getPromotionByCountAnnual(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(A=>{this.resultlist=A,this.promotionByCountResults=A,_(1)})}),r=yield new Promise((_,X)=>{this.sch.getPromotionPositionAnnualAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(A=>{this.resultlist=A,this.promotionByAverageResults=A,_(1)})}),x=yield new Promise((_,X)=>{this.sch.getPromotionAnnualCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString()).subscribe(A=>{this.resultlist=A,this.promotionByCoreSubjectsResults=A,_(1)})})}else{let d=yield new Promise((_,X)=>{this.sch.getPromotionByCount(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(A=>{this.resultlist=A,this.promotionByCountResults=A,_(1)})}),r=yield new Promise((_,X)=>{this.sch.getPromotionPositionAverageStudents(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(A=>{this.resultlist=A,this.promotionByAverageResults=A,_(1)})}),x=yield new Promise((_,X)=>{this.sch.getPromotionCoreSubject(this.genk.criCurrentClassId.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(A=>{this.resultlist=A,this.promotionByCoreSubjectsResults=A,_(1)})})}for(let e=0;e<this.promotionByCoreSubjectsResults.length;e++)this.promotionByCoreSubjectsResults[e].count=this.promotionByCountResults[this.promotionByCountResults.findIndex(d=>d.studentId==this.promotionByCoreSubjectsResults[e].studentId)].passCount;this.passedResult=this.promotionByCoreSubjectsResults.filter(e=>e.average>=this.failLimit||e.count>=this.promotionByCountTotalPass||e.passCount>=this.coreSubjectCount);let s=this.passedResult,n=this.promotionByCoreSubjectsResults;s.forEach(e=>{n.filter(d=>d.studentId==e.studentId).length>0&&(n=n.filter(d=>d.studentId!==e.studentId))}),this.failedResult=n,this.passPercentage=this.passedResult.length/this.promotionByCoreSubjectsResults.length*100,this.isChartReady=!0,this.showChart(),this.genk.isCategoryActive?this.resultlist=this.passedResult:this.resultlist=this.failedResult})}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(O),E(W))},u.\u0275cmp=N({type:u,selectors:[["ng-component"]],viewQuery:function(n,e){if(n&1&&ke(wt,5),n&2){let d;Ae(d=Me())&&(e.chart=d.first)}},decls:187,vars:22,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],[1,"d-flex","flex-wrap","justify-content-end","flex-stack","mb-2"],["data-kt-menu","true","id","kt-toolbar-filter",1,"w-300px","w-md-325px"],[2,"display","flex","margin-bottom","10px"],["name","classlevel",1,"form-select","form-select-solid","fw-bolder",2,"border","solid 1px dodgerblue","outline","solid 1px dodgerblue",3,"value","change"],["wed",""],["value","","selected","selected"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-left","20px"],["name","classy",1,"form-select","form-select-solid","fw-bolder",2,"border","solid 1px dodgerblue","outline","solid 1px dodgerblue",3,"value","change"],["sess",""],[1,"card","mb-5","mb-xl-10"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer","mt-5"],[1,"form-check","form-check-lg","form-check-custom","form-check-solid"],["type","checkbox",1,"me-3","form-check-input",3,"checked","change"],["promoAverage",""],[1,"fw-bolder","m-0"],["id","kt_account_settings_profile_details",1,"collapse","show"],["id","kt_account_profile_details_form",1,"form"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-12"],[1,"row"],[1,"d-flex","align-items-center","flex-column","flex-grow-1","pe-8"],[1,"d-flex","flex-wrap"],[1,"border","border-gray-300","border","rounded","min-w-200px","py-3","px-4","me-6","mb-3"],[1,"d-flex"],[1,"fs-2x","fw-bolder"],[1,"d-flex","align-items-center","mb-3"],[1,"fw-bold","col-4","fs-6","text-gray-400","me-3"],["type","text","placeholder","0",1,"form-control","form-control-lg","form-control-solid","flex-grow-1",3,"value","change"],["pas",""],["fal",""],[1,"notice","d-flex","bg-light-primary","rounded","border-primary","border","border-dashed","mb-9","p-6"],[1,"svg-icon","svg-icon-2tx","svg-icon-primary","me-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.3","d","M22 19V17C22 16.4 21.6 16 21 16H8V3C8 2.4 7.6 2 7 2H5C4.4 2 4 2.4 4 3V19C4 19.6 4.4 20 5 20H21C21.6 20 22 19.6 22 19Z","fill","currentColor"],["d","M20 5V21C20 21.6 19.6 22 19 22H17C16.4 22 16 21.6 16 21V8H8V4H19C19.6 4 20 4.4 20 5ZM3 8H4V4H3C2.4 4 2 4.4 2 5V7C2 7.6 2.4 8 3 8Z","fill","currentColor"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-bold"],[1,"fs-6","text-gray-700"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary",3,"click"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],["corecheck",""],["class","col-lg-4 ",4,"ngFor","ngForOf"],["class","border col-3 border-gray-300 border rounded min-w-200px py-3 px-4 me-6 mb-3",4,"ngIf"],["promcount",""],[1,"card-body","border-top"],[1,"border","border-gray-300","border","rounded","min-w-200px","py-3","px-4","mb-3","col-6",2,"margin-left","5%"],[1,"mt-4","mb-3","w-100"],[1,"fs-3fw-bolder","mt-3","me-4"],[2,"margin-bottom","15px"],["type","text","name","pbctp","placeholder","0",1,"form-control","form-control-lg","form-control-solid","flex-grow-1","w-100",3,"ngModel","ngModelChange"],["class","card mb-5 mb-xl-10",4,"ngIf"],["align","center",1,"pt-1","pb-3"],["align","center","data-bs-toggle","modal","data-bs-target","#kt_modal_new_card",1,"btn","btn-primary","px-6","w-50","d-block","text-nowrap",3,"click"],["class","row gy-5 g-xl-8",4,"ngIf"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search Students",1,"form-control","form-control-solid","w-250px","ps-15"],[1,"card-toolbar"],[2,"display","flex"],["name","clasoy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["yope",""],["selected","","disabled",""],["name","class","aria-label","Select Term","data-control","select2","data-placeholder","Select Term..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["ter",""],["value",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["value","ANNUAL"],[2,"display","flex","margin-left","15px"],[2,"box-shadow","2px 2px 10px rgb(0, 0, 0, 0.2)","background-color","white","display","flex","align-items","center","border-radius","10px","padding","6px"],[3,"ngClass","click"],[1,"card-body","pt-0",2,"overflow-x","auto"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-gray-600","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"min-w-50px","pe-2"],[1,"min-w-125px"],[1,"min-x-100px"],[1,"min-w-100px"],[1,"min-w-100px","text-center"],["class","min-w-100px",4,"ngIf"],[1,"fw-bold","text-gray-800"],[4,"ngFor","ngForOf"],[3,"value"],[1,"col-lg-4"],[1,"d-flex","flex-column","flex-grow-1","pe-8"],[1,"border","border-gray-300","border","rounded","min-w-100px","py-3","px-4","me-6","mb-3"],[1,"fs-4","fw-bolder"],[1,"fw-bold","col-6","fs-6","text-gray-400","me-3"],["ment",""],[1,"border","col-3","border-gray-300","border","rounded","min-w-200px","py-3","px-4","me-6","mb-3"],[1,"fs-3","fw-bolder","mt-3"],[1,"d-flex","align-items-center","mt-4","mb-3"],[1,"fw-bold","col-4","fs-6","text-gray-600","me-3"],["type","text","name","csmp","placeholder","0",1,"form-control","form-control-lg","form-control-solid","flex-grow-1",3,"ngModel","ngModelChange"],[1,"card-header","card-header-stretch","pb-0"],[1,"m-0"],["id","kt_billing_payment_tab_content",1,"card-body","tab-content"],["id","kt_billing_creditcard",1,"tab-pane","fade","show","active"],[1,"row","gx-9","gy-6"],["data-kt-billing-element","card",1,"col-xl-6"],[1,"card","card-dashed","h-xl-100","flex-row","flex-stack","flex-wrap","p-6"],[1,"d-flex","flex-stack","cursor-pointer"],[1,"d-flex","align-items-center","mr-10"],[1,"d-flex","me-20","flex-column"],[1,"fw-bolder","text-gray-800","mb-1","fs-4"],[1,"fs-6","text-gray-600"],[1,"form-check","me","form-check-custom","form-check-solid"],["type","radio","name","account_plan","value","1",1,"form-check-input",3,"checked","change"],["bothor",""],[1,"card","card-dashed","h-xl-00","flex-row","flex-stack","flex-wrap","p-6"],["bothand",""],[1,"row","gy-5","g-xl-8"],[1,"col-xl-8"],[1,"card","card-xl-stretch","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"text-muted","fw-bold","fs-7"],[1,"my-1","me-4"],["data-control","select2","data-placeholder","Select Hours","data-hide-search","true",1,"form-select","form-select-sm","form-select-solid","w-125px"],["value","1","selected","selected"],["value","2"],["value","3"],["value","4"],["value","5"],[2,"text-align","center"],[3,"series","chart","colors","xaxis","title","legend","plotOptions","fill"],[1,"col-xl-4"],[1,"card-header","border-0","py-5"],[1,"card-label","fw-bold","fs-3","mb-1"],[1,"text-muted","fw-semibold","fs-7"],["type","button","data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end",1,"btn","btn-sm","btn-icon","btn-color-primary","btn-active-light-primary"],[1,"ki-outline","ki-category","fs-6"],["data-kt-menu","true","id","kt_menu_64381dd639c38",1,"menu","menu-sub","menu-sub-dropdown","w-250px","w-md-300px"],[1,"px-7","py-5"],[1,"fs-5","text-dark","fw-bold"],[1,"separator","border-gray-200"],[1,"mb-10"],[1,"form-label","fw-semibold"],["data-kt-select2","true","data-placeholder","Select option","data-dropdown-parent","#kt_menu_64381dd639c38","data-allow-clear","true",1,"form-select","form-select-solid"],["value","1"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid","me-5"],["type","checkbox","value","1",1,"form-check-input"],[1,"form-check-label"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox","value","2","checked","checked",1,"form-check-input"],[1,"form-check","form-switch","form-switch-sm","form-check-custom","form-check-solid"],["type","checkbox","value","","name","notifications","checked","",1,"form-check-input"],[1,"d-flex","justify-content-end"],["type","reset","data-kt-menu-dismiss","true",1,"btn","btn-sm","btn-light","btn-active-light-primary","me-2"],["type","submit","data-kt-menu-dismiss","true",1,"btn","btn-sm","btn-primary"],[1,"card-body","d-flex","flex-column"],[3,"series","chart","plotOptions","labels","fill","stroke"],[1,"pt-5"],[1,"text-center","fs-6","pb-5"],[1,"badge","badge-light-primary","fs-8"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-circle","symbol-40px","overflow-hidden","me-3"],[1,"symbol-label"],["alt","Emma Smith",1,"w-100",2,"object-fit","cover",3,"src"],[1,"d-flex","flex-column"],[1,"text-gray-800","text-hover-primary","mb-1"],[1,"badge","badge-light-primary","fw-bolder"],[1,"text-center"],[3,"ngClass"],["class","text-center",4,"ngIf"]],template:function(n,e){if(n&1){let d=I();t(0,"div",0)(1,"div",1)(2,"div")(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div")(8,"select",5,6),g("change",function(){v(d);let r=k(9);return y(e.getClassByLevel(r.value))}),t(10,"option",7),o(11,"Class Level"),i(),M(12,xt,2,2,"option",8),i()(),t(13,"div",9)(14,"select",10,11),g("change",function(){v(d);let r=k(15);return y(e.changeClass(r.value))}),t(16,"option",7),o(17,"Select Class"),i(),M(18,Et,2,2,"option",8),i()()()()(),t(19,"div",12)(20,"div",13)(21,"div")(22,"div",14)(23,"input",15,16),g("change",function(){v(d);let r=k(24);return y(e.setPromotionAverage(r.checked))}),i(),t(25,"h3",17),o(26,"Promotion by Average Score"),i()()()(),t(27,"div",18)(28,"form",19)(29,"div",20)(30,"div",21)(31,"div",22)(32,"div",23)(33,"div",24)(34,"div",25)(35,"div",26)(36,"div",27)(37,"div",28),o(38,"Pass"),i()(),t(39,"div",29)(40,"div",30),o(41," greater than"),i(),t(42,"input",31,32),g("change",function(){v(d);let r=k(43);return y(e.failLimit=r.value)}),i()()(),t(44,"div",26)(45,"div",27)(46,"div",28),o(47,"Fail"),i()(),t(48,"div",29)(49,"div",30),o(50," Less than"),i(),t(51,"input",31,33),g("change",function(){v(d);let r=k(52);return y(e.failLimit=r.value)}),i()()()()()()()(),t(53,"div",34)(54,"span",35),T(),t(55,"svg",36),b(56,"path",37)(57,"path",38),i()(),R(),t(58,"div",39)(59,"div",40)(60,"div",41),o(61,"Promotion by average score determines student overall success and eligibility for promotion. "),i()()()()(),t(62,"div",42)(63,"button",43),g("click",function(){return e.savePromotionAverage()}),o(64,"Save Changes"),i()()()()(),t(65,"div",12)(66,"div",44)(67,"div",45)(68,"div",14)(69,"input",15,46),g("change",function(){v(d);let r=k(70);return y(e.setCoreSubject(r.checked))}),i(),t(71,"h3",17),o(72,"Promotion by Core Subject"),i()()()(),t(73,"div",18)(74,"form",19)(75,"div",20)(76,"div",21),M(77,Pt,13,2,"div",47),i(),t(78,"div",34)(79,"span",35),T(),t(80,"svg",36),b(81,"path",37)(82,"path",38),i()(),R(),t(83,"div",39)(84,"div",40)(85,"div",41),o(86,"Promotion by core subject determines student success in subjects and eligibility for promotion. "),i()()()(),M(87,kt,8,1,"div",48),i(),t(88,"div",42)(89,"button",43),g("click",function(){return e.saveCoreScore()}),o(90,"Save Changes"),i()()()()(),t(91,"div",12)(92,"div",44)(93,"div",45)(94,"div",14)(95,"input",15,49),g("change",function(){v(d);let r=k(96);return y(e.setPromotionByCount(r.checked))}),i(),t(97,"h3",17),o(98,"Promotion by Count"),i()()()(),t(99,"div",18)(100,"form",19)(101,"div",50)(102,"div")(103,"div",22)(104,"div",23)(105,"div")(106,"div",27)(107,"div",51)(108,"div",52)(109,"div",53)(110,"h3",54),o(111,"Total Subject to Pass:"),i(),t(112,"input",55),C("ngModelChange",function(r){return S(e.promotionByCountTotalPass,r)||(e.promotionByCountTotalPass=r),r}),i()()()()()()()()(),t(113,"div",34)(114,"span",35),T(),t(115,"svg",36),b(116,"path",37)(117,"path",38),i()(),R(),t(118,"div",39)(119,"div",40)(120,"div",41),o(121,"Total subject indicate the number of subject the student must passed to be promoted "),i()()()()()(),t(122,"div",42)(123,"button",43),g("click",function(){return e.savePromotionByCount()}),o(124,"Save Changes"),i()()()(),M(125,At,32,2,"div",56),t(126,"div",57)(127,"a",58),g("click",function(){return e.findPosition()}),o(128," Apply Setting "),i()(),M(129,Mt,86,14,"div",59),t(130,"div",60)(131,"div",61)(132,"div",62)(133,"div",63)(134,"span",64),T(),t(135,"svg",36),b(136,"rect",65)(137,"path",66),i()(),R(),b(138,"input",67),i()(),t(139,"div",68)(140,"div",3)(141,"div",69)(142,"div")(143,"select",70,71),g("change",function(){v(d);let r=k(144);return y(e.changeSession(r.value))}),t(145,"option",72),o(146,"Select Session..."),i(),M(147,Tt,2,2,"option",8),i()(),t(148,"div",9)(149,"select",73,74),g("change",function(){v(d);let r=k(150);return y(e.changeTerm(r.value))}),t(151,"option",75),o(152,"Select Term..."),i(),t(153,"option",76),o(154,"First "),i(),t(155,"option",77),o(156,"Second"),i(),t(157,"option",78),o(158,"Third"),i(),t(159,"option",79),o(160,"Annual"),i()()()()(),t(161,"div",80)(162,"div",81)(163,"div",82),g("click",function(){return e.switchCat("fail")}),o(164,"Failed"),i(),t(165,"div",82),g("click",function(){return e.switchCat("pass")}),o(166,"Passed"),i()()()()(),t(167,"div",83)(168,"table",84)(169,"thead")(170,"tr",85)(171,"th",86),o(172," S/N "),i(),t(173,"th",87),o(174,"Students' Name"),i(),t(175,"th",88),o(176,"Admission No."),i(),t(177,"th",89),o(178,"Gender"),i(),t(179,"th",90),o(180,"Average Score"),i(),t(181,"th",90),o(182,"Status"),i(),M(183,It,2,0,"th",91)(184,jt,2,0,"th",91),i()(),t(185,"tbody",92),M(186,Nt,22,10,"tr",93),i()()()()()()()()}n&2&&(a(8),p("value",e.genk.criCurrentClassLevelId),a(4),p("ngForOf",e.schoolLevels),a(2),p("value",e.genk.criCurrentClassId),a(4),p("ngForOf",e.schoolClasses),a(5),p("checked",e.isPromoAverage),a(19),p("value",e.failLimit),a(9),p("value",e.failLimit),a(18),p("checked",e.isCoreSubject),a(8),p("ngForOf",e.coreSubjects),a(10),p("ngIf",e.coreSubjects.length>0),a(8),p("checked",e.isPromotionByCount),a(17),f("ngModel",e.promotionByCountTotalPass),a(13),p("ngIf",e.isPromoAverage&&e.isCoreSubject||e.isPromotionByCount&&e.isCoreSubject||e.isPromoAverage&&e.isPromotionByCount),a(4),p("ngIf",e.isChartReady),a(14),p("value",e.currentSessionId),a(4),p("ngForOf",e.sessionlist),a(2),p("value",e.currentTerm),a(14),p("ngClass",e.genk.isCategoryActive?"nobtnact":"btnact"),a(2),p("ngClass",e.genk.isCategoryActive?"btnact":"nobtnact"),a(18),p("ngIf",e.isCoreSubject),a(),p("ngIf",e.isPromotionByCount),a(2),p("ngForOf",e.resultlist))},dependencies:[Te,H,ge,Y,q,Q,J,D,z,G,Z,Fe],styles:[".btnact[_ngcontent-%COMP%]{background-color:#10ab23;color:#fff;font-weight:600;padding:10px 20px;border-radius:30px}.nobtnact[_ngcontent-%COMP%]{color:#10ab23;font-weight:600;padding:10px 20px;border-radius:30px}"]});let c=u;return c})();var Bt=(c,u)=>[c,"admin-students","enroll-students",u],Vt=(c,u)=>[c,"admin-students","view-enroll",u];function Wt(c,u){if(c&1&&(t(0,"tbody",12)(1,"tr")(2,"td"),o(3),i(),t(4,"td")(5,"a",13),o(6),i()(),t(7,"td")(8,"a",13),o(9),i()(),t(10,"td")(11,"div",14)(12,"a",15),o(13,"Enroll Student"),i(),t(14,"a",16),o(15,"View Student"),i()()()()()),c&2){let m=u.$implicit,s=u.index;a(3),P(s+1),a(3),P(m.subject),a(3),P(m.studentCount),a(3),p("routerLink",Ee(5,Bt,"/admin",m.id)),a(2),p("routerLink",Ee(8,Vt,"/admin",m.id))}}var $e=(()=>{let u=class u{constructor(s,n,e,d){this.router=s,this.auth=n,this.sch=e,this.gen=d,this.userName="",this.userImgPath="",this.mobileModal=!1,this.subjectList=[],this.genk=d,this.userName=n.currentUserValue.name,this.userImgPath=n.currentUserValue.logo,this.adminStatus=n.currentUserValue.status}ngOnInit(){this.genk.topdata="Dashboard",this.getElectiveSubjects()}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}getElectiveSubjects(){this.sch.getElectiveSubjects().subscribe(s=>{this.subjectList=s})}};u.\u0275fac=function(n){return new(n||u)(E(B),E(V),E(O),E(W))},u.\u0275cmp=N({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:19,vars:1,consts:[[1,"card","mb-5","mb-xxl-10"],[1,"card-header"],[1,"card-title"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-flush","align-middle","table-row-bordered","table-row-solid","gy-4","gs-9"],[1,"border-gray-200","fs-5","fw-bold","bg-lighten"],[1,"min-w-50px"],[1,"min-w-250px"],[1,"min-w-100px"],[1,"min-w-200px"],["class","fw-6 fw-bold text-gray-600",4,"ngFor","ngForOf"],[1,"fw-6","fw-bold","text-gray-600"],["href","#",1,"text-hover-primary","text-gray-600"],[1,"d-flex","align-items-center","py-2"],[1,"btn","btn-sm","btn-light-primary","btn-active-primary","me-3",3,"routerLink"],[1,"btn","btn-sm","btn-light","btn-active-primary","me-3",3,"routerLink"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),o(4,"Elective Subject"),i()()(),t(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th",7),o(11,"S/N"),i(),t(12,"th",8),o(13,"Subject Name"),i(),t(14,"th",9),o(15,"No of Student"),i(),t(16,"th",10),o(17,"Action"),i()()(),M(18,Wt,16,11,"tbody",11),i()()()()),n&2&&(a(18),p("ngForOf",e.subjectList))},dependencies:[H,Le],encapsulation:2});let c=u;return c})();var Ot=[{path:"",component:Pe},{path:"class-level",component:He},{path:"manage-subjects",component:Pe},{path:"grade-scale",component:Je},{path:"ca-setup",component:Ze},{path:"pyscomotor-setup",component:Ye},{path:"session",component:Ke},{path:"school-profile",component:qe},{path:"core-subject",component:Qe},{path:"promotion",component:Xe},{path:"elective-subjects",component:$e}],et=(()=>{let u=class u{};u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=ve({type:u}),u.\u0275inj=ye({imports:[be.forChild(Ot),be]});let c=u;return c})();var rn=(()=>{let u=class u{};u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=ve({type:u}),u.\u0275inj=ye({imports:[je,Be,Ve,Re,be,et,Oe,Ue,De]});let c=u;return c})();export{rn as SettingsModule};
