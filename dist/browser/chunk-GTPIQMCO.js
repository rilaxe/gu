import{a as Oe}from"./chunk-AH4K4NGE.js";import{c as ve}from"./chunk-GFTAKBCK.js";import{a as Xe,b as qe}from"./chunk-IW33ENKN.js";import{Oa as ze,Pa as Ze}from"./chunk-DKUPX3E6.js";import{b as He}from"./chunk-E75JTKMU.js";import{c as Ue,e as ae}from"./chunk-S5EBJMGB.js";import{a as Le}from"./chunk-REPXFO2O.js";import{$a as F,Ab as H,Bb as V,C as Ae,Cb as ie,Da as ee,Db as X,Fa as te,Fb as xe,Gb as Ce,Hb as q,Ib as z,Jb as Z,K as Re,Ka as P,L as c,La as Q,M as k,Mb as Be,Nb as Ge,Oa as Pe,Qa as Fe,R as _e,T as v,Ua as We,V as p,Y as e,Z as i,Za as le,_ as b,a as J,ca as T,cb as Te,da as S,ea as h,fb as W,gb as me,ha as ne,hb as L,ma as I,mb as B,na as r,o as Y,oa as _,pa as D,qa as je,ra as y,sa as w,t as R,ta as E,u as Ne,vb as De,w as x,wb as O,x as C,xb as G,y as N,yb as U,z as A,zb as be}from"./chunk-CJ262RDI.js";import"./chunk-DUVFM7XF.js";import"./chunk-KIZUWF6M.js";import{h as $,q as Se}from"./chunk-2YZJNNV5.js";var K=$(me());function st(d,u){if(d&1&&(e(0,"option",217),r(1),i()),d&2){let l=u.$implicit,n=h();p("selected",l==n.staff.state)("value",l),c(),_(l)}}function lt(d,u){if(d&1&&(e(0,"option",217),r(1),i()),d&2){let l=u.$implicit,n=h();p("selected",l==n.staff.lga)("value",l),c(),_(l)}}function ot(d,u){d&1&&(e(0,"div",218)(1,"h4",219),r(2,"You Are Activating this Staff Profile"),i(),e(3,"div",220),r(4,"Before you proceed with activating this staff profile, please note that once the activation process is initiated, this staff can be assigned subjects. "),b(5,"br"),i()())}function dt(d,u){d&1&&(e(0,"div",218)(1,"h4",219),r(2,"You Are Deactivating this Staff Profile"),i(),e(3,"div",220),r(4,"Before you proceed with deactivating this staff profile, please note that once the deactivation process is initiated, this staff cannot be assigned subjects. "),b(5,"br"),i()())}function ct(d,u){if(d&1){let l=T();e(0,"div",147)(1,"button",221),S("click",function(){x(l);let a=h();return C(a.activateAccount(a.staff.id))}),r(2,"Activate Account"),i()()}}function mt(d,u){if(d&1){let l=T();e(0,"div",222),S("click",function(){x(l);let a=h();return C(a.deactivateAccount(a.staff.id))}),e(1,"button",223),r(2,"Deactivate Account"),i()()}}function ut(d,u){if(d&1&&(e(0,"tr")(1,"td",224),r(2),i(),e(3,"td")(4,"a",225),r(5),i()(),e(6,"td")(7,"a",225),r(8),i()()()),d&2){let l=u.$implicit,n=u.index;c(2),D(" ",n+1," "),c(3),_(l.class),c(3),_(l.subjects)}}function pt(d,u){if(d&1&&(e(0,"option",226),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.class)}}function ft(d,u){if(d&1&&(e(0,"option",226),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.subjects)}}var Ke=(()=>{let u=class u{constructor(n,a,t,o,m,s){this.router=n,this.sch=a,this.auth=t,this.activeRoute=o,this.obj=m,this.gen=s,this.userName="",this.userImgPath="",this.mobileModal=!1,this.staff=new Ue,this.destroy=new J,this.lgs=[],this.states=[],this.subjectList=[],this.staffSubjectList=[],this.schoolClasses=[],this.genk=s,this.objService=m,this.userName=t.currentUserValue.name,this.userImgPath=t.currentUserValue.logo,this.adminStatus=t.currentUserValue.status}ngOnInit(){this.genk.topdata="Staff",this.studentId=this.auth.currentUserValue.id.toString(),this.states=Object.keys(this.objService.lga),this.getStaff(),this.getSubjects(),this.getClassNames(),this.getStaffSubjects()}setImg(n){return n&&n.length>0?this.genk.imgurl+n:this.genk.defaultImg}setLGA(n){this.lgs=this.objService.lga[n],this.staff.state=n}selectLG(n){this.staff.lga=n}getStaff(){this.sch.getStaffById(this.studentId.toString()).subscribe(n=>{this.studentobj=n,this.staff=n,this.staff.otherNames&&(this.staff.firstName=this.staff.otherNames.split(" ")[0]),this.staff.middleName=this.staff.otherNames.split(" ")[1]})}updateStaff(){this.staff.schoolId=this.auth.currentUserValue.schoolId,this.staff.passport=this.genk.studentImgFile;let n=new FormData;for(let t in this.staff)if(this.staff[t])switch(t.toString()){case"passport":n.append("media",this.genk.studentImgFile,this.passportName);break;default:n.append(t.toString(),this.staff[t]);break}let a;K.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{K.default.showLoading(),this.sch.updateStaff(n).pipe(Y(this.destroy)).subscribe(t=>{this.getStaff(),K.default.close()})}}).then(t=>{K.default.fire({icon:"success",title:"Staff Information updated!.",showConfirmButton:!1,timer:2e3})})}getSubjects(){this.sch.getSubjects().subscribe(n=>{this.subjectList=n})}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}createStaffSubject(n,a){let t=this.subjectList.filter(s=>s.id==n)[0].subjects,o=this.schoolClasses.filter(s=>s.id==a)[0].class,m={classId:a,Class:o,subjectId:n,subjects:t,staffId:Number(this.studentId)};K.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{K.default.showLoading(),this.sch.createStaffSubject(m).pipe(Y(this.destroy)).subscribe(s=>{this.getStaffSubjects(),K.default.close()})}}).then(s=>{K.default.fire({icon:"success",title:"Staff Information updated!.",showConfirmButton:!1,timer:2e3})})}getStaffSubjects(){this.sch.getStaffSubjects(this.studentId).subscribe(n=>{this.staffSubjectList=n})}deleteStaffSubjects(n){K.default.fire({title:"Do you want to delete this data?",showCancelButton:!0,confirmButtonText:"Yes, Delete"}).then(a=>{a.isConfirmed&&this.sch.deleteStaffSubjects(n.toString()).subscribe(t=>{this.staffSubjectList=t,this.getStaffSubjects(),K.default.fire("Data deleted","","success")})})}deactivateAccount(n){K.default.fire({title:"Do you really want to deactivated this staff?",text:"You won't be able to assign subjects to this staff",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Deactivate"}).then(a=>{a.isConfirmed&&this.sch.deactivateStaff(n.toString()).subscribe(t=>{K.default.fire({icon:"success",title:"Staff deactivated successfully!.",showConfirmButton:!1,timer:2e3})})})}activateAccount(n){K.default.fire({title:"Do you really want to activated this staff?",text:"Subjects can assigned to this staff",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Activate"}).then(a=>{a.isConfirmed&&this.sch.activateStaff(n.toString()).subscribe(t=>{K.default.fire({icon:"success",title:"Staff deactivated successfully!.",showConfirmButton:!1,timer:2e3})})})}};u.\u0275fac=function(a){return new(a||u)(k(F),k(B),k(W),k(le),k(Le),k(L))},u.\u0275cmp=R({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:463,vars:41,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_header"],[1,"container-fluid","d-flex","align-items-stretch","justify-content-between"],[1,"d-flex","align-items-stretch","justify-content-between","flex-lg-grow-1"],[1,"d-flex","align-items-stretch","flex-shrink-0"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card","mb-5","mb-xl-10"],[1,"card-body","pt-9","pb-0"],[1,"d-flex","flex-wrap","flex-sm-nowrap","mb-3"],[1,"me-7","mb-4"],[1,"symbol","symbol-100px","cover","symbol-lg-160px","symbol-fixed","position-relative"],[2,"object-fit","cover",3,"src"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between","align-items-start","flex-wrap","mb-2"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center","mb-2"],["href","#",1,"text-gray-900","text-hover-primary","fs-2","fw-bolder","me-1"],["href","#"],[1,"svg-icon","svg-icon-1","svg-icon-primary"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","viewBox","0 0 24 24"],["d","M10.0813 3.7242C10.8849 2.16438 13.1151 2.16438 13.9187 3.7242V3.7242C14.4016 4.66147 15.4909 5.1127 16.4951 4.79139V4.79139C18.1663 4.25668 19.7433 5.83365 19.2086 7.50485V7.50485C18.8873 8.50905 19.3385 9.59842 20.2758 10.0813V10.0813C21.8356 10.8849 21.8356 13.1151 20.2758 13.9187V13.9187C19.3385 14.4016 18.8873 15.491 19.2086 16.4951V16.4951C19.7433 18.1663 18.1663 19.7433 16.4951 19.2086V19.2086C15.491 18.8873 14.4016 19.3385 13.9187 20.2758V20.2758C13.1151 21.8356 10.8849 21.8356 10.0813 20.2758V20.2758C9.59842 19.3385 8.50905 18.8873 7.50485 19.2086V19.2086C5.83365 19.7433 4.25668 18.1663 4.79139 16.4951V16.4951C5.1127 15.491 4.66147 14.4016 3.7242 13.9187V13.9187C2.16438 13.1151 2.16438 10.8849 3.7242 10.0813V10.0813C4.66147 9.59842 5.1127 8.50905 4.79139 7.50485V7.50485C4.25668 5.83365 5.83365 4.25668 7.50485 4.79139V4.79139C8.50905 5.1127 9.59842 4.66147 10.0813 3.7242V3.7242Z","fill","#00A3FF"],["d","M14.8563 9.1903C15.0606 8.94984 15.3771 8.9385 15.6175 9.14289C15.858 9.34728 15.8229 9.66433 15.6185 9.9048L11.863 14.6558C11.6554 14.9001 11.2876 14.9258 11.048 14.7128L8.47656 12.4271C8.24068 12.2174 8.21944 11.8563 8.42911 11.6204C8.63877 11.3845 8.99996 11.3633 9.23583 11.5729L11.3706 13.4705L14.8563 9.1903Z","fill","white",1,"permanent"],[1,"d-flex","flex-wrap","fw-bold","fs-6","mb-4","pe-2"],[1,"badge","badge-light-primary","fw-bolder","ms-2","fs-8","py-1","px-3"],[1,"d-flex","align-items-center","text-gray-400","text-hover-primary","me-5","mb-2"],[1,"svg-icon","svg-icon-4","me-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.3","d","M21 18.3V4H20H5C4.4 4 4 4.4 4 5V20C10.9 20 16.7 15.6 19 9.5V18.3C18.4 18.6 18 19.3 18 20C18 21.1 18.9 22 20 22C21.1 22 22 21.1 22 20C22 19.3 21.6 18.6 21 18.3Z","fill","currentColor"],["d","M22 4C22 2.9 21.1 2 20 2C18.9 2 18 2.9 18 4C18 4.7 18.4 5.29995 18.9 5.69995C18.1 12.6 12.6 18.2 5.70001 18.9C5.30001 18.4 4.7 18 4 18C2.9 18 2 18.9 2 20C2 21.1 2.9 22 4 22C4.8 22 5.39999 21.6 5.79999 20.9C13.8 20.1 20.1 13.7 20.9 5.80005C21.6 5.40005 22 4.8 22 4Z","fill","currentColor"],[1,"d-flex","my-4"],["href","#","data-bs-toggle","modal","data-bs-target","#kt_modal_offer_a_deal",1,"btn","btn-sm","btn-primary","me-2"],[1,"fonticon-printer"],[1,"d-flex","flex-wrap","flex-stack"],[1,"d-flex","flex-column","flex-grow-1","pe-8"],[1,"d-flex","flex-wrap"],[1,"border","border-gray-300","border-dashed","rounded","min-w-125px","py-3","px-4","me-6","mb-3"],[1,"fw-bold","fs-7","text-gray-400"],[1,"d-flex","align-items-center"],[1,"badge-light-danger","fs-5","fw-bolder"],["data-kt-countup","true","data-kt-countup-value","5",1,"fs-5","fw-bolder"],[1,"nav","nav-stretch","nav-line-tabs","nav-line-tabs-2x","border-transparent","fs-5","fw-bolder"],[1,"nav-item","mt-2"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_general",1,"nav-link","text-active-primary","ms-0","me-10","py-5","active"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_advanced",1,"nav-link","text-active-primary","ms-0","me-10","py-5"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_new",1,"nav-link","text-active-primary","ms-0","me-10","py-5"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_new1",1,"nav-link","text-active-primary","ms-0","me-10","py-5"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade","show","active"],[1,"d-flex","flex-column","gap-7","gap-lg-10"],[1,"card","mb-2","mb-xl-5"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_settings_profile_details",1,"collapse","show"],["id","kt_account_profile_details_form",1,"form",3,"ngSubmit"],[1,"card-body","border-top","p-9"],[1,"fv-row","mb-7"],[1,"d-block","fw-bold","fs-6","mb-5"],[2,"display","flex"],["magdiv",""],[2,"width","120px",3,"src"],["mag",""],[2,"margin-top","10px"],["type","file","accept",".jpg, .jpeg, .png, .gif, .tif",1,"intbox",3,"change"],["dile",""],[1,"form-text"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-4","fv-row"],["type","text","placeholder","Surname","name","surname",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","placeholder","First Name","name","firstname",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","placeholder","Middle Name","name","middlename",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-lg-8","fv-row"],["type","text","name","company","placeholder","","name","staffId",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"required"],["data-bs-toggle","tooltip","title","Phone number must be active",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["type","tel","placeholder","Phone number","name","phone",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","date","placeholder","Date of birth","name","dob",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["aria-label","Select a category ","data-control","select2","data-placeholder","Select Category..","name","category",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],["value","Academic Staff"],["value","Non Academic Staff"],["aria-label","Select a department","data-control","select2","data-placeholder","Select Department..","name","department",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","Humanities I"],["value","Humanities II"],["value","Business"],["value"," Mathematics & Computer Science"],["value","Vocational & Technology Studies"],["value","Science"],["value","Clerical"],["value","Utility"],["value","Ground Staff"],["value","Vocation and technical Department"],["aria-label","Select a position","data-control","select2","data-placeholder","Select position..","name","position",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","Vice Principal Administration"],["value","Vice Principal Academics"],["value","Human Resource Officer I"],["value","Human Resource Officer II"],["value","Exam Officer (Internal)"],["value","Exam Officer (External)"],["value","Matron"],["value","Cook"],["value","Sewing"],["value","Cr\xE8che"],["value","Driver"],["value","Nurses"],["value","Gardeners"],["value","Canteen"],["value","Bakery"],["value","Teacher"],["value","Receptionist"],["value","Electrician"],["value","Plumber"],["value","Class Teacher"],["value","ICT Staff"],["value","Facility Manager"],["value","Head of Department"],["value","Academic Support and Foreign Admission Officer"],["value","Accountant"],["value","Store Keeper"],["value","Procurement"],["value","Principal"],["value","Laboratory scientist"],["value","Chief Security 1"],["value","Chief Security 2"],["value","Counselor 1"],["value","Counselor 2"],["value","Chief Nurse"],["value","Cleaner"],["value","Chief Librarian"],["value","Executive Assistant"],["value","Librarian"],["value","Administration Assistant"],["type","date","name","dateemployed",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-12","fv-row"],["type","email","placeholder","","name","homeAddress",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","states","aria-label","Select a state","data-control","select2","data-placeholder","Select state...",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["st",""],[3,"selected","value",4,"ngFor","ngForOf"],["aria-label","Select ","data-control","select2","data-placeholder","Select LGA...",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["lges",""],["rows","3","placeholder","","name","address",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary"],[1,"card"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_deactivate","aria-expanded","true","aria-controls","kt_account_deactivate",1,"card-header","border-0","cursor-pointer"],["id","kt_account_settings_deactivate",1,"collapse","show"],["id","kt_account_deactivate_form",1,"form"],[1,"notice","d-flex","bg-light-warning","rounded","border-warning","border","border-dashed","mb-9","p-6"],[1,"svg-icon","svg-icon-2tx","svg-icon-warning","me-4"],["opacity","0.3","x","2","y","2","width","20","height","20","rx","10","fill","currentColor"],["x","11","y","14","width","7","height","2","rx","1","transform","rotate(-90 11 14)","fill","currentColor"],["x","11","y","17","width","2","height","2","rx","1","transform","rotate(-90 11 17)","fill","currentColor"],[1,"d-flex","flex-stack","flex-grow-1"],["class","fw-bold",4,"ngIf"],["class","card-footer d-flex justify-content-end py-6 px-9",4,"ngIf"],["class","card-footer d-flex justify-content-end py-6 px-9",3,"click",4,"ngIf"],["id","kt_ecommerce_add_product_advanced","role","tab-panel",1,"tab-pane","fade"],[1,"card","mb-5","mb-xl-5"],["type","text","name","fullname","placeholder","First name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","tel","name","nokphone","placeholder","Phone number",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","occupation","placeholder","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","relationship","placeholder","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","nokaddress","rows","3","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["id","kt_ecommerce_add_product_new","role","tab-panel",1,"tab-pane","fade"],["type","text","name","institution","placeholder","Enter Institution Name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","courseofstudy","placeholder","Course of study",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","date","name","yearadmitted","placeholder","Year Admitted",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","date","name","yeargraduated","placeholder","Year Graduated",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","certificate","placeholder","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["id","kt_ecommerce_add_product_new1","role","tab-panel",1,"tab-pane","fade"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search",1,"form-control","form-control-solid","w-250px","ps-15",3,"keyup"],["myInput",""],[1,"card-toolbar"],[1,"card-body","pt-0"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"w-200px","pe-5"],[1,"min-w-125px"],[1,"fw-bold","text-gray-600"],["myTbody",""],[4,"ngFor","ngForOf"],["id","kt_modal_create_app","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-700px"],[1,"modal-content"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-icon","btn-active-color-info"],[1,"svg-icon","svg-icon-1"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-lg-10","px-lg-10","h-350px","scroll-y"],["id","kt_modal_create_app_stepper",1,"stepper","stepper-pills","stepper-column","d-flex","flex-column","flex-xl-row","flex-row-fluid"],[1,"flex-row-fluid","py-lg-5","px-lg-15"],["novalidate","novalidate","id","kt_modal_create_app_form",1,"form",3,"ngSubmit"],["data-kt-stepper-element","content",1,"current"],[1,"w-100"],[1,"row","mb-10"],[1,"col-12"],[1,"fs-6","fw-bold","mb-2"],[1,""],["name","classid","data-control","select","data-placeholder","Select Class",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","subjectId","data-control","select2","data-placeholder","Select Subject",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","flex-row-fluid"],["type","reset","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],["type","submit",1,"btn","btn-info"],[3,"selected","value"],[1,"fw-bold"],[1,"text-gray-900","fw-bolder"],[1,"fs-6","text-gray-700"],["id","kt_account_deactivate_account_submit",1,"btn","btn-success","fw-bold",3,"click"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9",3,"click"],["id","kt_account_deactivate_account_submit","type","submit",1,"btn","btn-danger","fw-bold"],[1,"text-gray-800","pe-5","text-hover-info"],["href","#",1,"text-gray-800","text-hover-info","mb-1"],[3,"value"]],template:function(a,t){if(a&1){let o=T();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"div",4),i()()(),e(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),b(13,"img",13),i()(),e(14,"div",14)(15,"div",15)(16,"div",16)(17,"div",17)(18,"a",18),r(19),i(),e(20,"a",19)(21,"span",20),N(),e(22,"svg",21),b(23,"path",22)(24,"path",23),i()()()(),A(),e(25,"div",24)(26,"a",25),r(27),i(),r(28," \xA0\xA0\xA0 "),e(29,"a",26)(30,"span",27),N(),e(31,"svg",28),b(32,"path",29)(33,"path",30),i()(),r(34,"Teacher"),i()()(),A(),e(35,"div",31)(36,"a",32),b(37,"i",33),r(38," Print Profile"),i()()(),e(39,"div",34)(40,"div",35)(41,"div",36)(42,"div",37)(43,"div",38),r(44,"ID No."),i(),e(45,"div",39)(46,"div",40),r(47),i()()(),e(48,"div",37)(49,"div",38),r(50,"Phone"),i(),e(51,"div",39)(52,"div",41),r(53),i()()()()()()()(),e(54,"ul",42)(55,"li",43)(56,"a",44),r(57,"Staff Personal Information"),i()(),e(58,"li",43)(59,"a",45),r(60,"Next of Kin Details"),i()(),e(61,"li",43)(62,"a",46),r(63,"Educational Details"),i()(),e(64,"li",43)(65,"a",47),r(66,"Subject Listing"),i()()()()(),e(67,"div",48)(68,"div",49)(69,"div",50)(70,"div",51)(71,"div",52)(72,"div",53)(73,"h3",54),r(74,"Profile Details"),i()()(),e(75,"div",55)(76,"form",56),S("ngSubmit",function(){return t.updateStaff()}),e(77,"div",57)(78,"div",58)(79,"label",59),r(80,"Staff Picture"),i(),e(81,"div")(82,"div",60,61),b(84,"img",62,63),i(),e(86,"label",64)(87,"input",65,66),S("change",function(s){x(o);let f=I(85);return C(t.genk.showPreview(s,f))}),i()()(),e(89,"div",67),r(90,"Allowed file types: png, jpg, jpeg."),i()(),e(91,"div",68)(92,"label",69),r(93,"Full Name"),i(),e(94,"div",70)(95,"div",71)(96,"div",72)(97,"input",73),E("ngModelChange",function(s){return w(t.staff.surname,s)||(t.staff.surname=s),s}),i()(),e(98,"div",72)(99,"input",74),E("ngModelChange",function(s){return w(t.staff.firstName,s)||(t.staff.firstName=s),s}),i()(),e(100,"div",72)(101,"input",75),E("ngModelChange",function(s){return w(t.staff.middleName,s)||(t.staff.middleName=s),s}),i()()()()(),e(102,"div",68)(103,"label",69),r(104,"Staff ID"),i(),e(105,"div",76)(106,"input",77),E("ngModelChange",function(s){return w(t.staff.idCardNo,s)||(t.staff.idCardNo=s),s}),i()()(),e(107,"div",68)(108,"label",78)(109,"span",79),r(110,"Contact Phone"),i(),b(111,"i",80),i(),e(112,"div",76)(113,"input",81),E("ngModelChange",function(s){return w(t.staff.phone,s)||(t.staff.phone=s),s}),i()()(),e(114,"div",68)(115,"label",78),r(116,"Date of Birth"),i(),e(117,"div",76)(118,"input",82),E("ngModelChange",function(s){return w(t.staff.birthDate,s)||(t.staff.birthDate=s),s}),i()()(),e(119,"div",68)(120,"label",69),r(121,"Category"),i(),e(122,"div",76)(123,"select",83),E("ngModelChange",function(s){return w(t.staff.category,s)||(t.staff.category=s),s}),e(124,"option",84),r(125,"Select Category.."),i(),e(126,"option",85),r(127,"Academic"),i(),e(128,"option",86),r(129,"Non-Academic"),i()()()(),e(130,"div",68)(131,"label",69),r(132,"Department"),i(),e(133,"div",76)(134,"select",87),E("ngModelChange",function(s){return w(t.staff.department,s)||(t.staff.department=s),s}),e(135,"option",84),r(136,"Select Department..."),i(),e(137,"option",88),r(138,"Humanities I"),i(),e(139,"option",89),r(140,"Humanities II "),i(),e(141,"option",90),r(142," Business "),i(),e(143,"option",91),r(144,"Mathematics & Computer Science"),i(),e(145,"option",92),r(146,"Vocational & Technology Studies "),i(),e(147,"option",93),r(148,"Science "),i(),e(149,"option",94),r(150,"Clerical "),i(),e(151,"option",95),r(152,"Utility"),i(),e(153,"option",96),r(154,"Ground Staff"),i(),e(155,"option",97),r(156,"Vocation and technical Department"),i()()()(),e(157,"div",68)(158,"label",69),r(159,"Position"),i(),e(160,"div",76)(161,"select",98),E("ngModelChange",function(s){return w(t.staff.position,s)||(t.staff.position=s),s}),e(162,"option",84),r(163,"Select Position..."),i(),e(164,"option",99),r(165,"Vice Principal Administration"),i(),e(166,"option",100),r(167,"Vice Principal Academics "),i(),e(168,"option",101),r(169,"Human Resource Officer I "),i(),e(170,"option",102),r(171,"Human Resource Officer II "),i(),e(172,"option",103),r(173,"Exam Officer (Internal) "),i(),e(174,"option",104),r(175,"Exam Officer (External) "),i(),e(176,"option",105),r(177,"Matron"),i(),e(178,"option",106),r(179,"Cook"),i(),e(180,"option",107),r(181,"Sewing"),i(),e(182,"option",108),r(183,"Cr\xE8che"),i(),e(184,"option",109),r(185,"Driver"),i(),e(186,"option",110),r(187,"Nurses"),i(),e(188,"option",111),r(189,"Gardeners"),i(),e(190,"option",112),r(191,"Canteen"),i(),e(192,"option",113),r(193,"Bakery"),i(),e(194,"option",114),r(195,"Teacher"),i(),e(196,"option",115),r(197,"Receptionist"),i(),e(198,"option",116),r(199,"Electrician"),i(),e(200,"option",117),r(201,"Plumber"),i(),e(202,"option",118),r(203,"Class Teacher"),i(),e(204,"option",119),r(205,"ICT Staff"),i(),e(206,"option",120),r(207,"Facility Manager"),i(),e(208,"option",121),r(209,"Head of Department"),i(),e(210,"option",122),r(211," Academic Support and Foreign Admission Officer"),i(),e(212,"option",123),r(213,"Accountant"),i(),e(214,"option",124),r(215,"Store Keeper"),i(),e(216,"option",125),r(217,"Procurement"),i(),e(218,"option",126),r(219,"Principal"),i(),e(220,"option",127),r(221,"Laboratory scientist"),i(),e(222,"option",128),r(223,"Chief Security 1"),i(),e(224,"option",129),r(225,"Chief Security 2"),i(),e(226,"option",130),r(227,"Counselor 1"),i(),e(228,"option",131),r(229,"Counselor 2"),i(),e(230,"option",132),r(231,"Chief Nurse"),i(),e(232,"option",133),r(233,"Cleaner"),i(),e(234,"option",134),r(235,"Chief Librarian"),i(),e(236,"option",135),r(237,"Executive Assistant"),i(),e(238,"option",136),r(239,"Librarian"),i(),e(240,"option",137),r(241,"Administration Assistant "),i()()()(),e(242,"div",68)(243,"label",78),r(244,"Date Employed"),i(),e(245,"div",76)(246,"input",138),E("ngModelChange",function(s){return w(t.staff.dateEmployed,s)||(t.staff.dateEmployed=s),s}),i()()(),e(247,"div",68)(248,"label",78),r(249,"Email Address"),i(),e(250,"div",70)(251,"div",71)(252,"div",139)(253,"input",140),E("ngModelChange",function(s){return w(t.staff.email,s)||(t.staff.email=s),s}),i()()()()(),e(254,"div",68)(255,"label",69),r(256,"State of Origin"),i(),e(257,"div",70)(258,"div",71)(259,"div",139)(260,"select",141,142),S("change",function(){x(o);let s=I(261);return C(t.setLGA(s.value))}),v(262,st,2,3,"option",143),i()()()()(),e(263,"div",68)(264,"label",78),r(265,"Local Government Area"),i(),e(266,"div",70)(267,"div",71)(268,"div",139)(269,"select",144,145),S("change",function(){x(o);let s=I(270);return C(t.selectLG(s.value))}),v(271,lt,2,3,"option",143),i()()()()(),e(272,"div",68)(273,"label",69),r(274,"Home address"),i(),e(275,"div",70)(276,"div",71)(277,"div",139)(278,"textarea",146),E("ngModelChange",function(s){return w(t.staff.homeAddress,s)||(t.staff.homeAddress=s),s}),i()()()()()(),e(279,"div",147)(280,"button",148),r(281,"Save Changes"),i()()()()(),e(282,"div",149)(283,"div",150)(284,"div",53)(285,"h3",54),r(286,"Deactivate Staff Profile"),i()()(),e(287,"div",151)(288,"form",152)(289,"div",57)(290,"div",153)(291,"span",154),N(),e(292,"svg",28),b(293,"rect",155)(294,"rect",156)(295,"rect",157),i()(),A(),e(296,"div",158),v(297,ot,6,0,"div",159)(298,dt,6,0,"div",159),i()()(),v(299,ct,3,0,"div",160)(300,mt,3,0,"div",161),i()()()()(),e(301,"div",162)(302,"div",50)(303,"div",163)(304,"div",52)(305,"div",53)(306,"h3",54),r(307,"Next of Kin Details"),i()()(),e(308,"div",55)(309,"form",56),S("ngSubmit",function(){return t.updateStaff()}),e(310,"div",57)(311,"div",68)(312,"label",69),r(313,"Full Name"),i(),e(314,"div",70)(315,"div",71)(316,"div",139)(317,"input",164),E("ngModelChange",function(s){return w(t.staff.nokFullName,s)||(t.staff.nokFullName=s),s}),i()()()()(),e(318,"div",68)(319,"label",78)(320,"span",79),r(321,"Contact Phone"),i(),b(322,"i",80),i(),e(323,"div",76)(324,"input",165),E("ngModelChange",function(s){return w(t.staff.nokContactPhone,s)||(t.staff.nokContactPhone=s),s}),i()()(),e(325,"div",68)(326,"label",78),r(327,"Occupation"),i(),e(328,"div",70)(329,"div",71)(330,"div",139)(331,"input",166),E("ngModelChange",function(s){return w(t.staff.nokOccupation,s)||(t.staff.nokOccupation=s),s}),i()()()()(),e(332,"div",68)(333,"label",78),r(334,"Relationship"),i(),e(335,"div",70)(336,"div",71)(337,"div",139)(338,"input",167),E("ngModelChange",function(s){return w(t.staff.nokRelationship,s)||(t.staff.nokRelationship=s),s}),i()()()()(),e(339,"div",68)(340,"label",69),r(341," Contact Address"),i(),e(342,"div",70)(343,"div",71)(344,"div",139)(345,"textarea",168),E("ngModelChange",function(s){return w(t.staff.nokContactAddress,s)||(t.staff.nokContactAddress=s),s}),i()()()()()(),e(346,"div",147)(347,"button",148),r(348,"Save Changes"),i()()()()()()(),e(349,"div",169)(350,"div",50)(351,"div",163)(352,"div",52)(353,"div",53)(354,"h3",54),r(355,"Educational Details"),i()()(),e(356,"div",55)(357,"form",56),S("ngSubmit",function(){return t.updateStaff()}),e(358,"div",57)(359,"div",68)(360,"label",69),r(361,"Institution"),i(),e(362,"div",70)(363,"div",71)(364,"div",139)(365,"input",170),E("ngModelChange",function(s){return w(t.staff.institution,s)||(t.staff.institution=s),s}),i()()()()(),e(366,"div",68)(367,"label",78)(368,"span",79),r(369,"Course of Study"),i()(),e(370,"div",76)(371,"input",171),E("ngModelChange",function(s){return w(t.staff.courseOfStudy,s)||(t.staff.courseOfStudy=s),s}),i()()(),e(372,"div",68)(373,"label",78),r(374,"Year Admitted"),i(),e(375,"div",70)(376,"div",71)(377,"div",139)(378,"input",172),E("ngModelChange",function(s){return w(t.staff.yearAdmitted,s)||(t.staff.yearAdmitted=s),s}),i()()()()(),e(379,"div",68)(380,"label",78),r(381,"Year Graduated"),i(),e(382,"div",70)(383,"div",71)(384,"div",139)(385,"input",173),E("ngModelChange",function(s){return w(t.staff.yearGraduated,s)||(t.staff.yearGraduated=s),s}),i()()()()(),e(386,"div",68)(387,"label",78),r(388,"Certificate"),i(),e(389,"div",70)(390,"div",71)(391,"div",139)(392,"input",174),E("ngModelChange",function(s){return w(t.staff.certificate,s)||(t.staff.certificate=s),s}),i()()()()()(),e(393,"div",147)(394,"button",148),r(395,"Save Changes"),i()()()()()()(),e(396,"div",175)(397,"div",50)(398,"div",149)(399,"div",176)(400,"div",177)(401,"div",178)(402,"span",179),N(),e(403,"svg",28),b(404,"rect",180)(405,"path",181),i()(),A(),e(406,"input",182,183),S("keyup",function(){x(o);let s=I(407),f=I(420);return C(t.genk.searchTable(s,f))}),i()()(),b(408,"div",184),i(),e(409,"div",185)(410,"table",186)(411,"thead")(412,"tr",187)(413,"th",188),r(414," S/N "),i(),e(415,"th",189),r(416,"Class"),i(),e(417,"th",189),r(418,"Subject"),i()()(),e(419,"tbody",190,191),v(421,ut,9,3,"tr",192),i()()()()()()()()()()(),e(422,"div",193)(423,"div",194)(424,"div",195)(425,"div",196)(426,"h2"),r(427," Select Class "),i(),e(428,"div",197)(429,"span",198),N(),e(430,"svg",28),b(431,"rect",199)(432,"rect",200),i()()()(),A(),e(433,"div",201)(434,"div",202)(435,"div",203)(436,"form",204),S("ngSubmit",function(){return t.createStaffSubject(t.subjectId,t.classid)}),e(437,"div",205)(438,"div",206)(439,"div",207)(440,"div",208)(441,"label",209)(442,"span",210),r(443,"Class"),i()(),e(444,"select",211),E("ngModelChange",function(s){return w(t.classid,s)||(t.classid=s),s}),e(445,"option",84),r(446,"Select Class..."),i(),v(447,pt,2,2,"option",212),i()()(),e(448,"div",207)(449,"div",208)(450,"label",209)(451,"span",210),r(452,"Subject"),i()(),e(453,"select",213),E("ngModelChange",function(s){return w(t.subjectId,s)||(t.subjectId=s),s}),e(454,"option",84),r(455,"Select Subject"),i(),v(456,ft,2,2,"option",212),i()()()()(),e(457,"div")(458,"div",214)(459,"button",215),r(460,"Cancel"),i(),e(461,"button",216),r(462,"Submit"),i()()()()()()()()()()}if(a&2){let o;c(13),p("src",t.genk.setImgRemote(t.staff.photo),Re),c(6),_((((o=t.studentobj.surname)!==null&&o!==void 0?o:"")+" "+((o=t.studentobj.otherNames)!==null&&o!==void 0?o:"")).trim()),c(8),_(t.studentobj.gender),c(20),_(t.studentobj.idCardNo),c(6),_(t.studentobj.phone),c(31),p("src",t.genk.imag||t.genk.setImgRemote(t.staff.photo),Re),c(13),y("ngModel",t.staff.surname),c(2),y("ngModel",t.staff.firstName),c(2),y("ngModel",t.staff.middleName),c(5),y("ngModel",t.staff.idCardNo),c(7),y("ngModel",t.staff.phone),c(5),y("ngModel",t.staff.birthDate),c(5),y("ngModel",t.staff.category),c(11),y("ngModel",t.staff.department),c(27),y("ngModel",t.staff.position),c(85),y("ngModel",t.staff.dateEmployed),c(7),y("ngModel",t.staff.email),c(7),p("value",t.staff.state),c(2),p("ngForOf",t.states),c(7),p("value",t.staff.lga),c(2),p("ngForOf",t.lgs),c(7),y("ngModel",t.staff.homeAddress),c(19),p("ngIf",t.staff.status=="DEACTIVATED"),c(),p("ngIf",t.staff.status=="ACTIVE"),c(),p("ngIf",t.staff.status=="DEACTIVATED"),c(),p("ngIf",t.staff.status=="ACTIVE"),c(17),y("ngModel",t.staff.nokFullName),c(7),y("ngModel",t.staff.nokContactPhone),c(7),y("ngModel",t.staff.nokOccupation),c(7),y("ngModel",t.staff.nokRelationship),c(7),y("ngModel",t.staff.nokContactAddress),c(20),y("ngModel",t.staff.institution),c(6),y("ngModel",t.staff.courseOfStudy),c(7),y("ngModel",t.staff.yearAdmitted),c(7),y("ngModel",t.staff.yearGraduated),c(7),y("ngModel",t.staff.certificate),c(29),p("ngForOf",t.staffSubjectList),c(23),y("ngModel",t.classid),c(3),p("ngForOf",t.schoolClasses),c(6),y("ngModel",t.subjectId),c(3),p("ngForOf",t.subjectList)}},dependencies:[P,Q,X,z,Z,De,q,G,U,ie,H],encapsulation:2});let d=u;return d})();var ye=$(me());var oe=$(Oe());function ht(d,u){if(d&1&&(e(0,"option",96),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.class)}}function gt(d,u){d&1&&(e(0,"div",97)(1,"div"),r(2,"No class is selected"),i()())}function St(d,u){d&1&&(e(0,"div",97)(1,"div"),r(2,"No term is selected"),i()())}function _t(d,u){if(d&1&&(e(0,"option",96),r(1),i()),d&2){let l=u.$implicit;p("value",l.subjectId),c(),_(l.subjects)}}function bt(d,u){d&1&&(e(0,"div",97)(1,"div"),r(2,"No subject is selected"),i()())}function xt(d,u){if(d&1&&(e(0,"option",96),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.sessionName)}}function Ct(d,u){d&1&&(e(0,"div",97)(1,"div"),r(2,"No session is selected"),i()())}function vt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA1?l.caSetupData.CA1:"CA1")}}function yt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA2?l.caSetupData.CA2:"CA2")}}function wt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA3?l.caSetupData.CA3:"CA3")}}function Et(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA4?l.caSetupData.CA4:"CA4")}}function It(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA5?l.caSetupData.CA5:"CA5")}}function kt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA6?l.caSetupData.CA6:"CA6")}}function Tt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA7?l.caSetupData.CA7:"CA7")}}function Mt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA8?l.caSetupData.CA8:"CA8")}}function Nt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA9?l.caSetupData.CA9:"CA9")}}function At(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA10?l.caSetupData.CA10:"CA10")}}function jt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA11?l.caSetupData.CA11:"CA11")}}function Dt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA12?l.caSetupData.CA12:"CA12")}}function Ot(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA13?l.caSetupData.CA13:"CA13")}}function Vt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA14?l.caSetupData.CA14:"CA14")}}function Rt(d,u){if(d&1&&(e(0,"th",51),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA15?l.caSetupData.CA15:"CA15")}}function Pt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",104,108),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca1"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca1)!==null&&n!==void 0?n:"")}}function Ft(d,u){if(d&1){let l=T();e(0,"td")(1,"input",109,110),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca2"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca2)!==null&&n!==void 0?n:"")}}function Wt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",109,111),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca3"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca3)!==null&&n!==void 0?n:"")}}function Lt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",109,112),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca4"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca4)!==null&&n!==void 0?n:"")}}function Bt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,114),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca5"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca5)!==null&&n!==void 0?n:"")}}function Gt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",109,115),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca6"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca6)!==null&&n!==void 0?n:"")}}function Ut(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,116),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca7"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca7)!==null&&n!==void 0?n:"")}}function Ht(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,117),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca8"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca8)!==null&&n!==void 0?n:"")}}function Xt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,118),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca9"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca9)!==null&&n!==void 0?n:"")}}function qt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",109,119),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca10"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca10)!==null&&n!==void 0?n:"")}}function zt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,120),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca11"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca11)!==null&&n!==void 0?n:"")}}function Zt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",109,121),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca12"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca12)!==null&&n!==void 0?n:"")}}function Kt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,122),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca13"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca13)!==null&&n!==void 0?n:"")}}function Yt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,123),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca14"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca14)!==null&&n!==void 0?n:"")}}function Jt(d,u){if(d&1){let l=T();e(0,"td")(1,"input",113,124),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca15"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca15)!==null&&n!==void 0?n:"")}}function Qt(d,u){if(d&1){let l=T();e(0,"tr",98)(1,"td"),r(2),i(),e(3,"td",99),b(4,"input",100),i(),e(5,"td",101),b(6,"input",102),i(),v(7,Pt,3,1,"td",103)(8,Ft,3,1,"td",103)(9,Wt,3,1,"td",103)(10,Lt,3,1,"td",103)(11,Bt,3,1,"td",103)(12,Gt,3,1,"td",103)(13,Ut,3,1,"td",103)(14,Ht,3,1,"td",103)(15,Xt,3,1,"td",103)(16,qt,3,1,"td",103)(17,zt,3,1,"td",103)(18,Zt,3,1,"td",103)(19,Kt,3,1,"td",103)(20,Yt,3,1,"td",103)(21,Jt,3,1,"td",103),e(22,"td")(23,"input",104,105),S("keyup",function(){let t=x(l).$implicit,o=I(24),m=h();return C(m.setCa(t.studentId,o,"exam"))}),i()(),e(25,"td")(26,"span",106),r(27),i()(),e(28,"td",107)(29,"span",106),r(30),i()(),e(31,"td")(32,"span",106),r(33),i()()()}if(d&2){let l=u.$implicit,n=u.index,a=h(),t,o,m,s,f,g;c(2),_(n+1),c(2),ne("value",(t=l.studentName)!==null&&t!==void 0?t:""),c(2),ne("value",(o=l.admissionNo)!==null&&o!==void 0?o:""),c(),p("ngIf",a.caSetupData.CA1),c(),p("ngIf",a.caSetupData.CA2),c(),p("ngIf",a.caSetupData.CA3),c(),p("ngIf",a.caSetupData.CA4),c(),p("ngIf",a.caSetupData.CA5),c(),p("ngIf",a.caSetupData.CA6),c(),p("ngIf",a.caSetupData.CA7),c(),p("ngIf",a.caSetupData.CA8),c(),p("ngIf",a.caSetupData.CA9),c(),p("ngIf",a.caSetupData.CA10),c(),p("ngIf",a.caSetupData.CA11),c(),p("ngIf",a.caSetupData.CA12),c(),p("ngIf",a.caSetupData.CA13),c(),p("ngIf",a.caSetupData.CA14),c(),p("ngIf",a.caSetupData.CA15),c(2),p("value",(m=l.exam)!==null&&m!==void 0?m:""),c(4),_((s=l.totalScore)!==null&&s!==void 0?s:""),c(3),_((f=l.grade)!==null&&f!==void 0?f:""),c(3),_((g=l.remark)!==null&&g!==void 0?g:"")}}var Je=(()=>{let u=class u{constructor(n,a,t,o,m){this.router=n,this.auth=a,this.sch=t,this.gen=o,this.cd=m,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.psycomotorlist=[],this.studentlist=[],this.bigboss=[],this.smallboss=[],this.psycoObjList=[],this.psylist=[],this.motorlist=[],this.classSubjects=[],this.resultlist=[],this.gradeScaleList=[],this.destroy=new J,this.submitted=!1,this.staffSubjectList=[],this.staffClasses=[],this.shouldOverride="FALSE",this.genk=o,this.userName=a.currentUserValue.name,this.userImgPath=a.currentUserValue.logo,this.adminStatus=a.currentUserValue.status}ngOnInit(){this.genk.topdata="Result Entry",this.resultForm=new be({term:new V(this.currentTerm,[O.required]),sessionId:new V(this.currentSessionId,[O.required]),subjectId:new V(this.currentSubjectId,[O.required]),classId:new V(this.currentClass,[O.required])},{}),this.getClassNames(),this.getSession(),this.getCurrentSession(),this.getStaffSubjects(),this.cd.markForCheck()}get f(){return this.resultForm.controls}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n,this.cd.markForCheck()})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n,this.cd.markForCheck()})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm),this.cd.markForCheck()})}getClassSubjects(){this.classSubjects=this.staffSubjectList.filter(n=>n.classId==this.currentClass)}getStudents(){debugger;if(this.submitted=!0,this.resultForm.invalid){this.cd.markForCheck();return}this.sch.getStudents(this.currentClass.toString()).subscribe(n=>{this.studentlist=n,this.getResultsByClass(),this.getCaSetupByClass(),this.submitted=!0,this.cd.markForCheck()})}getResultsByClass(){this.sch.getResultsByClass(this.currentClass.toString(),this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString()).subscribe(n=>{this.resultlist=n,this.bigboss=[]})}getCaSetupByClass(){this.sch.getCaSetupByClass(this.currentClass.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.caSetupData=n.systemname,this.caScoreData=n.score})}getGradeScale(n){this.currentClass=Number(n),this.getClassSubjects();let t=this.schoolClasses.filter(o=>o.id==this.currentClass)[0].classLevelId;this.sch.getGradeScaleByCategory(t).subscribe(o=>{this.gradeScaleList=o,this.cd.markForCheck()})}getStaffSubjects(){this.sch.getStaffSubjects(this.auth.currentUserValue.id.toString()).subscribe(n=>{this.staffSubjectList=n;let a=[];this.staffSubjectList.forEach(t=>{a.filter(o=>o==t.classId).length<1&&(a.push(t.classId),this.staffClasses.push({class:t.class,id:t.classId}))})})}setCa(n,a,t){debugger;let o,m;if(!/^\d+\.(0)?$/.test(a.value))if(this.bigboss.filter(s=>s.studentId==Number(n)).length>0){o=this.bigboss.filter(g=>g.studentId==Number(n))[0],m=this.resultlist.filter(g=>g.studentId==Number(n))[0];let s=this.clearInput(this.caScoreData[t.toUpperCase()],Number(a.value),this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))][t.toUpperCase()]);a.value=s.toString(),o[t]=s,o.totalScore=Number(o.ca1??this.checkCA(m.ca1))+Number(o.ca2??this.checkCA(m.ca2))+Number(o.ca3??this.checkCA(m.ca3))+Number(o.ca4??this.checkCA(m.ca4))+Number(o.ca5??this.checkCA(m.ca5))+Number(o.ca6??this.checkCA(m.ca6))+Number(o.ca7??this.checkCA(m.ca7))+Number(o.ca8??this.checkCA(m.ca8))+Number(o.ca9??this.checkCA(m.ca9))+Number(o.ca10??this.checkCA(m.ca10))+Number(o.ca11??this.checkCA(m.ca11))+Number(o.ca12??this.checkCA(m.ca12))+Number(o.ca13??this.checkCA(m.ca13))+Number(o.ca14??this.checkCA(m.ca14))+Number(o.ca15??this.checkCA(m.ca15))+Number(o.exam??this.checkCA(m.exam));let f=this.calGrade(o.totalScore);o.grade=f.grade,o.remark=f.remark,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].totalScore=o.totalScore,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].grade=o.grade,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].remark=o.remark,this.bigboss[this.bigboss.findIndex(g=>g.studentId==Number(n))]=o}else{o=new ae,m=this.resultlist.filter(g=>g.studentId==Number(n))[0],o.studentId=n;let s=this.clearInput(this.caScoreData[t.toUpperCase()],Number(a.value),this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))][t.toUpperCase()]);a.value=s.toString(),o[t]=s,o.totalScore=Number(o.ca1??this.checkCA(m.ca1))+Number(o.ca2??this.checkCA(m.ca2))+Number(o.ca3??this.checkCA(m.ca3))+Number(o.ca4??this.checkCA(m.ca4))+Number(o.ca5??this.checkCA(m.ca5))+Number(o.ca6??this.checkCA(m.ca6))+Number(o.ca7??this.checkCA(m.ca7))+Number(o.ca8??this.checkCA(m.ca8))+Number(o.ca9??this.checkCA(m.ca9))+Number(o.ca10??this.checkCA(m.ca10))+Number(o.ca11??this.checkCA(m.ca11))+Number(o.ca12??this.checkCA(m.ca12))+Number(o.ca13??this.checkCA(m.ca13))+Number(o.ca14??this.checkCA(m.ca14))+Number(o.ca15??this.checkCA(m.ca15))+Number(o.exam??this.checkCA(m.exam));let f=this.calGrade(o.totalScore);o.grade=f.grade,o.remark=f.remark,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].totalScore=o.totalScore,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].grade=o.grade,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].remark=o.remark,this.bigboss.push(o)}console.log(this.bigboss)}checkCA(n){return n||0}calGrade(n){let a;return this.gradeScaleList.forEach(t=>{n>=t.begLimit&&n<=t.endLimit&&(a={grade:t.grade,remark:t.remarks})}),a||{grade:"i",remark:"Not Aplicable"}}validateSaveEntry(){let n=this.classSubjects.filter(t=>t.subjectId==this.currentSubjectId)[0]?.subjects,a=this.schoolClasses.filter(t=>t.id==this.currentClass)[0]?.class;ye.default.fire({title:"Do you want permanently save student exam records for this class?",html:`<p style="font-size: 20px"><b>Subject: </b> ${n}</p> <p style="font-size: 20px"><b>Class: </b> ${a}</p>`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Save"}).then(t=>{t.isConfirmed&&this.saveResultEntry()})}saveResultEntry(){if(this.submitted=!0,this.resultForm.invalid){this.cd.markForCheck();return}if(this.resultlist.length<1){this.cd.markForCheck();return}let n=this.schoolClasses.filter(a=>a.id==this.currentClass)[0].class;ye.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{ye.default.showLoading(),this.sch.saveResultEntry(this.bigboss,this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString(),this.currentClass.toString(),n,this.shouldOverride).pipe(Y(this.destroy)).subscribe(a=>{this.shouldOverride="FALSE",ye.default.close()})}}).then(a=>{ye.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}clearInput(n,a,t){return n&&a>n?(alert("Value entered is greater than CA Maximum Score of "+n),t?Number(t):0):Number(a)}upInputToMax(n,a){return n&&a>n?n:Number(a)}downloadTemplate(){let n=[];for(let g=0;g<this.resultlist.length;g++){let M=new Object;M.sn=g+1,M.studentId=this.resultlist[g].studentId,M.admissionNo=this.resultlist[g].admissionNo,M.studentName=this.resultlist[g].studentName;for(let[j,ke]of Object.entries(this.caSetupData))M[j+" ["+ke+"]"]="";n.push(M)}console.log(n);let a=oe.utils.json_to_sheet(n),t=["A1","B1","C1","D1","E1","F1","G1","H1","I1","J1","K1","L1","M1","N1","O1","P1","Q1","R1","S1","T1"];for(let g of t)a[g]&&(a[g].s={font:{color:{rgb:"000000"},bold:!0}});var o=[{wch:4},{wch:10},{wch:20},{wch:35},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10}];a["!cols"]=o;let m=this.classSubjects.filter(g=>g.subjectId==this.currentSubjectId)[0]?.subjects,s=this.schoolClasses.filter(g=>g.id==this.currentClass)[0]?.class,f=oe.utils.book_new();oe.utils.book_append_sheet(f,a,m+"__"+s+"__Entry"),oe.writeFile(f,this.auth.currentUserValue.schoolName+"__Result Entry.xlsx",{compression:!0})}loadExcel(n){return Se(this,null,function*(){var a=n.target.files[0];if(a){console.log("hi");var t=new FileReader;t.onload=m=>{let s=t.result;var f=m.target.result,g=oe.read(s,{type:"binary"});g.SheetNames.forEach(M=>{let j=ve.sheet_to_row_object_array(g.Sheets[M]);this.excelObj=j,console.log(j)})},t.readAsBinaryString(a);let o=t}})}populateFromFile(){for(let n=0;n<this.excelObj.length;n++){let a=0,t=0,o=new ae;o.studentId=this.excelObj[n].studentId;for(let[m,s]of Object.entries(this.excelObj[n]))m.substring(0,3)=="CA1"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA1,Number(s)),o.ca1=this.upInputToMax(this.caScoreData.CA1,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca1=this.upInputToMax(this.caScoreData.CA1,Number(s))),m.substring(0,3)=="CA2"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA2,Number(s)),o.ca2=this.upInputToMax(this.caScoreData.CA2,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca2=this.upInputToMax(this.caScoreData.CA2,Number(s))),m.substring(0,3)=="CA3"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA3,Number(s)),o.ca3=this.upInputToMax(this.caScoreData.CA3,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca3=this.upInputToMax(this.caScoreData.CA3,Number(s))),m.substring(0,3)=="CA4"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA4,Number(s)),o.ca4=this.upInputToMax(this.caScoreData.CA4,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca4=this.upInputToMax(this.caScoreData.CA4,Number(s))),m.substring(0,3)=="CA5"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA5,Number(s)),o.ca5=this.upInputToMax(this.caScoreData.CA5,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca5=this.upInputToMax(this.caScoreData.CA5,Number(s))),m.substring(0,3)=="CA6"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA6,Number(s)),o.ca6=this.upInputToMax(this.caScoreData.CA6,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca6=this.upInputToMax(this.caScoreData.CA6,Number(s))),m.substring(0,3)=="CA7"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA7,Number(s)),o.ca7=this.upInputToMax(this.caScoreData.CA7,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca7=this.upInputToMax(this.caScoreData.CA7,Number(s))),m.substring(0,3)=="CA8"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA8,Number(s)),o.ca8=this.upInputToMax(this.caScoreData.CA8,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca8=this.upInputToMax(this.caScoreData.CA8,Number(s))),m.substring(0,3)=="CA9"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA9,Number(s)),o.ca9=this.upInputToMax(this.caScoreData.CA9,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca9=this.upInputToMax(this.caScoreData.CA9,Number(s))),m.substring(0,4)=="CA10"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA10,Number(s)),o.ca10=this.upInputToMax(this.caScoreData.CA10,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca10=this.upInputToMax(this.caScoreData.CA10,Number(s))),m.substring(0,4)=="CA11"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA11,Number(s)),o.ca11=this.upInputToMax(this.caScoreData.CA11,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca11=this.upInputToMax(this.caScoreData.CA11,Number(s))),m.substring(0,4)=="CA12"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA12,Number(s)),o.ca12=this.upInputToMax(this.caScoreData.CA12,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca12=this.upInputToMax(this.caScoreData.CA12,Number(s))),m.substring(0,4)=="CA13"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA13,Number(s)),o.ca13=this.upInputToMax(this.caScoreData.CA13,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca13=this.upInputToMax(this.caScoreData.CA13,Number(s))),m.substring(0,4)=="CA14"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA14,Number(s)),o.ca14=this.upInputToMax(this.caScoreData.CA14,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca14=this.upInputToMax(this.caScoreData.CA14,Number(s))),m.substring(0,4)=="CA15"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA15,Number(s)),o.ca15=this.upInputToMax(this.caScoreData.CA15,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca15=this.upInputToMax(this.caScoreData.CA15,Number(s))),m.substring(0,4)=="Exam"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.Exam,Number(s)),o.exam=this.upInputToMax(this.caScoreData.Exam,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].exam=this.upInputToMax(this.caScoreData.Exam,Number(s)));t==1&&(this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].totalScore=a,this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].grade=this.calGrade(a).grade,this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].remark=this.calGrade(a).remark,o.totalScore=a,o.grade=this.calGrade(a).grade,o.remark=this.calGrade(a).remark,this.bigboss.push(o))}this.shouldOverride="TRUE"}};u.\u0275fac=function(a){return new(a||u)(k(F),k(W),k(B),k(L),k(_e))},u.\u0275cmp=R({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:171,vars:30,consts:[["id","kt_wrapper",1,"d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"d-flex"],["id","kt_content_container",2,"width","100%"],[1,"card","mb-10"],[1,"card-body"],["id","kt_invoice_form",3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","align-items-start","flex-xxl-row"],["data-bs-toggle","tooltip","data-bs-trigger","hover",1,"d-flex","flex-center","flex-equal","fw-row","text-nowrap","order-1","order-xxl-2","me-4"],[1,"fs-2x","fw-bolder","text-gray-800"],[1,"separator","separator-dashed","my-10"],[1,"mb-0"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["formControlName","classId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["cuclass",""],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","eroce",4,"ngIf"],[1,"fv-row","mb-5"],[1,"fs-6","fw-bold","form-label"],["name","class","formControlName","term","aria-label","Select Term","data-control","select2","data-placeholder","Select Term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ter",""],["value",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["formControlName","subjectId","aria-label","Select subject","data-control","select2","data-placeholder","Select subject..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["subj",""],["formControlName","sessionId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ses",""],[2,"text-align","center","width","100%"],[1,"btn","btn-primary",2,"padding","10px 10%",3,"click"],[1,"d-flex",2,"width","100%","justify-content","end","margin-top","60px"],["type","button",1,"btn","btn-info","px-12",2,"margin-right","10px",3,"disabled","click"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","btn","btn-light-info",2,"height","48px","outline","none","border","solid 0.5px #7239ea","padding","6px 15px",3,"disabled"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu",2,"padding","10px"],[2,"margin-bottom","15px","margin-top","10px","font-size","16px"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"dropdown-item",3,"click"],[2,"margin-bottom","10px","font-size","16px"],[1,"dropdown-item",3,"click"],[1,"table-responsive","mb-10"],["data-kt-element","items",1,"table","g-5","gs-0","mb-0","fw-bolder","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"snfixewidth"],[1,"fixewidth","fixed-column-state",2,"background-color","white"],[1,"min-w-150px","w-150px"],["class","min-w-150px w-150px",4,"ngIf"],["class","border-bottom border-bottom-dashed","data-kt-element","Name",4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],["id","kt_modal_add_customer","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_customer_form","data-kt-redirect","../../demo1/dist/apps/customers/list.html",1,"form"],["id","kt_modal_add_customer_header",1,"modal-header"],[1,"fw-bolder"],["id","kt_modal_add_customer_close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],["id","kt_modal_add_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_customer_header","data-kt-scroll-wrappers","#kt_modal_add_customer_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"required","fs-6","fw-bold","mb-2"],["data-bs-toggle","tooltip","title","Click the button below first to download the template, then upload after the excel sheet has been filled with the necessary data",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["type","file","placeholder","","name","passport",1,"form-control","form-control-solid",3,"change"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_add_customer_cancel",1,"btn","btn-light","me-3"],["type","submit","id","kt_modal_add_customer_submit","data-bs-dismiss","modal",1,"btn","btn-info",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"eroce"],["data-kt-element","Name",1,"border-bottom","border-bottom-dashed"],[1,"pe-7","fixed-column-state"],["type","text","name","name[]","placeholder","Acholo Nora",1,"form-control","form-control-solid","mb-2",3,"value"],[1,"ps-0"],["type","text","name","name[]","disabled","",1,"form-control","form-control-solid","mb-2",3,"value"],[4,"ngIf"],["type","text",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["exam",""],[1,"form-control","form-control-solid","text-center"],[1,"pt-5","text-end"],["ca1",""],["type","number",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["ca2",""],["ca3",""],["ca4",""],["type","number","type","text",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["ca5",""],["ca6",""],["ca7",""],["ca8",""],["ca9",""],["ca10",""],["ca11",""],["ca12",""],["ca13",""],["ca14",""],["ca15",""]],template:function(a,t){if(a&1){let o=T();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),S("ngSubmit",function(){return t.getStudents()}),e(7,"div",7)(8,"div",8)(9,"span",9),r(10,"Enter Students Result"),i()()(),b(11,"div",10),e(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"label",15)(17,"span",16),r(18,"Select Class"),i()(),e(19,"div",17)(20,"select",18,19),S("change",function(){x(o);let s=I(21);return C(t.getGradeScale(s.value))}),e(22,"option",20),r(23,"Select Class..."),i(),v(24,ht,2,2,"option",21),i(),v(25,gt,3,0,"div",22),i()(),e(26,"div",23)(27,"label",24)(28,"span",16),r(29,"Term"),i()(),e(30,"div",17)(31,"select",25,26),E("ngModelChange",function(s){return w(t.currentTerm,s)||(t.currentTerm=s),s}),e(33,"option",27),r(34,"Select Term..."),i(),e(35,"option",28),r(36,"First "),i(),e(37,"option",29),r(38,"Second"),i(),e(39,"option",30),r(40,"Third"),i()(),v(41,St,3,0,"div",22),i()()(),e(42,"div",13)(43,"div",14)(44,"label",15)(45,"span",16),r(46,"Subject"),i()(),e(47,"div",17)(48,"select",31,32),E("ngModelChange",function(s){return w(t.currentSubjectId,s)||(t.currentSubjectId=s),s}),e(50,"option",27),r(51,"Select Subject..."),i(),v(52,_t,2,2,"option",21),i(),v(53,bt,3,0,"div",22),i()(),e(54,"div",14)(55,"label",24)(56,"span",16),r(57,"Session"),i()(),e(58,"div",17)(59,"select",33,34),E("ngModelChange",function(s){return w(t.currentSessionId,s)||(t.currentSessionId=s),s}),e(61,"option",20),r(62,"Select Session..."),i(),v(63,xt,2,2,"option",21),i(),v(64,Ct,3,0,"div",22),i()()(),e(65,"div",35)(66,"div")(67,"button",36),S("click",function(){return t.getStudents()}),r(68,"Show Students"),i()()(),e(69,"div",37)(70,"button",38),S("click",function(){return t.validateSaveEntry()}),r(71,"Save"),i(),r(72," \xA0 "),e(73,"div",39)(74,"button",40),r(75," Actions "),i(),e(76,"ul",41)(77,"li",42)(78,"a",43),S("click",function(){return t.populateFromFile()}),r(79,"Populate from file"),i()(),e(80,"li",44)(81,"a",45),S("click",function(){return t.downloadTemplate()}),r(82,"Download Template"),i()()()()()(),e(83,"div",46)(84,"table",47)(85,"thead")(86,"tr",48)(87,"th",49),r(88,"S/N"),i(),e(89,"th",50),r(90,"Student Name"),i(),e(91,"th",51),r(92,"Admission No"),i(),v(93,vt,2,1,"th",52)(94,yt,2,1,"th",52)(95,wt,2,1,"th",52)(96,Et,2,1,"th",52)(97,It,2,1,"th",52)(98,kt,2,1,"th",52)(99,Tt,2,1,"th",52)(100,Mt,2,1,"th",52)(101,Nt,2,1,"th",52)(102,At,2,1,"th",52)(103,jt,2,1,"th",52)(104,Dt,2,1,"th",52)(105,Ot,2,1,"th",52)(106,Vt,2,1,"th",52)(107,Rt,2,1,"th",52),e(108,"th",51),r(109,"Exam"),i(),e(110,"th",51),r(111,"Total Score"),i(),e(112,"th",51),r(113,"Grade"),i(),e(114,"th",51),r(115,"Remark"),i()()(),e(116,"tbody"),v(117,Qt,34,22,"tr",53),i()()(),e(118,"div",54)(119,"div",55)(120,"div",56)(121,"label")(122,"select",57)(123,"option",58),r(124,"10"),i(),e(125,"option",59),r(126,"25"),i(),e(127,"option",60),r(128,"50"),i(),e(129,"option",61),r(130,"100"),i()()()()(),e(131,"div",62)(132,"div",63)(133,"ul",64)(134,"li",65)(135,"a",66),b(136,"i",67),i()(),e(137,"li",68)(138,"a",69),r(139,"1"),i()(),e(140,"li",70)(141,"a",71),b(142,"i",72),i()()()()()()()()()(),e(143,"div",73)(144,"div",74)(145,"div",75)(146,"form",76)(147,"div",77)(148,"h2",78),r(149,"Upload Result"),i(),e(150,"div",79)(151,"span",80),N(),e(152,"svg",81),b(153,"rect",82)(154,"rect",83),i()()()(),A(),e(155,"div",84)(156,"div",85)(157,"div",86)(158,"label",87),r(159,"Upload Template"),i(),b(160,"i",88),e(161,"input",89),S("change",function(s){return t.loadExcel(s)}),i()()()(),e(162,"div",90)(163,"button",91),r(164,"Discard"),i(),e(165,"button",92),S("click",function(){return t.populateFromFile()}),e(166,"span",93),r(167,"Populate"),i(),e(168,"span",94),r(169,"Please wait... "),b(170,"span",95),i()()()()()()()()()()()}if(a&2){let o=I(21),m=I(32),s=I(49),f=I(60);c(6),p("formGroup",t.resultForm),c(14),p("value",t.currentClass),c(4),p("ngForOf",t.staffClasses),c(),p("ngIf",!o.value&&t.submitted),c(6),y("ngModel",t.currentTerm),c(10),p("ngIf",!m.value&&t.submitted),c(7),y("ngModel",t.currentSubjectId),c(4),p("ngForOf",t.classSubjects),c(),p("ngIf",!s.value&&t.submitted),c(6),y("ngModel",t.currentSessionId),c(4),p("ngForOf",t.sessionlist),c(),p("ngIf",!f.value&&t.submitted),c(6),p("disabled",t.resultlist.length<1),c(4),p("disabled",t.resultlist.length<1),c(19),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA1),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA2),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA3),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA4),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA5),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA6),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA7),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA8),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA9),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA10),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA11),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA12),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA13),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA14),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA15),c(10),p("ngForOf",t.resultlist)}},dependencies:[P,Q,X,z,Z,q,G,U,H,xe,Ce],styles:["@media (max-width:800px){.fixewidth[_ngcontent-%COMP%]{min-width:150px;width:170px}.snfixewidth[_ngcontent-%COMP%]{min-width:10px;width:10px}}@media (min-width: 800px) and (max-width: 3000px){.fixed-column-state[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:100}.fixewidth[_ngcontent-%COMP%]{min-width:250px;width:250px}.snfixewidth[_ngcontent-%COMP%]{min-width:30px;width:30px}}",`.table[_ngcontent-%COMP%] {
                                                width: auto;
                                            }

                                            .table-responsive[_ngcontent-%COMP%] {
                                                overflow-x: auto;
                                                max-width: 100%;
                                            }

                                            .fixed-column[_ngcontent-%COMP%] {
                                                position: sticky;
                                                left: 0;
                                                background-color: #fff; 

                                                z-index: 1;
                                            }`]});let d=u;return d})();var we=$(Oe());function $t(d,u){if(d&1&&(e(0,"option",72),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.class)}}function ei(d,u){if(d&1&&(e(0,"option",72),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.sessionName)}}function ti(d,u){if(d&1&&(e(0,"option",72),r(1),i()),d&2){let l=u.$implicit;p("value",l.subjectId),c(),_(l.subjects)}}function ii(d,u){if(d&1&&(e(0,"tr",73)(1,"td",74)(2,"span",75),r(3),i()(),e(4,"td",74)(5,"span",76),r(6),i()(),e(7,"td")(8,"span",76),r(9),i()(),e(10,"td",77)(11,"a",78),r(12),i()(),e(13,"td",77)(14,"span",78),r(15),i()(),e(16,"td",77)(17,"span",78),r(18),i()(),e(19,"td",77)(20,"span",78),r(21),i()()()),d&2){let l=u.$implicit,n=u.index,a=h();c(3),_(n+1),c(3),_(l.studentName),c(3),_(l.admissionNo),c(3),D("",a.currentSubjectName," "),c(3),_(l.totalScore),c(3),_(l.grade),c(3),_(l.totalScore?a.formatPosition(n+1):"")}}var Qe=(()=>{let u=class u{constructor(n,a,t,o,m){this.router=n,this.route=a,this.auth=t,this.sch=o,this.gen=m,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.resultlist=[],this.classSubjects=[],this.staffSubjectList=[],this.staffClasses=[],this.genk=m,this.userName=t.currentUserValue.name,this.userImgPath=t.currentUserValue.logo,this.adminStatus=t.currentUserValue.status}ngOnInit(){this.genk.topdata="Subject Result",this.getClassNames(),this.getSession(),this.getCurrentSession(),this.getStaffSubjects()}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm)})}getResults(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getStaffSubjects(){this.sch.getStaffSubjects(this.auth.currentUserValue.id.toString()).subscribe(n=>{this.staffSubjectList=n;let a=[];this.staffSubjectList.forEach(t=>{a.filter(o=>o==t.classId).length<1&&(a.push(t.classId),this.staffClasses.push({class:t.class,id:t.classId}))})})}getResultsAverageByClass(){this.sch.getResultsAverageByClass(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(a=>a.id==this.currentSessionId)[0].sessionName})}formatPosition(n){let a;switch(n){case 1:a="1st";break;case 2:a="2nd";break;case 3:a="3rd";break;default:a=n+"th";break}return a}getClassSubjects(){this.classSubjects=this.staffSubjectList.filter(n=>n.classId==this.currentClass)}setClass(n){this.currentClass=n.toString(),this.getClassSubjects()}getSubjectResultsByClass(){this.sch.getStudentResultsByClass(this.currentClass,this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString()).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(a=>a.id==this.currentSessionId)[0].sessionName,this.currentSubjectName=this.classSubjects.filter(a=>a.subjectId==this.currentSubjectId)[0].subjects,this.currentClassName=this.schoolClasses.filter(a=>a.id==this.currentClass)[0].class})}exportTable(){var n=document.getElementById("subjecttable");let a=we.utils.table_to_sheet(n);var t=[{wch:5},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}];a["!cols"]=t;let o=we.utils.book_new();we.utils.book_append_sheet(o,a,"Subject-Result"),we.writeFile(o,"Subject-Result.xlsx",{compression:!0})}};u.\u0275fac=function(a){return new(a||u)(k(F),k(le),k(W),k(B),k(L))},u.\u0275cmp=R({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:123,vars:8,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card","mb-10"],[1,"card-body","p-12"],["action","","id","kt_invoice_form"],[1,"mb-0"],[1,"row"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label"],[1,"required"],[1,"w-100"],["name","classy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["sess",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","class","aria-label","Select subject","data-control","select2","data-placeholder","Select subject..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],[1,"w-100","text-center"],["type","button",1,"mt-8","w-50","btn","btn-info",3,"click"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search ",1,"form-control","form-control-solid","w-250px","ps-15",3,"keyup"],["myInput",""],[1,"card-toolbar"],[1,"text-end"],["type","button",1,"btn","btn-info",3,"click"],[1,"table-responsive","mb-10"],["id","subjecttable","data-kt-element","items",1,"table","g-5","gs-0","mb-0","fs-4","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"min-w-10px","w-10px","fixed-column",2,"background-color","white"],[1,"min-w-250px","w-250px","fixed-column",2,"background-color","white"],[1,"min-w-150px","w-150px"],[1,"min-w-200px","w-200px","text-center"],[1,"min-w-150px","w-150px","text-center"],["myTbody",""],["class","border-bottom border-bottom-dashed","data-kt-element","Name",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],["id","kt_footer",1,"footer","py-4","d-flex","flex-lg-column"],[1,"container-fluid","d-flex","flex-column","flex-md-row","align-items-center","justify-content-between"],[1,"text-dark","order-2","order-md-1"],[1,"text-muted","fw-bold","me-1"],["href","https://GradexCloud.com","target","_blank",1,"text-gray-800","text-hover-info"],[3,"value"],["data-kt-element","Name",1,"border-bottom","border-bottom-dashed"],[1,"pe-7","fixed-column",2,"background-color","white"],[1,"mb-1"],[1,"text-hover-info","mb-1"],[1,"text-center"],[1,"text-gray-800","text-hover-info","mb-1"]],template:function(a,t){if(a&1){let o=T();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11)(12,"span",12),r(13,"Class Name"),i()(),e(14,"div",13)(15,"select",14,15),S("change",function(){x(o);let s=I(16);return C(t.setClass(s.value))}),e(17,"option",16),r(18,"Select Class..."),i(),v(19,$t,2,2,"option",17),i()()(),e(20,"div",10)(21,"label",11)(22,"span",12),r(23,"Session"),i()(),e(24,"div",13)(25,"select",18),E("ngModelChange",function(s){return w(t.currentSessionId,s)||(t.currentSessionId=s),s}),e(26,"option",16),r(27,"Select Session..."),i(),v(28,ei,2,2,"option",17),i()()()(),e(29,"div",9)(30,"div",10)(31,"label",11)(32,"span",12),r(33,"Subject"),i()(),e(34,"div",13)(35,"select",19),E("ngModelChange",function(s){return w(t.currentSubjectId,s)||(t.currentSubjectId=s),s}),e(36,"option",16),r(37,"Select Subject..."),i(),v(38,ti,2,2,"option",17),i()()(),e(39,"div",10)(40,"label",11)(41,"span",12),r(42,"Term"),i()(),e(43,"div",13)(44,"select",20),E("ngModelChange",function(s){return w(t.currentTerm,s)||(t.currentTerm=s),s}),e(45,"option",21),r(46,"Select term"),i(),e(47,"option",22),r(48,"First"),i(),e(49,"option",23),r(50,"Second"),i(),e(51,"option",24),r(52,"Third"),i()()()()(),e(53,"div",10)(54,"div",25)(55,"button",26),S("click",function(){return t.getSubjectResultsByClass()}),r(56,"Show Students"),i()()(),e(57,"div",27)(58,"div",28)(59,"div",29)(60,"span",30),N(),e(61,"svg",31),b(62,"rect",32)(63,"path",33),i()(),A(),e(64,"input",34,35),S("keyup",function(){x(o);let s=I(65),f=I(89);return C(t.genk.searchTable(s,f))}),i()()(),e(66,"div",36)(67,"div",37)(68,"button",38),S("click",function(){return t.exportTable()}),r(69,"Export"),i()()()()(),e(70,"div",39)(71,"table",40)(72,"thead")(73,"tr",41)(74,"th",42),r(75,"S/N"),i(),e(76,"th",43),r(77,"Student Name"),i(),e(78,"th",44),r(79,"Admission No"),i(),e(80,"th",45),r(81,"Subject"),i(),e(82,"th",46),r(83,"Total Score"),i(),e(84,"th",46),r(85,"Grade"),i(),e(86,"th",46),r(87,"Position"),i()()(),e(88,"tbody",null,47),v(90,ii,22,7,"tr",48),i()()(),e(91,"div",8)(92,"div",49)(93,"div",50)(94,"label")(95,"select",51)(96,"option",52),r(97,"10"),i(),e(98,"option",53),r(99,"25"),i(),e(100,"option",54),r(101,"50"),i(),e(102,"option",55),r(103,"100"),i()()()()(),e(104,"div",56)(105,"div",57)(106,"ul",58)(107,"li",59)(108,"a",60),b(109,"i",61),i()(),e(110,"li",62)(111,"a",63),r(112,"1"),i()(),e(113,"li",64)(114,"a",65),b(115,"i",66),i()()()()()()()()()()()()(),e(116,"div",67)(117,"div",68)(118,"div",69)(119,"span",70),r(120,"2022\xA9"),i(),e(121,"a",71),r(122,"gradeX-Cloud"),i()()()()()}a&2&&(c(15),p("value",t.currentClass),c(4),p("ngForOf",t.staffClasses),c(6),y("ngModel",t.currentSessionId),c(3),p("ngForOf",t.sessionlist),c(7),y("ngModel",t.currentSubjectId),c(3),p("ngForOf",t.classSubjects),c(6),y("ngModel",t.currentTerm),c(46),p("ngForOf",t.resultlist))},dependencies:[P,X,z,Z,q,G,U,ie,H],styles:[`.table[_ngcontent-%COMP%] {
                                                width: auto;
                                            }

                                            .table-responsive[_ngcontent-%COMP%] {
                                                overflow-x: auto;
                                                max-width: 100%;
                                            }

                                            .fixed-column[_ngcontent-%COMP%] {
                                                position: sticky;
                                                left: 0;
                                                background-color: #fff;
                                                

                                                z-index: 1;
                                            }`]});let d=u;return d})();var se=$(me());function ni(d,u){if(d&1&&(e(0,"option",73),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.class)}}function ai(d,u){if(d&1&&(e(0,"option",73),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),D("",l.sessionName," ")}}function ri(d,u){if(d&1){let l=T();e(0,"tr")(1,"td",74),r(2),i(),e(3,"td")(4,"a",75),r(5),i()(),e(6,"td")(7,"a",76),r(8),i()(),e(9,"td"),r(10),i(),e(11,"td"),r(12),i(),e(13,"td")(14,"input",77,78),S("change",function(){let t=x(l).$implicit,o=I(15),m=h(2);return C(m.editComment(t.studentId,o.value))}),i()()()}if(d&2){let l=u.$implicit,n=u.index,a=h(2),t;c(2),D(" ",n+1," "),c(3),_(l.studentName),c(3),_(l.sex),c(2),_(l.average),c(2),_(l.average?a.formatPosition(n+1):""),c(2),p("value",(t=l.comment)!==null&&t!==void 0?t:"")}}function si(d,u){if(d&1){let l=T();e(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"label",16)(6,"span",17),r(7,"Class"),i()(),e(8,"div",18)(9,"select",19),E("ngModelChange",function(a){x(l);let t=h();return w(t.currentClass,a)||(t.currentClass=a),C(a)}),e(10,"option",20),r(11,"Select Class..."),i(),v(12,ni,2,2,"option",21),i()()(),e(13,"div",15)(14,"label",22)(15,"span",17),r(16,"Session"),i()(),e(17,"div",18)(18,"select",23),E("ngModelChange",function(a){x(l);let t=h();return w(t.currentSessionId,a)||(t.currentSessionId=a),C(a)}),e(19,"option",20),r(20,"Select Session..."),i(),v(21,ai,2,2,"option",21),i()()()(),e(22,"div",14)(23,"div",15)(24,"label",16)(25,"span",17),r(26,"Term"),i()(),e(27,"div",18)(28,"select",24),E("ngModelChange",function(a){x(l);let t=h();return w(t.currentTerm,a)||(t.currentTerm=a),C(a)}),e(29,"option",25),r(30,"Select term"),i(),e(31,"option",26),r(32,"First"),i(),e(33,"option",27),r(34,"Second"),i(),e(35,"option",28),r(36,"Third"),i(),e(37,"option",29),r(38,"Annual"),i()()()(),e(39,"div",30)(40,"div",18)(41,"button",31),S("click",function(){x(l);let a=h();return C(a.getResultsAverageByClass())}),r(42,"Show Results"),i()()()(),e(43,"div",32)(44,"div",33)(45,"div",34)(46,"span",35),N(),e(47,"svg",36),b(48,"rect",37)(49,"path",38),i()(),A(),b(50,"input",39),i()(),e(51,"div")(52,"div",40)(53,"button",41),S("click",function(){x(l);let a=h();return C(a.saveComments())}),e(54,"span",42),r(55,"Save Comment"),i()(),e(56,"button",43),r(57,"Batch Uploads "),i()()()()(),e(58,"div",44)(59,"table",45)(60,"thead")(61,"tr",46)(62,"th",47),r(63," S/N "),i(),e(64,"th",48),r(65,"Students Name"),i(),e(66,"th",49),r(67,"Gender"),i(),e(68,"th",50),r(69,"Average"),i(),e(70,"th",50),r(71,"Position"),i(),e(72,"th",51),r(73,"Class Teacher's Comment "),i()()(),e(74,"tbody",52),v(75,ri,16,6,"tr",53),i()()(),e(76,"div",54)(77,"div",55)(78,"div",56)(79,"label")(80,"select",57)(81,"option",58),r(82,"10"),i(),e(83,"option",59),r(84,"25"),i(),e(85,"option",60),r(86,"50"),i(),e(87,"option",61),r(88,"100"),i()()()()(),e(89,"div",62)(90,"div",63)(91,"ul",64)(92,"li",65)(93,"a",66),b(94,"i",67),i()(),e(95,"li",68)(96,"a",69),r(97,"1"),i()(),e(98,"li",70)(99,"a",71),b(100,"i",72),i()()()()()()()()}if(d&2){let l=h();c(9),y("ngModel",l.currentClass),c(3),p("ngForOf",l.formTeacherClasses),c(6),y("ngModel",l.currentSessionId),c(3),p("ngForOf",l.sessionlist),c(7),y("ngModel",l.currentTerm),c(47),p("ngForOf",l.resultlist)}}function li(d,u){d&1&&(e(0,"div")(1,"h1"),r(2,"No data to display"),i(),e(3,"h4"),r(4,"You are not a Form Teacher"),i()())}var $e=(()=>{let u=class u{constructor(n,a,t,o,m){this.router=n,this.route=a,this.auth=t,this.sch=o,this.gen=m,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.resultlist=[],this.principalresultlist=[],this.commentlist=[],this.principlecommentlist=[],this.studentresultlist=[],this.destroy=new J,this.formTeacherClasses=[],this.genk=m,this.userName=t.currentUserValue.name,this.userImgPath=t.currentUserValue.logo,this.adminStatus=t.currentUserValue.status}ngOnInit(){this.genk.topdata="Form Teacher Comment",this.getFormTeacherClass(),this.getClassNames(),this.getSession(),this.getCurrentSession()}getFormTeacherClass(){this.sch.getFormTeacherClass().subscribe(n=>{this.formTeacherClasses=n})}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}setImg(n){return n&&n.length>0?this.genk.imgurl+n:this.genk.defaultImg}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm)})}getResults(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getResultsAverageByClass(){this.sch.getResultsAverageByClassComment(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(a=>a.id==this.currentSessionId)[0].sessionName})}getResultsAverageByClassPrincipalComment(){this.sch.getResultsAverageByClassPrincipalComment(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.principalresultlist=n,this.currentSession=this.sessionlist.filter(a=>a.id==this.currentSessionId)[0].sessionName})}editComment(n,a){if(this.commentlist.length>0)if(this.commentlist.filter(t=>t.studentId==Number(n)).length>0)this.commentlist[this.commentlist.findIndex(t=>t.studentId==Number(n))].comment=a;else{let t={studentId:n,comment:a};this.commentlist.push(t)}else{let t={studentId:n,comment:a};this.commentlist.push(t)}}editPrincipleComment(n,a){if(this.principlecommentlist.length>0)if(this.principlecommentlist.filter(t=>t.studentId==Number(n)).length>0)this.principlecommentlist[this.principlecommentlist.findIndex(t=>t.studentId==Number(n))].comment=a;else{let t={studentId:n,comment:a};this.principlecommentlist.push(t)}else{let t={studentId:n,comment:a};this.principlecommentlist.push(t)}}formatPosition(n){let a;switch(n){case 1:a="1st";break;case 2:a="2nd";break;case 3:a="3rd";break;default:a=n+"th";break}return a}saveComments(){se.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{se.default.showLoading(),this.sch.saveFormTeacherComment(this.commentlist,this.currentClass,this.currentSessionId.toString(),this.currentTerm).pipe(Y(this.destroy)).subscribe(n=>{se.default.close()})}}).then(n=>{se.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}getResultsByStudent(n,a,t,o){this.myStudentId=n,this.myStudentName=a,this.myStudentPhoto=t,this.principleComment=o,this.sch.getResultsByStudent(this.currentClass,this.currentSessionId.toString(),this.currentTerm,n.toString()).subscribe(m=>{this.studentresultlist=m})}savePrincipleComments(){se.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{se.default.showLoading(),this.sch.saveFormPrincipalComment(this.principlecommentlist,this.currentClass,this.currentSessionId.toString(),this.currentTerm).pipe(Y(this.destroy)).subscribe(n=>{se.default.close()})}}).then(n=>{se.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}};u.\u0275fac=function(a){return new(a||u)(k(F),k(le),k(W),k(B),k(L))},u.\u0275cmp=R({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:11,vars:2,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],["id","kt_ecommerce_add_product_form","data-kt-redirect","#",1,"form","d-flex","flex-column","flex-lg-row"],[1,"d-flex","flex-column","flex-row-fluid","gap-7","gap-lg-10"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade","show","active"],[1,"d-flex","flex-column","gap-7","gap-lg-10"],["class","card card-flush py-4",4,"ngIf"],[4,"ngIf"],[1,"card","card-flush","py-4"],[1,"card-body","pt-10"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["name","classy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fs-6","fw-bold","form-label"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["value","ANNUAL"],[1,"fv-row","mb-5",2,"margin-top","60px"],[1,"w-100","btn","btn-primary",2,"padding","10px",3,"click"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search Students",1,"form-control","form-control-solid","w-250px","ps-15"],[1,"text-end"],["type","submit",1,"me-3","btn","btn-info",3,"click"],[1,"indicator-label"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"btn","btn-info"],[1,"table-responsive","mb-10"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"w-10px","pe-2"],[1,"min-w-150px"],[1,"min-w-100px"],[1,"min-w-125px"],[1,"min-w-300px"],[1,"fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],[3,"value"],[1,"text-gray-800","text-bold"],["href","View_user.html",1,"text-gray-800","text-hover-info","mb-1"],["href","#",1,"text-gray-600","text-hover-info","mb-1"],["id","textField","type","text","name","class","aria-label","Enter comment","placeholder","Enter comment...",1,"form-control","form-control-solid","form-control-lg",3,"value","change"],["de",""]],template:function(a,t){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),v(9,si,101,6,"div",9)(10,li,5,0,"div",10),i()()()()()()()()()),a&2&&(c(9),p("ngIf",t.formTeacherClasses.length>0),c(),p("ngIf",t.formTeacherClasses.length==0))},dependencies:[P,Q,X,z,Z,q,G,U,ie,H],encapsulation:2});let d=u;return d})();var Ve=$(me());function oi(d,u){if(d&1&&(e(0,"div")(1,"div",9),b(2,"full-calendar",10),i()()),d&2){let l=h();c(2),p("options",l.calendarOptions)}}function di(d,u){if(d&1&&(e(0,"option",34),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),D("",l.sessionName," ")}}function ci(d,u){if(d&1&&(e(0,"div",48)(1,"span",49),r(2,"Time:"),i(),e(3,"span",50),r(4),ee(5,"date"),ee(6,"date"),i()()),d&2){let l=h().$implicit;c(4),je("",te(5,2,l.startDateTime,"hh:mm a"),"\xA0 - \xA0",te(6,5,l.endDateTime,"hh:mm a"),"")}}function mi(d,u){if(d&1&&(e(0,"div",48)(1,"span",49),r(2,"Time:"),i(),e(3,"span",50),r(4),ee(5,"date"),ee(6,"date"),i()()),d&2){let l=h().$implicit;c(4),je("",te(5,2,l.startDateTime,"EEE hh:mm a"),"\xA0 - \xA0",te(6,5,l.endDateTime,"EEE hh:mm a (MMM d)"),"")}}function ui(d,u){if(d&1){let l=T();e(0,"div")(1,"div",35),b(2,"span",36),e(3,"div",37)(4,"div",38)(5,"span",39),r(6),ee(7,"date"),i(),b(8,"br"),e(9,"span",40),r(10),ee(11,"date"),i()()(),e(12,"div",41)(13,"div",42),r(14),i(),e(15,"div",43),r(16),i(),v(17,ci,7,8,"div",44)(18,mi,7,8,"div",44),e(19,"div",45),r(20,"Venue: "),e(21,"span",46),r(22),i()()(),e(23,"a",47),S("click",function(){let t=x(l).$implicit,o=h(2);return C(o.viewEvent(t.id))}),r(24,"View"),i()()()}if(d&2){let l=u.$implicit,n=h(2);c(6),_(te(7,7,l.startDateTime,"EEE")),c(4),_(te(11,10,l.startDateTime,"MMM	d")),c(4),_(l.title),c(2),_(n.cutText(l.description)),c(),p("ngIf",l.isSameDay),c(),p("ngIf",!l.isSameDay),c(4),_(l.location)}}function pi(d,u){if(d&1){let l=T();e(0,"div",11)(1,"div")(2,"div",12)(3,"div",13)(4,"div",14)(5,"span",15),r(6,"School Events / Timeline"),i()(),e(7,"div")(8,"div",16)(9,"div",17)(10,"div",18)(11,"select",19,20),S("change",function(){x(l);let a=I(12),t=h();return C(t.switchSession(a.value))}),v(13,di,2,2,"option",21),i()()(),e(14,"div")(15,"div",17)(16,"div",18)(17,"select",22,23),S("change",function(){x(l);let a=I(18),t=h();return C(t.switchTerm(a.value))}),e(19,"option",24),r(20,"Select term"),i(),e(21,"option",25),r(22,"Upcoming"),i(),e(23,"option",26),r(24,"All"),i(),e(25,"option",27),r(26,"First"),i(),e(27,"option",28),r(28,"Second"),i(),e(29,"option",29),r(30,"Third"),i()()()()()()()(),e(31,"div",30)(32,"div",31)(33,"div",32),v(34,ui,25,13,"div",33),i()()()()()()}if(d&2){let l=h();c(11),p("value",l.currentSessionId),c(2),p("ngForOf",l.sessionlist),c(4),p("value",l.currentTerm),c(17),p("ngForOf",l.calendarTimelineList)}}function fi(d,u){if(d&1&&(e(0,"option",34),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),D("",l.sessionName," ")}}function hi(d,u){if(d&1){let l=T();e(0,"div",51)(1,"div",52)(2,"div",53)(3,"form",54)(4,"div",55)(5,"h2",56),r(6,"Add Event"),i(),e(7,"div",57),S("click",function(){x(l);let a=h();return C(a.closeModal())}),e(8,"span",58),N(),e(9,"svg",59),b(10,"rect",60)(11,"rect",61),i()()()(),A(),e(12,"div",62)(13,"div",18)(14,"label",63),r(15,"Event Title"),i(),e(16,"input",64),E("ngModelChange",function(a){x(l);let t=h();return w(t.eventTitle,a)||(t.eventTitle=a),C(a)}),i()(),e(17,"div",18)(18,"label",65),r(19,"Event Description"),i(),e(20,"textarea",66),E("ngModelChange",function(a){x(l);let t=h();return w(t.eventDesc,a)||(t.eventDesc=a),C(a)}),i()(),e(21,"div",18)(22,"label",65),r(23,"Event Location"),i(),e(24,"input",67),E("ngModelChange",function(a){x(l);let t=h();return w(t.eventLocation,a)||(t.eventLocation=a),C(a)}),i()(),e(25,"div",16)(26,"div",17)(27,"div",18)(28,"label",68),r(29,"Event Start Date"),i(),e(30,"input",69),E("ngModelChange",function(a){x(l);let t=h();return w(t.startDateTime,a)||(t.startDateTime=a),C(a)}),i()()(),e(31,"div")(32,"div",17)(33,"div",18)(34,"label",65),r(35,"Event End Date"),i(),e(36,"input",70),E("ngModelChange",function(a){x(l);let t=h();return w(t.endDateTime,a)||(t.endDateTime=a),C(a)}),i()()()()(),e(37,"div",16)(38,"div",17)(39,"div",18)(40,"label",68),r(41,"Session"),i(),e(42,"select",71),E("ngModelChange",function(a){x(l);let t=h();return w(t.currentSessionId,a)||(t.currentSessionId=a),C(a)}),e(43,"option",72),r(44,"Select Session..."),i(),v(45,fi,2,2,"option",21),i()()(),e(46,"div")(47,"div",17)(48,"div",18)(49,"label",65),r(50,"Term"),i(),e(51,"select",73),E("ngModelChange",function(a){x(l);let t=h();return w(t.currentTerm,a)||(t.currentTerm=a),C(a)}),e(52,"option",24),r(53,"Select term"),i(),e(54,"option",27),r(55,"First"),i(),e(56,"option",28),r(57,"Second"),i(),e(58,"option",29),r(59,"Third"),i()()()()()()(),e(60,"div",74)(61,"button",75),S("click",function(){x(l);let a=h();return C(a.closeModal())}),r(62,"Cancel"),i(),e(63,"button",76),S("click",function(){x(l);let a=h();return C(a.submitEvent())}),e(64,"span",77),r(65,"Submit"),i(),e(66,"span",78),r(67,"Please wait... "),b(68,"span",79),i()()()()()()()}if(d&2){let l=h();c(16),y("ngModel",l.eventTitle),c(4),y("ngModel",l.eventDesc),c(4),y("ngModel",l.eventLocation),c(6),y("ngModel",l.startDateTime),c(6),y("ngModel",l.endDateTime),c(6),y("ngModel",l.currentSessionId),c(3),p("ngForOf",l.sessionlist),c(6),y("ngModel",l.currentTerm)}}function gi(d,u){if(d&1&&(e(0,"div")(1,"div",93)(2,"span",102),N(),e(3,"svg",103),b(4,"circle",104),i()(),A(),e(5,"div",105)(6,"span",106),r(7,"Start: "),i(),e(8,"span",107),r(9),ee(10,"date"),i()()(),e(11,"div",108)(12,"span",109),N(),e(13,"svg",103),b(14,"circle",104),i()(),A(),e(15,"div",105)(16,"span",110),r(17,"Ends: "),i(),e(18,"span",111),r(19),ee(20,"date"),i()()()()),d&2){let l=h(2);c(9),D("",te(10,2,l.eventDisplayObj.startDateTime,"EEE hh:mm a, MMM d y")," "),c(10),_(te(20,5,l.eventDisplayObj.endDateTime,"EEE hh:mm a, MMM d y"))}}function Si(d,u){if(d&1&&(e(0,"div",93)(1,"span",102),N(),e(2,"svg",103),b(3,"circle",104),i()(),A(),e(4,"div",105)(5,"span",106),r(6,"Time: "),i(),e(7,"span",107),r(8),ee(9,"date"),ee(10,"date"),i()()()),d&2){let l=h(2);c(8),je("",te(9,2,l.eventDisplayObj.startDateTime,"EEE hh:mm a")," \xA0 - \xA0 ",te(10,5,l.eventDisplayObj.endDateTime,"hh:mm a, MMM d y"),"")}}function _i(d,u){if(d&1){let l=T();e(0,"div",80),S("click",function(){x(l);let a=h();return C(a.closeModal())}),e(1,"div",52)(2,"div",53)(3,"div",81)(4,"div",82)(5,"span",83),S("click",function(){x(l);let a=h();return C(a.deleteCalendarEvent(a.eventDisplayObj.id))}),b(6,"i",84),i()(),e(7,"div",85)(8,"span",58),N(),e(9,"svg",59),b(10,"rect",60)(11,"rect",61),i()()()(),A(),e(12,"div",86)(13,"div",87)(14,"span",88),N(),e(15,"svg",59),b(16,"path",89)(17,"path",90)(18,"path",91),i()(),A(),e(19,"div",92)(20,"div",93)(21,"span",94),r(22),i(),b(23,"span",95),i(),e(24,"div",96),r(25),i()()(),v(26,gi,21,8,"div",5)(27,Si,11,8,"div",97),e(28,"div",98)(29,"span",88),N(),e(30,"svg",59),b(31,"path",99)(32,"path",100),i()(),A(),e(33,"div",101),r(34),i()()()()()()}if(d&2){let l=h();c(22),_(l.eventDisplayObj.title),c(3),_(l.eventDisplayObj.description),c(),p("ngIf",!l.eventDisplayObj.isSameDay),c(),p("ngIf",l.eventDisplayObj.isSameDay),c(7),_(l.eventDisplayObj.location)}}var et=(()=>{let u=class u{constructor(n,a,t,o){this.router=n,this.auth=a,this.sch=t,this.gen=o,this.userName="",this.userImgPath="",this.mobileModal=!1,this.isEnterModal=!1,this.isViewModal=!1,this.calendarEventList=[],this.calendarTimelineList=[],this.sessionlist=[],this.currentTerm="UPCOMING",this.isCalendar=!0,this.isTimeline=!1,this.calendarOptions={initialView:"dayGridMonth",plugins:[Xe,qe],dateClick:m=>this.handleDateClick(m),events:this.calendarEventList,eventClick:m=>{this.viewEvent(m.event.id)}},this.genk=o,this.userName=a.currentUserValue.name,this.userImgPath=a.currentUserValue.logo,this.adminStatus=a.currentUserValue.status}ngOnInit(){this.genk.topdata="Award Listings",this.getCalendarEvent(),this.getSession(),this.getCurrentSession(),this.getTimelineCalendarEvent()}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}handleDateClick(n){this.startDateTime=n.dateStr+"T00:00",this.isEnterModal=!0}submitEvent(){this.isEnterModal=!1;let n={title:this.eventTitle,description:this.eventDesc,location:this.eventLocation,startDateTime:this.startDateTime,endDateTime:this.endDateTime,sessionId:this.currentSessionId,term:this.currentTerm};this.sch.createCalendarEvent(n).subscribe(a=>{this.isEnterModal=!1,this.getCalendarEvent(),Ve.default.fire("Event Added Successfully","","success")})}closeModal(){this.isEnterModal=!1,this.isViewModal=!1}getCalendarEvent(){this.sch.getCalendarEvents().subscribe(n=>{debugger;this.calendarEventList=n;let a;this.calendarEventList.forEach(t=>{a={id:t.id,title:t.title,date:t.startDateTime.split("T")[0]},this.calendarEventList.push(a),this.calendarOptions.events=this.calendarEventList})})}viewEvent(n){this.eventDisplayObj=this.calendarEventList.filter(a=>a.id==Number(n))[0],this.isViewModal=!0}deleteCalendarEvent(n){Ve.default.fire({title:"Do you really want to delete this event?",showCancelButton:!0,confirmButtonText:"Yes, Delete"}).then(a=>{a.isConfirmed&&this.sch.deleteCalendarEvent(n.toString()).subscribe(t=>{this.getCalendarEvent(),this.isViewModal=!1,Ve.default.fire("Data deleted","","success")})})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.getTimelineCalendarEvent()})}switchTimeline(n){n=="TIMELINE"?(this.isCalendar=!1,this.isTimeline=!0):(this.isCalendar=!0,this.isTimeline=!1)}getTimelineCalendarEvent(){this.sch.getCalendarEventsByTerm(this.currentTerm,this.currentSessionId.toString()).subscribe(n=>{this.calendarTimelineList=n})}cutText(n){return n.length>200?n.substring(0,200)+"...":n}switchTerm(n){this.currentTerm=n,this.getTimelineCalendarEvent()}switchSession(n){this.currentSessionId=n,this.getTimelineCalendarEvent()}};u.\u0275fac=function(a){return new(a||u)(k(F),k(W),k(B),k(L))},u.\u0275cmp=R({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:12,vars:4,consts:[[2,"margin","1% 5% 2% 5%","padding","5px"],[1,"nav","nav-custom","nav-tabs","nav-line-tabs","nav-line-tabs-2x","border-0","fs-4","fw-bold","mb-n2"],[1,"nav-item"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_general",1,"nav-link","text-active-primary","pb-4","active",3,"click"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_advanced",1,"nav-link","text-active-primary","pb-4",3,"click"],[4,"ngIf"],["style","padding: 0 5%",4,"ngIf"],["class","modale",4,"ngIf"],["class","modale",3,"click",4,"ngIf"],[1,"card",2,"margin","1% 5% 5% 5%","padding","20px"],[3,"options"],[2,"padding","0 5%"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start"],[1,"card-label","fs-2","fw-bolder","text-dark"],[1,"row","row-cols-lg-2","g-10"],[1,"col"],[1,"fv-row","mb-9"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["ses",""],[3,"value",4,"ngFor","ngForOf"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["tm",""],["selected","","disabled",""],["value","UPCOMING"],["value","ALL"],["value","FIRST"],["value","SECOND"],["value","THIRD"],[1,"card-body","pt-3","px-0"],[1,"tab-content","mb-2","px-9"],["id","kt_timeline_widget_3_tab_content_1",1,"tab-pane","fade","show","active"],[4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","align-items-center","mb-11",2,"font-family","'Poppins'"],["data-kt-element","bullet",1,"bullet","bullet-vertical","d-flex","align-items-center","min-h-70px","mh-100","me-4","bg-success"],[2,"margin-right","30px","background-color","dodgerblue","color","white","width","70px","height","70px","border-radius","100%","display","flex","justify-content","center","align-items","center"],[2,"text-align","center"],[2,"font-weight","500","font-size","18px"],[2,"font-weight","700","font-size","12px"],[1,"flex-grow-1","me-5",2,"width","60%"],[1,"text-black-500","fw-bold","fs-2"],[1,"text-black-500","fs-4"],["class","fw-bold fs-4","style","color: #3A7BD5;",4,"ngIf"],[1,"text-gray-600","fw-bolder","fs-7"],["href","#",1,"text-grey","opacity-85-hover","fw-bold"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_project",1,"btn","btn-sm","btn-light",3,"click"],[1,"fw-bold","fs-4",2,"color","#3A7BD5"],[2,"font-weight","600","margin-right","8px"],[1,"fw-bold","fs-4"],[1,"modale"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_event_form",1,"form"],[1,"modal-header"],["data-kt-calendar","title",1,"fw-bolder"],[1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],[1,"fs-6","fw-bold","required","mb-2"],["type","text","placeholder","","name","calendar_event_name",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fs-6","fw-bold","mb-2"],["type","text","placeholder","","name","calendar_event_description",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","","name","calendar_event_location",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fs-6","fw-bold","mb-2","required"],["type","datetime-local","name","calendar_event_start_date","placeholder","Pick a start date",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","datetime-local","name","calendar_event_end_date","placeholder","Pick a end date",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],[1,"modal-footer","flex-center"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"modale",3,"click"],[1,"modal-header","border-0","justify-content-end"],["title","Delete Event","id","kt_modal_view_event_delete",1,"btn","btn-icon","btn-sm","btn-color-gray-400","btn-active-icon-danger","me-2","mr-5"],[3,"click"],[1,"fa-solid","fa-trash-can",2,"font-size","20px","color","red"],["data-bs-toggle","tooltip","title","Hide Event","data-bs-dismiss","modal",1,"btn","btn-icon","btn-sm","btn-color-gray-500","btn-active-icon-primary"],[1,"modal-body","pt-0","pb-20","px-lg-17"],[1,"d-flex"],[1,"svg-icon","svg-icon-1","svg-icon-muted","me-5"],["opacity","0.3","d","M21 22H3C2.4 22 2 21.6 2 21V5C2 4.4 2.4 4 3 4H21C21.6 4 22 4.4 22 5V21C22 21.6 21.6 22 21 22Z","fill","currentColor"],["d","M6 6C5.4 6 5 5.6 5 5V3C5 2.4 5.4 2 6 2C6.6 2 7 2.4 7 3V5C7 5.6 6.6 6 6 6ZM11 5V3C11 2.4 10.6 2 10 2C9.4 2 9 2.4 9 3V5C9 5.6 9.4 6 10 6C10.6 6 11 5.6 11 5ZM15 5V3C15 2.4 14.6 2 14 2C13.4 2 13 2.4 13 3V5C13 5.6 13.4 6 14 6C14.6 6 15 5.6 15 5ZM19 5V3C19 2.4 18.6 2 18 2C17.4 2 17 2.4 17 3V5C17 5.6 17.4 6 18 6C18.6 6 19 5.6 19 5Z","fill","currentColor"],["d","M8.8 13.1C9.2 13.1 9.5 13 9.7 12.8C9.9 12.6 10.1 12.3 10.1 11.9C10.1 11.6 10 11.3 9.8 11.1C9.6 10.9 9.3 10.8 9 10.8C8.8 10.8 8.59999 10.8 8.39999 10.9C8.19999 11 8.1 11.1 8 11.2C7.9 11.3 7.8 11.4 7.7 11.6C7.6 11.8 7.5 11.9 7.5 12.1C7.5 12.2 7.4 12.2 7.3 12.3C7.2 12.4 7.09999 12.4 6.89999 12.4C6.69999 12.4 6.6 12.3 6.5 12.2C6.4 12.1 6.3 11.9 6.3 11.7C6.3 11.5 6.4 11.3 6.5 11.1C6.6 10.9 6.8 10.7 7 10.5C7.2 10.3 7.49999 10.1 7.89999 10C8.29999 9.90003 8.60001 9.80003 9.10001 9.80003C9.50001 9.80003 9.80001 9.90003 10.1 10C10.4 10.1 10.7 10.3 10.9 10.4C11.1 10.5 11.3 10.8 11.4 11.1C11.5 11.4 11.6 11.6 11.6 11.9C11.6 12.3 11.5 12.6 11.3 12.9C11.1 13.2 10.9 13.5 10.6 13.7C10.9 13.9 11.2 14.1 11.4 14.3C11.6 14.5 11.8 14.7 11.9 15C12 15.3 12.1 15.5 12.1 15.8C12.1 16.2 12 16.5 11.9 16.8C11.8 17.1 11.5 17.4 11.3 17.7C11.1 18 10.7 18.2 10.3 18.3C9.9 18.4 9.5 18.5 9 18.5C8.5 18.5 8.1 18.4 7.7 18.2C7.3 18 7 17.8 6.8 17.6C6.6 17.4 6.4 17.1 6.3 16.8C6.2 16.5 6.10001 16.3 6.10001 16.1C6.10001 15.9 6.2 15.7 6.3 15.6C6.4 15.5 6.6 15.4 6.8 15.4C6.9 15.4 7.00001 15.4 7.10001 15.5C7.20001 15.6 7.3 15.6 7.3 15.7C7.5 16.2 7.7 16.6 8 16.9C8.3 17.2 8.6 17.3 9 17.3C9.2 17.3 9.5 17.2 9.7 17.1C9.9 17 10.1 16.8 10.3 16.6C10.5 16.4 10.5 16.1 10.5 15.8C10.5 15.3 10.4 15 10.1 14.7C9.80001 14.4 9.50001 14.3 9.10001 14.3C9.00001 14.3 8.9 14.3 8.7 14.3C8.5 14.3 8.39999 14.3 8.39999 14.3C8.19999 14.3 7.99999 14.2 7.89999 14.1C7.79999 14 7.7 13.8 7.7 13.7C7.7 13.5 7.79999 13.4 7.89999 13.2C7.99999 13 8.2 13 8.5 13H8.8V13.1ZM15.3 17.5V12.2C14.3 13 13.6 13.3 13.3 13.3C13.1 13.3 13 13.2 12.9 13.1C12.8 13 12.7 12.8 12.7 12.6C12.7 12.4 12.8 12.3 12.9 12.2C13 12.1 13.2 12 13.6 11.8C14.1 11.6 14.5 11.3 14.7 11.1C14.9 10.9 15.2 10.6 15.5 10.3C15.8 10 15.9 9.80003 15.9 9.70003C15.9 9.60003 16.1 9.60004 16.3 9.60004C16.5 9.60004 16.7 9.70003 16.8 9.80003C16.9 9.90003 17 10.2 17 10.5V17.2C17 18 16.7 18.4 16.2 18.4C16 18.4 15.8 18.3 15.6 18.2C15.4 18.1 15.3 17.8 15.3 17.5Z","fill","currentColor"],[1,"mb-9"],[1,"d-flex","align-items-center","mb-2"],["data-kt-calendar","event_name",1,"fs-2","fw-bolder","me-3"],["data-kt-calendar","all_day",1,"badge","badge-light-success"],["data-kt-calendar","event_description",1,"fs-6"],["class","d-flex align-items-center mb-2",4,"ngIf"],[1,"d-flex","align-items-center"],["opacity","0.3","d","M18.0624 15.3453L13.1624 20.7453C12.5624 21.4453 11.5624 21.4453 10.9624 20.7453L6.06242 15.3453C4.56242 13.6453 3.76242 11.4453 4.06242 8.94534C4.56242 5.34534 7.46242 2.44534 11.0624 2.04534C15.8624 1.54534 19.9624 5.24534 19.9624 9.94534C20.0624 12.0453 19.2624 13.9453 18.0624 15.3453Z","fill","currentColor"],["d","M12.0624 13.0453C13.7193 13.0453 15.0624 11.7022 15.0624 10.0453C15.0624 8.38849 13.7193 7.04535 12.0624 7.04535C10.4056 7.04535 9.06241 8.38849 9.06241 10.0453C9.06241 11.7022 10.4056 13.0453 12.0624 13.0453Z","fill","currentColor"],["data-kt-calendar","event_location",1,"fs-6"],[1,"svg-icon","svg-icon-1","svg-icon-success","me-5"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["fill","currentColor","cx","12","cy","12","r","8"],[1,"fs-6"],[1,"fw-bolder",2,"padding-right","15px"],["data-kt-calendar","event_start_date"],[1,"d-flex","align-items-center","mb-9"],[1,"svg-icon","svg-icon-1","svg-icon-danger","me-5"],[1,"fw-bolder",2,"padding-right","20px"],["data-kt-calendar","event_end_date"]],template:function(a,t){a&1&&(e(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),S("click",function(){return t.switchTimeline("CALENDAR")}),r(4,"Event Calendar"),i()(),e(5,"li",2)(6,"a",4),S("click",function(){return t.switchTimeline("TIMELINE")}),r(7,"Timeline"),i()()()(),v(8,oi,3,1,"div",5)(9,pi,35,4,"div",6)(10,hi,69,8,"div",7)(11,_i,35,5,"div",8)),a&2&&(c(8),p("ngIf",t.isCalendar),c(),p("ngIf",t.isTimeline),c(),p("ngIf",t.isEnterModal),c(),p("ngIf",t.isViewModal))},dependencies:[P,Q,X,z,Z,De,q,G,U,ie,H,ze,Pe],styles:[".modale[_ngcontent-%COMP%]{display:block;position:fixed;z-index:6;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#0000004d}"]});let d=u;return d})();var Ee=$(me());var de=$(Oe());function bi(d,u){if(d&1&&(e(0,"option",115),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),D(" ",l.class,"")}}function xi(d,u){d&1&&(e(0,"div",116)(1,"div"),r(2,"No class is selected"),i()())}function Ci(d,u){d&1&&(e(0,"div",116)(1,"div"),r(2,"No term is selected"),i()())}function vi(d,u){if(d&1&&(e(0,"option",115),r(1),i()),d&2){let l=u.$implicit;p("value",l.subjectId),c(),D(" ",l.subjects,"")}}function yi(d,u){d&1&&(e(0,"div",116)(1,"div"),r(2,"No subject is selected"),i()())}function wi(d,u){if(d&1&&(e(0,"option",115),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),D(" ",l.sessionName,"")}}function Ei(d,u){d&1&&(e(0,"div",116)(1,"div"),r(2,"No session is selected"),i()())}function Ii(d,u){d&1&&(e(0,"div",116)(1,"div"),r(2,"No Week is selected"),i()())}function ki(d,u){if(d&1){let l=T();e(0,"tr",117)(1,"td"),r(2),i(),e(3,"td",118),b(4,"input",119),i(),e(5,"td",120),b(6,"input",121),i(),e(7,"td")(8,"input",122,123),S("keyup",function(){let t=x(l).$implicit,o=I(9),m=h();return C(m.setCa(t.studentId,o,"Exam"))}),i()(),e(10,"td",124)(11,"span",125),r(12),i()(),e(13,"td")(14,"span",125),r(15),i()()()}if(d&2){let l=u.$implicit,n=u.index,a,t,o,m,s;c(2),_(n+1),c(2),ne("value",(a=l.studentName)!==null&&a!==void 0?a:""),c(2),ne("value",(t=l.admissionNo)!==null&&t!==void 0?t:""),c(2),p("value",(o=l.exam)!==null&&o!==void 0?o:""),c(4),_((m=l.grade)!==null&&m!==void 0?m:""),c(3),_((s=l.remark)!==null&&s!==void 0?s:"")}}var tt=(()=>{let u=class u{constructor(n,a,t,o,m){this.router=n,this.auth=a,this.sch=t,this.gen=o,this.cd=m,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.psycomotorlist=[],this.studentlist=[],this.bigboss=[],this.smallboss=[],this.psycoObjList=[],this.psylist=[],this.motorlist=[],this.classSubjects=[],this.classSubjectsBackup=[],this.resultlist=[],this.gradeScaleList=[],this.destroy=new J,this.submitted=!1,this.staffSubjectList=[],this.staffClasses=[],this.genk=o,this.userName=a.currentUserValue.name,this.userImgPath=a.currentUserValue.logo,this.adminStatus=a.currentUserValue.status}ngOnInit(){this.genk.topdata="Result Entry",this.resultForm=new be({term:new V(this.currentTerm,[O.required]),sessionId:new V(this.currentSessionId,[O.required]),subjectId:new V(this.currentSubjectId,[O.required]),classId:new V(this.currentClass,[O.required]),week:new V(this.selectedWeek,[O.required])},{}),this.getClassNames(),this.getSession(),this.getCurrentSession(),this.getStaffSubjects(),this.cd.markForCheck()}get f(){return this.resultForm.controls}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n,this.cd.markForCheck()})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n,this.cd.markForCheck()})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm),this.cd.markForCheck()})}getClassSubjects(){this.classSubjects=this.staffSubjectList.filter(n=>n.classId==this.currentClass)}getStudents(){if(this.submitted=!0,this.resultForm.invalid){this.cd.markForCheck();return}this.sch.getStudents(this.currentClass.toString()).subscribe(n=>{this.studentlist=n,this.getResultsByClass(),this.getCaSetupByClass(),this.submitted=!0,this.cd.markForCheck()})}getStaffSubjects(){this.sch.getStaffSubjects(this.auth.currentUserValue.id.toString()).subscribe(n=>{this.staffSubjectList=n;let a=[];this.staffSubjectList.forEach(t=>{a.filter(o=>o==t.classId).length<1&&(a.push(t.classId),this.staffClasses.push({class:t.class,id:t.classId}))})})}getResultsByClass(){this.sch.getWeeklyResultsByClass(this.currentClass.toString(),this.currentSessionId.toString(),this.currentTerm,this.selectedWeek.toString(),this.currentSubjectId.toString()).subscribe(n=>{this.resultlist=n,this.bigboss=[]})}getCaSetupByClass(){this.sch.getCaSetupByClass(this.currentClass.toString(),this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.caSetupData=n.systemname,this.caScoreData=n.score})}getGradeScale(n){this.currentClass=Number(n),this.getClassSubjects();let t=this.schoolClasses.filter(o=>o.id==this.currentClass)[0].classLevelId;this.sch.getGradeScaleByCategory(t).subscribe(o=>{this.gradeScaleList=o,this.cd.markForCheck()})}setCa(n,a,t){debugger;let o,m;if(!/^\d+\.(0)?$/.test(a.value))if(this.bigboss.filter(s=>s.studentId==Number(n)).length>0){o=this.bigboss.filter(g=>g.studentId==Number(n))[0],m=this.resultlist.filter(g=>g.studentId==Number(n))[0];let s=this.clearInput(Number(a.value),this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))][t.toUpperCase()]);a.value=s.toString(),o[t]=s,o.totalScore=Number(o.Exam??this.checkCA(m.exam));let f=this.calGrade(o.totalScore);o.grade=f.grade,o.remark=f.remark,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].totalScore=o.totalScore,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].grade=o.grade,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].remark=o.remark,this.bigboss[this.bigboss.findIndex(g=>g.studentId==Number(n))]=o}else{o=new ae,m=this.resultlist.filter(g=>g.studentId==Number(n))[0],o.studentId=n;let s=this.clearInput(Number(a.value),this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))][t.toUpperCase()]);a.value=s.toString(),o[t]=s,o.totalScore=Number(o.Exam??this.checkCA(m.exam));let f=this.calGrade(o.totalScore);o.grade=f.grade,o.remark=f.remark,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].totalScore=o.totalScore,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].grade=o.grade,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].remark=o.remark,this.bigboss.push(o)}console.log(this.bigboss)}checkCA(n){return n||0}calGrade(n){let a;return this.gradeScaleList.forEach(t=>{n>=t.begLimit&&n<=t.endLimit&&(a={grade:t.grade,remark:t.remarks})}),a||{grade:"i",remark:"Not Aplicable"}}validateSaveEntry(){let n=this.classSubjects.filter(t=>t.id==this.currentSubjectId)[0]?.subjects,a=this.schoolClasses.filter(t=>t.id==this.currentClass)[0]?.class;Ee.default.fire({title:"Do you want permanently save student exam records for this class?",html:`<p style="font-size: 20px"><b>Subject: </b> ${n}</p> <p style="font-size: 20px"><b>Class: </b> ${a}</p>`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Save"}).then(t=>{t.isConfirmed&&this.saveResultEntry()})}saveResultEntry(){if(this.submitted=!0,this.resultForm.invalid){this.cd.markForCheck();return}if(this.resultlist.length<1){this.cd.markForCheck();return}let n=this.schoolClasses.filter(a=>a.id==this.currentClass)[0].class;Ee.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Ee.default.showLoading(),this.sch.saveWeekResultEntry(this.bigboss,this.currentSessionId.toString(),this.selectedWeek.toString(),this.currentTerm,this.currentSubjectId.toString(),this.currentClass.toString(),n).pipe(Y(this.destroy)).subscribe(a=>{Ee.default.close()})}}).then(a=>{Ee.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}clearInput(n,a){return n>100?(alert("Value entered is greater than CA Maximum Score of 100"),a?Number(a):0):Number(n)}upInputToMax(n,a){return n&&a>n?n:Number(a)}downloadTemplate(){let n=[];for(let g=0;g<this.resultlist.length;g++){let M=new Object;M.sn=g+1,M.studentId=this.resultlist[g].studentId,M.admissionNo=this.resultlist[g].admissionNo,M.studentName=this.resultlist[g].studentName;for(let[j,ke]of Object.entries(this.caSetupData))M[j+" ["+ke+"]"]="";n.push(M)}console.log(n);let a=de.utils.json_to_sheet(n),t=["A1","B1","C1","D1","E1","F1","G1","H1","I1","J1","K1","L1","M1","N1","O1","P1","Q1","R1","S1","T1"];for(let g of t)a[g]&&(a[g].s={font:{color:{rgb:"000000"},bold:!0}});var o=[{wch:4},{wch:10},{wch:20},{wch:35},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10}];a["!cols"]=o;let m=this.classSubjects.filter(g=>g.id==this.currentSubjectId)[0]?.subjects,s=this.schoolClasses.filter(g=>g.id==this.currentClass)[0]?.class,f=de.utils.book_new();de.utils.book_append_sheet(f,a,m+"__"+s+"__Entry"),de.writeFile(f,this.auth.currentUserValue.schoolName+"__Result Entry.xlsx",{compression:!0})}loadExcel(n){return Se(this,null,function*(){var a=n.target.files[0];if(a){console.log("hi");var t=new FileReader;t.onload=m=>{let s=t.result;var f=m.target.result,g=de.read(s,{type:"binary"});g.SheetNames.forEach(M=>{let j=ve.sheet_to_row_object_array(g.Sheets[M]);this.excelObj=j,console.log(j)})},t.readAsBinaryString(a);let o=t}})}populateFromFile(){for(let n=0;n<this.excelObj.length;n++){let a=0,t=0,o=new ae;o.studentId=this.excelObj[n].studentId;for(let[m,s]of Object.entries(this.excelObj[n]))m.substring(0,3)=="CA1"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA1,Number(s)),o.ca1=this.upInputToMax(this.caScoreData.CA1,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca1=this.upInputToMax(this.caScoreData.CA1,Number(s))),m.substring(0,3)=="CA2"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA2,Number(s)),o.ca2=this.upInputToMax(this.caScoreData.CA2,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca2=this.upInputToMax(this.caScoreData.CA2,Number(s))),m.substring(0,3)=="CA3"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA3,Number(s)),o.ca3=this.upInputToMax(this.caScoreData.CA3,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca3=this.upInputToMax(this.caScoreData.CA3,Number(s))),m.substring(0,3)=="CA4"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA4,Number(s)),o.ca4=this.upInputToMax(this.caScoreData.CA4,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca4=this.upInputToMax(this.caScoreData.CA4,Number(s))),m.substring(0,3)=="CA5"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA5,Number(s)),o.ca5=this.upInputToMax(this.caScoreData.CA5,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca5=this.upInputToMax(this.caScoreData.CA5,Number(s))),m.substring(0,3)=="CA6"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA6,Number(s)),o.ca6=this.upInputToMax(this.caScoreData.CA6,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca6=this.upInputToMax(this.caScoreData.CA6,Number(s))),m.substring(0,3)=="CA7"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA7,Number(s)),o.ca7=this.upInputToMax(this.caScoreData.CA7,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca7=this.upInputToMax(this.caScoreData.CA7,Number(s))),m.substring(0,3)=="CA8"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA8,Number(s)),o.ca8=this.upInputToMax(this.caScoreData.CA8,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca8=this.upInputToMax(this.caScoreData.CA8,Number(s))),m.substring(0,3)=="CA9"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA9,Number(s)),o.ca9=this.upInputToMax(this.caScoreData.CA9,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca9=this.upInputToMax(this.caScoreData.CA9,Number(s))),m.substring(0,4)=="CA10"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA10,Number(s)),o.ca10=this.upInputToMax(this.caScoreData.CA10,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca10=this.upInputToMax(this.caScoreData.CA10,Number(s))),m.substring(0,4)=="CA11"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA11,Number(s)),o.ca11=this.upInputToMax(this.caScoreData.CA11,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca11=this.upInputToMax(this.caScoreData.CA11,Number(s))),m.substring(0,4)=="CA12"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA12,Number(s)),o.ca12=this.upInputToMax(this.caScoreData.CA12,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca12=this.upInputToMax(this.caScoreData.CA12,Number(s))),m.substring(0,4)=="CA13"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA13,Number(s)),o.ca13=this.upInputToMax(this.caScoreData.CA13,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca13=this.upInputToMax(this.caScoreData.CA13,Number(s))),m.substring(0,4)=="CA14"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA14,Number(s)),o.ca14=this.upInputToMax(this.caScoreData.CA14,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca14=this.upInputToMax(this.caScoreData.CA14,Number(s))),m.substring(0,4)=="CA15"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA15,Number(s)),o.ca15=this.upInputToMax(this.caScoreData.CA15,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca15=this.upInputToMax(this.caScoreData.CA15,Number(s))),m.substring(0,4)=="Exam"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.Exam,Number(s)),o.exam=this.upInputToMax(this.caScoreData.Exam,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].exam=this.upInputToMax(this.caScoreData.Exam,Number(s)));t==1&&(this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].totalScore=a,this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].grade=this.calGrade(a).grade,this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].remark=this.calGrade(a).remark,o.totalScore=a,o.grade=this.calGrade(a).grade,o.remark=this.calGrade(a).remark,this.bigboss.push(o))}}};u.\u0275fac=function(a){return new(a||u)(k(F),k(W),k(B),k(L),k(_e))},u.\u0275cmp=R({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:203,vars:17,consts:[["id","kt_wrapper",1,"marlin"],["id","kt_content"],["id","kt_post"],["id","kt_content_container"],[1,"card","mb-10"],[1,"card-body"],["id","kt_invoice_form",3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","align-items-start","flex-xxl-row"],["data-bs-toggle","tooltip","data-bs-trigger","hover",1,"d-flex","flex-center","flex-equal","fw-row","text-nowrap","order-1","order-xxl-2","me-4"],[1,"fs-2x","fw-bolder","text-gray-800"],[1,"separator","separator-dashed","my-10"],[1,"mb-0"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["formControlName","classId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["cuclass",""],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","eroce",4,"ngIf"],[1,"fv-row","mb-5"],[1,"fs-6","fw-bold","form-label"],["name","class","formControlName","term","aria-label","Select Term","data-control","select2","data-placeholder","Select Term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ter",""],["value",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["formControlName","subjectId","aria-label","Select subject","data-control","select2","data-placeholder","Select subject..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["subj",""],["formControlName","sessionId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ses",""],[1,"col-lg-12","row",2,"margin-left","1px"],[1,"fv-row","mb-10","col-lg-6"],["formControlName","week","aria-label","Select class","data-control","select02","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["wek",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],[1,"fv-row","mb-10","col-lg-6",2,"text-align","end"],[1,"btn","btn-primary",2,"padding","10px 20%",3,"click"],[1,"d-flex",2,"width","100%","justify-content","end","margin-top","60px"],["type","button",1,"btn","btn-info","px-12",2,"margin-right","10px",3,"disabled","click"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","btn","btn-light-info",2,"height","48px","outline","none","border","solid 0.5px #7239ea","padding","6px 15px",3,"disabled"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu",2,"padding","10px"],[2,"margin-bottom","15px","margin-top","10px","font-size","16px"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"dropdown-item",3,"click"],[2,"margin-bottom","10px","font-size","16px"],[1,"dropdown-item",3,"click"],[1,"table-responsive","mb-10"],["data-kt-element","items",1,"table","g-5","gs-0","mb-0","fw-bolder","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"min-w-250px","w-250px",2,"background-color","white"],[1,"min-w-150px","w-150px"],["class","border-bottom border-bottom-dashed","data-kt-element","Name",4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],["id","kt_modal_add_customer","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_customer_form","data-kt-redirect","../../demo1/dist/apps/customers/list.html",1,"form"],["id","kt_modal_add_customer_header",1,"modal-header"],[1,"fw-bolder"],["id","kt_modal_add_customer_close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],["id","kt_modal_add_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_customer_header","data-kt-scroll-wrappers","#kt_modal_add_customer_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"required","fs-6","fw-bold","mb-2"],["data-bs-toggle","tooltip","title","Click the button below first to download the template, then upload after the excel sheet has been filled with the necessary data",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["type","file","placeholder","","name","passport",1,"form-control","form-control-solid",3,"change"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_add_customer_cancel",1,"btn","btn-light","me-3"],["type","submit","id","kt_modal_add_customer_submit","data-bs-dismiss","modal",1,"btn","btn-info",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"eroce"],["data-kt-element","Name",1,"border-bottom","border-bottom-dashed"],[1,"pe-7","fixed-column-state"],["type","text","name","name[]","placeholder","Acholo Nora",1,"form-control","form-control-solid","mb-2",3,"value"],[1,"ps-0"],["type","text","name","name[]","disabled","",1,"form-control","form-control-solid","mb-2",3,"value"],["type","text",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["exam",""],[1,"pt-5","text-end"],[1,"form-control","form-control-solid","text-center"]],template:function(a,t){if(a&1){let o=T();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),S("ngSubmit",function(){return t.getStudents()}),e(7,"div",7)(8,"div",8)(9,"span",9),r(10,"Enter Students Result"),i()()(),b(11,"div",10),e(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"label",15)(17,"span",16),r(18,"Select Class"),i()(),e(19,"div",17)(20,"select",18,19),S("change",function(){x(o);let s=I(21);return C(t.getGradeScale(s.value))}),e(22,"option",20),r(23,"Select Class..."),i(),v(24,bi,2,2,"option",21),i(),v(25,xi,3,0,"div",22),i()(),e(26,"div",23)(27,"label",24)(28,"span",16),r(29,"Term"),i()(),e(30,"div",17)(31,"select",25,26),E("ngModelChange",function(s){return w(t.currentTerm,s)||(t.currentTerm=s),s}),e(33,"option",27),r(34,"Select Term..."),i(),e(35,"option",28),r(36,"First "),i(),e(37,"option",29),r(38,"Second"),i(),e(39,"option",30),r(40,"Third"),i()(),v(41,Ci,3,0,"div",22),i()()(),e(42,"div",13)(43,"div",14)(44,"label",15)(45,"span",16),r(46,"Subject"),i()(),e(47,"div",17)(48,"select",31,32),E("ngModelChange",function(s){return w(t.currentSubjectId,s)||(t.currentSubjectId=s),s}),e(50,"option",27),r(51,"Select Subject..."),i(),v(52,vi,2,2,"option",21),i(),v(53,yi,3,0,"div",22),i()(),e(54,"div",14)(55,"label",24)(56,"span",16),r(57,"Session"),i()(),e(58,"div",17)(59,"select",33,34),E("ngModelChange",function(s){return w(t.currentSessionId,s)||(t.currentSessionId=s),s}),e(61,"option",20),r(62,"Select Session..."),i(),v(63,wi,2,2,"option",21),i(),v(64,Ei,3,0,"div",22),i()()(),e(65,"div",35)(66,"div",36)(67,"label",24)(68,"span",16),r(69,"Week"),i()(),e(70,"div",17)(71,"select",37,38),E("ngModelChange",function(s){return w(t.selectedWeek,s)||(t.selectedWeek=s),s}),e(73,"option",20),r(74,"Select Week"),i(),e(75,"option",39),r(76,"Week 1"),i(),e(77,"option",40),r(78,"Week 2"),i(),e(79,"option",41),r(80,"Week 3"),i(),e(81,"option",42),r(82,"Week 4"),i(),e(83,"option",43),r(84,"Week 5"),i(),e(85,"option",44),r(86,"Week 6"),i(),e(87,"option",45),r(88,"Week 7"),i(),e(89,"option",46),r(90,"Week 8"),i(),e(91,"option",47),r(92,"Week 9"),i(),e(93,"option",48),r(94,"Week 10"),i(),e(95,"option",49),r(96,"Week 11"),i(),e(97,"option",50),r(98,"Week 12"),i(),e(99,"option",51),r(100,"Week 13"),i(),e(101,"option",52),r(102,"Week 14"),i(),e(103,"option",53),r(104,"Week 15"),i(),e(105,"option",54),r(106,"Week 16"),i(),e(107,"option",55),r(108,"Week 17"),i(),e(109,"option",56),r(110,"Week 18"),i()(),v(111,Ii,3,0,"div",22),i()(),e(112,"div",57)(113,"label",24),r(114," \xA0 "),i(),e(115,"div",17)(116,"button",58),S("click",function(){return t.getStudents()}),r(117,"Show Students"),i()()()(),e(118,"div",59)(119,"button",60),S("click",function(){return t.validateSaveEntry()}),r(120,"Save"),i(),r(121," \xA0 "),e(122,"div",61)(123,"button",62),r(124," Actions "),i(),e(125,"ul",63)(126,"li",64)(127,"a",65),S("click",function(){return t.populateFromFile()}),r(128,"Populate from file"),i()(),e(129,"li",66)(130,"a",67),S("click",function(){return t.downloadTemplate()}),r(131,"Download Template"),i()()()()()(),e(132,"div",68)(133,"table",69)(134,"thead")(135,"tr",70)(136,"th"),r(137,"S/N"),i(),e(138,"th",71),r(139,"Student Name"),i(),e(140,"th",72),r(141,"Admission No"),i(),e(142,"th",72),r(143,"Test"),i(),e(144,"th",72),r(145,"Grade"),i(),e(146,"th",72),r(147,"Remark"),i()()(),e(148,"tbody"),v(149,ki,16,6,"tr",73),i()()(),e(150,"div",74)(151,"div",75)(152,"div",76)(153,"label")(154,"select",77)(155,"option",48),r(156,"10"),i(),e(157,"option",78),r(158,"25"),i(),e(159,"option",79),r(160,"50"),i(),e(161,"option",80),r(162,"100"),i()()()()(),e(163,"div",81)(164,"div",82)(165,"ul",83)(166,"li",84)(167,"a",85),b(168,"i",86),i()(),e(169,"li",87)(170,"a",88),r(171,"1"),i()(),e(172,"li",89)(173,"a",90),b(174,"i",91),i()()()()()()()()()(),e(175,"div",92)(176,"div",93)(177,"div",94)(178,"form",95)(179,"div",96)(180,"h2",97),r(181,"Upload Result"),i(),e(182,"div",98)(183,"span",99),N(),e(184,"svg",100),b(185,"rect",101)(186,"rect",102),i()()()(),A(),e(187,"div",103)(188,"div",104)(189,"div",105)(190,"label",106),r(191,"Upload Template"),i(),b(192,"i",107),e(193,"input",108),S("change",function(s){return t.loadExcel(s)}),i()()()(),e(194,"div",109)(195,"button",110),r(196,"Discard"),i(),e(197,"button",111),S("click",function(){return t.populateFromFile()}),e(198,"span",112),r(199,"Populate"),i(),e(200,"span",113),r(201,"Please wait... "),b(202,"span",114),i()()()()()()()()()()()}if(a&2){let o=I(21),m=I(32),s=I(49),f=I(60),g=I(72);c(6),p("formGroup",t.resultForm),c(14),p("value",t.currentClass),c(4),p("ngForOf",t.staffClasses),c(),p("ngIf",!o.value&&t.submitted),c(6),y("ngModel",t.currentTerm),c(10),p("ngIf",!m.value&&t.submitted),c(7),y("ngModel",t.currentSubjectId),c(4),p("ngForOf",t.classSubjects),c(),p("ngIf",!s.value&&t.submitted),c(6),y("ngModel",t.currentSessionId),c(4),p("ngForOf",t.sessionlist),c(),p("ngIf",!f.value&&t.submitted),c(7),y("ngModel",t.selectedWeek),c(40),p("ngIf",!g.value&&t.submitted),c(8),p("disabled",t.resultlist.length<1),c(4),p("disabled",t.resultlist.length<1),c(26),p("ngForOf",t.resultlist)}},dependencies:[P,Q,X,z,Z,q,G,U,H,xe,Ce],styles:["@media (max-width:800px){.fixewidth[_ngcontent-%COMP%]{min-width:150px;width:170px}.snfixewidth[_ngcontent-%COMP%]{min-width:10px;width:10px}}@media (min-width: 800px) and (max-width: 3000px){.fixed-column-state[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:100}.fixewidth[_ngcontent-%COMP%]{min-width:250px;width:250px}.snfixewidth[_ngcontent-%COMP%]{min-width:30px;width:30px}}",`.table[_ngcontent-%COMP%] {
                                                width: auto;
                                            }

                                            .table-responsive[_ngcontent-%COMP%] {
                                                overflow-x: auto;
                                                max-width: 100%;
                                            }

                                            .fixed-column[_ngcontent-%COMP%] {
                                                position: sticky;
                                                left: 0;
                                                background-color: #fff;
                                                

                                                z-index: 1;
                                            }`]});let d=u;return d})();var Me=$(me());function Ti(d,u){if(d&1&&(e(0,"option",71),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.class)}}function Mi(d,u){if(d&1&&(e(0,"option",71),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),D("",l.sessionName," ")}}function Ni(d,u){if(d&1){let l=T();e(0,"tr")(1,"td",72),r(2),i(),e(3,"td")(4,"a",73),r(5),i()(),e(6,"td")(7,"a",74),r(8),i()(),e(9,"td"),r(10),i(),e(11,"td"),r(12),i(),e(13,"td")(14,"input",75,76),S("change",function(){let t=x(l).$implicit,o=I(15),m=h();return C(m.editComment(t.studentId,o.value))}),i()()()}if(d&2){let l=u.$implicit,n=u.index,a=h(),t;c(2),D(" ",n+1," "),c(3),_(l.studentName),c(3),_(l.sex),c(2),_(l.average),c(2),_(l.average?a.formatPosition(n+1):""),c(2),p("value",(t=l.comment)!==null&&t!==void 0?t:"")}}var it=(()=>{let u=class u{constructor(n,a,t,o,m){this.router=n,this.route=a,this.auth=t,this.sch=o,this.gen=m,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.resultlist=[],this.principalresultlist=[],this.commentlist=[],this.principlecommentlist=[],this.studentresultlist=[],this.destroy=new J,this.genk=m,this.userName=t.currentUserValue.name,this.userImgPath=t.currentUserValue.logo,this.adminStatus=t.currentUserValue.status,this.schoolId=t.currentUserValue?.schoolId}ngOnInit(){this.genk.topdata="Hostel Supervisor Comment",this.getClassNames(),this.getSession(),this.getCurrentSession()}get HouseCommentHeader(){return this.schoolId==520?"House Mother Comment":"Hostel Supervisor Comment"}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}setImg(n){return n&&n.length>0?this.genk.imgurl+n:this.genk.defaultImg}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm)})}getResults(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getResultsAverageByClass(){this.sch.getResultsAverageHostelSupervisorComment(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(a=>a.id==this.currentSessionId)[0].sessionName})}editComment(n,a){if(this.commentlist.length>0)if(this.commentlist.filter(t=>t.studentId==Number(n)).length>0)this.commentlist[this.commentlist.findIndex(t=>t.studentId==Number(n))].comment=a;else{let t={studentId:n,comment:a};this.commentlist.push(t)}else{let t={studentId:n,comment:a};this.commentlist.push(t)}}formatPosition(n){let a;switch(n){case 1:a="1st";break;case 2:a="2nd";break;case 3:a="3rd";break;default:a=n+"th";break}return a}saveComments(){Me.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Me.default.showLoading(),this.sch.saveHostelSupervisorComment(this.commentlist,this.currentClass,this.currentSessionId.toString(),this.currentTerm).pipe(Y(this.destroy)).subscribe(n=>{Me.default.close()})}}).then(n=>{Me.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}getResultsByStudent(n,a,t,o){this.myStudentId=n,this.myStudentName=a,this.myStudentPhoto=t,this.principleComment=o,this.sch.getResultsByStudent(this.currentClass,this.currentSessionId.toString(),this.currentTerm,n.toString()).subscribe(m=>{this.studentresultlist=m})}};u.\u0275fac=function(a){return new(a||u)(k(F),k(le),k(W),k(B),k(L))},u.\u0275cmp=R({type:u,selectors:[["ng-component"]],inputs:{header:"header"},decls:110,vars:6,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],["id","kt_ecommerce_add_product_form","data-kt-redirect","#",1,"form","d-flex","flex-column","flex-lg-row"],[1,"d-flex","flex-column","flex-row-fluid","gap-7","gap-lg-10"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade","show","active"],[1,"d-flex","flex-column","gap-7","gap-lg-10"],[1,"card","card-flush","py-4"],[1,"card-body","pt-10"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["name","classy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fs-6","fw-bold","form-label"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["value","ANNUAL"],[1,"fv-row","mb-5",2,"margin-top","60px"],[1,"w-100","btn","btn-primary",2,"padding","10px",3,"click"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search Students",1,"form-control","form-control-solid","w-250px","ps-15"],[1,"text-end"],["type","submit",1,"me-3","btn","btn-info",3,"click"],[1,"indicator-label"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"btn","btn-info"],[1,"table-responsive","mb-10"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"w-10px","pe-2"],[1,"min-w-150px"],[1,"min-w-100px"],[1,"min-w-125px"],[1,"min-w-300px"],[1,"fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],[3,"value"],[1,"text-gray-800","text-bold"],["href","View_user.html",1,"text-gray-800","text-hover-info","mb-1"],["href","#",1,"text-gray-600","text-hover-info","mb-1"],["id","textField","type","text","name","class","aria-label","Enter comment","placeholder","Enter comment...",1,"form-control","form-control-solid","form-control-lg",3,"value","change"],["de",""]],template:function(a,t){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"label",14)(15,"span",15),r(16,"Class"),i()(),e(17,"div",16)(18,"select",17),E("ngModelChange",function(m){return w(t.currentClass,m)||(t.currentClass=m),m}),e(19,"option",18),r(20,"Select Class..."),i(),v(21,Ti,2,2,"option",19),i()()(),e(22,"div",13)(23,"label",20)(24,"span",15),r(25,"Session"),i()(),e(26,"div",16)(27,"select",21),E("ngModelChange",function(m){return w(t.currentSessionId,m)||(t.currentSessionId=m),m}),e(28,"option",18),r(29,"Select Session..."),i(),v(30,Mi,2,2,"option",19),i()()()(),e(31,"div",12)(32,"div",13)(33,"label",14)(34,"span",15),r(35,"Term"),i()(),e(36,"div",16)(37,"select",22),E("ngModelChange",function(m){return w(t.currentTerm,m)||(t.currentTerm=m),m}),e(38,"option",23),r(39,"Select term"),i(),e(40,"option",24),r(41,"First"),i(),e(42,"option",25),r(43,"Second"),i(),e(44,"option",26),r(45,"Third"),i(),e(46,"option",27),r(47,"Annual"),i()()()(),e(48,"div",28)(49,"div",16)(50,"button",29),S("click",function(){return t.getResultsAverageByClass()}),r(51,"Show Results"),i()()()(),e(52,"div",30)(53,"div",31)(54,"div",32)(55,"span",33),N(),e(56,"svg",34),b(57,"rect",35)(58,"path",36),i()(),A(),b(59,"input",37),i()(),e(60,"div")(61,"div",38)(62,"button",39),S("click",function(){return t.saveComments()}),e(63,"span",40),r(64,"Save Comment"),i()(),e(65,"button",41),r(66,"Batch Uploads "),i()()()()(),e(67,"div",42)(68,"table",43)(69,"thead")(70,"tr",44)(71,"th",45),r(72," S/N "),i(),e(73,"th",46),r(74,"Students Name"),i(),e(75,"th",47),r(76,"Gender"),i(),e(77,"th",48),r(78,"Average"),i(),e(79,"th",48),r(80,"Position"),i(),e(81,"th",49),r(82,"Class Teacher's Comment "),i()()(),e(83,"tbody",50),v(84,Ni,16,6,"tr",51),i()()(),e(85,"div",52)(86,"div",53)(87,"div",54)(88,"label")(89,"select",55)(90,"option",56),r(91,"10"),i(),e(92,"option",57),r(93,"25"),i(),e(94,"option",58),r(95,"50"),i(),e(96,"option",59),r(97,"100"),i()()()()(),e(98,"div",60)(99,"div",61)(100,"ul",62)(101,"li",63)(102,"a",64),b(103,"i",65),i()(),e(104,"li",66)(105,"a",67),r(106,"1"),i()(),e(107,"li",68)(108,"a",69),b(109,"i",70),i()()()()()()()()()()()()()()()()()),a&2&&(c(18),y("ngModel",t.currentClass),c(3),p("ngForOf",t.schoolClasses),c(6),y("ngModel",t.currentSessionId),c(3),p("ngForOf",t.sessionlist),c(7),y("ngModel",t.currentTerm),c(47),p("ngForOf",t.resultlist))},dependencies:[P,X,z,Z,q,G,U,ie,H],encapsulation:2});let d=u;return d})();var Ie=$(me());var ce=$(Oe());function Ai(d,u){if(d&1&&(e(0,"option",103),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.class)}}function ji(d,u){d&1&&(e(0,"div",104)(1,"div"),r(2,"No class is selected"),i()())}function Di(d,u){d&1&&(e(0,"div",104)(1,"div"),r(2,"No term is selected"),i()())}function Oi(d,u){if(d&1&&(e(0,"option",103),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.subjects)}}function Vi(d,u){d&1&&(e(0,"div",104)(1,"div"),r(2,"No subject is selected"),i()())}function Ri(d,u){if(d&1&&(e(0,"option",103),r(1),i()),d&2){let l=u.$implicit;p("value",l.id),c(),_(l.sessionName)}}function Pi(d,u){d&1&&(e(0,"div",104)(1,"div"),r(2,"No session is selected"),i()())}function Fi(d,u){if(d&1&&(e(0,"th",58),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA1?l.caSetupData.CA1:"CA1")}}function Wi(d,u){if(d&1&&(e(0,"th",58),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA2?l.caSetupData.CA2:"CA2")}}function Li(d,u){if(d&1&&(e(0,"th",58),r(1),i()),d&2){let l=h();c(),_(l.caSetupData.CA3?l.caSetupData.CA3:"CA3")}}function Bi(d,u){if(d&1){let l=T();e(0,"td")(1,"input",115,116),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca1"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca1)!==null&&n!==void 0?n:"")}}function Gi(d,u){if(d&1){let l=T();e(0,"td")(1,"input",115,117),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca2"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca2)!==null&&n!==void 0?n:"")}}function Ui(d,u){if(d&1){let l=T();e(0,"td")(1,"input",115,118),S("keyup",function(){x(l);let a=I(2),t=h().$implicit,o=h();return C(o.setCa(t.studentId,a,"ca3"))}),i()()}if(d&2){let l=h().$implicit,n;c(),p("value",(n=l.ca3)!==null&&n!==void 0?n:"")}}function Hi(d,u){if(d&1){let l=T();e(0,"tr",105)(1,"td"),r(2),i(),e(3,"td",106),b(4,"input",107),i(),e(5,"td",108),b(6,"input",109),i(),v(7,Bi,3,1,"td",110)(8,Gi,3,1,"td",110)(9,Ui,3,1,"td",110),e(10,"td")(11,"input",111,112),S("keydown",function(){x(l);let a=I(12),t=h();return C(t.initvalue=a.value)})("keyup",function(){let t=x(l).$implicit,o=I(12),m=h();return C(m.setCa(t.studentId,o,"exam"))}),i()(),e(13,"td")(14,"span",113),r(15),i()(),e(16,"td",114)(17,"span",113),r(18),i()(),e(19,"td")(20,"span",113),r(21),i()()()}if(d&2){let l=u.$implicit,n=u.index,a=h(),t,o,m,s,f,g;c(2),_(n+1),c(2),ne("value",(t=l.studentName)!==null&&t!==void 0?t:""),c(2),ne("value",(o=l.admissionNo)!==null&&o!==void 0?o:""),c(),p("ngIf",a.caSetupData.CA1),c(),p("ngIf",a.caSetupData.CA2),c(),p("ngIf",a.caSetupData.CA3),c(2),p("value",(m=l.exam)!==null&&m!==void 0?m:""),c(4),_((s=l.totalScore)!==null&&s!==void 0?s:""),c(3),_((f=l.grade)!==null&&f!==void 0?f:""),c(3),_((g=l.remark)!==null&&g!==void 0?g:"")}}var nt=(()=>{let u=class u{constructor(n,a,t,o,m){this.router=n,this.auth=a,this.sch=t,this.gen=o,this.cd=m,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.psycomotorlist=[],this.studentlist=[],this.bigboss=[],this.smallboss=[],this.psycoObjList=[],this.psylist=[],this.motorlist=[],this.classSubjects=[],this.classSubjectsBackup=[],this.resultlist=[],this.gradeScaleList=[],this.destroy=new J,this.submitted=!1,this.examType="REGULAR",this.initvalue=0,this.genk=o,this.userName=a.currentUserValue.name,this.userImgPath=a.currentUserValue.logo,this.adminStatus=a.currentUserValue.status}ngOnInit(){this.genk.topdata="Special Result Entry",this.resultForm=new be({term:new V(this.currentTerm,[O.required]),examtype:new V(this.examType,[O.required]),sessionId:new V(this.currentSessionId,[O.required]),subjectId:new V(this.currentSubjectId,[O.required]),classId:new V(this.currentClass,[O.required])},{}),this.getClassNames(),this.getSession(),this.getCurrentSession(),this.cd.markForCheck()}get f(){return this.resultForm.controls}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n,this.cd.markForCheck()})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n,this.cd.markForCheck()})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm),this.cd.markForCheck()})}getClassSubjects(){this.sch.getSubjectByClass(this.currentClass.toString()).subscribe(n=>{console.log(n),this.classSubjects=n,this.classSubjectsBackup=n,this.cd.markForCheck()})}getStudents(){if(this.resultForm.invalid){this.cd.markForCheck();return}this.sch.getStudents(this.currentClass.toString()).subscribe(n=>{this.studentlist=n,this.getResultsByClass(),this.getCaSetupByClass(),this.cd.markForCheck()})}getResultsByClass(){this.sch.getSpecialResultsByClass(this.currentClass.toString(),this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString(),this.examType).subscribe(n=>{this.resultlist=n,this.bigboss=[]})}getCaSetupByClass(){this.sch.getSpecialCaSetupByClass(this.currentSessionId.toString(),this.currentTerm,this.examType).subscribe(n=>{this.caSetupData=n.systemname,this.caScoreData=n.score})}getGradeScale(n){this.currentClass=Number(n),this.getClassSubjects();let t=this.schoolClasses.filter(o=>o.id==this.currentClass)[0].classLevelId;this.sch.getGradeScaleByCategory(t).subscribe(o=>{this.gradeScaleList=o,this.cd.markForCheck()})}setCa(n,a,t){let o,m;if(!/^\d+\.(0)?$/.test(a.value))if(this.bigboss.filter(s=>s.studentId==Number(n)).length>0){o=this.bigboss.filter(g=>g.studentId==Number(n))[0],m=this.resultlist.filter(g=>g.studentId==Number(n))[0];let s=this.clearInput(this.caScoreData[t.toUpperCase()],Number(a.value));a.value=s.toString(),o[t]=s,o.totalScore=Number(o.ca1??this.checkCA(m.ca1))+Number(o.ca2??this.checkCA(m.ca2))+Number(o.ca3??this.checkCA(m.ca3))+Number(o.exam??this.checkCA(m.exam));let f=this.calGrade(o.totalScore);o.grade=f.grade,o.remark=f.remark,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].totalScore=o.totalScore,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].grade=o.grade,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].remark=o.remark,this.bigboss[this.bigboss.findIndex(g=>g.studentId==Number(n))]=o}else{o=new ae,m=this.resultlist.filter(g=>g.studentId==Number(n))[0],o.studentId=n;let s=this.clearInput(this.caScoreData[t.toUpperCase()],Number(a.value));a.value=s.toString(),o[t]=s,o.totalScore=Number(o.ca1??this.checkCA(m.ca1))+Number(o.ca2??this.checkCA(m.ca2))+Number(o.ca3??this.checkCA(m.ca3))+Number(o.exam??this.checkCA(m.exam));let f=this.calGrade(o.totalScore);o.grade=f.grade,o.remark=f.remark,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].totalScore=o.totalScore,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].grade=o.grade,this.resultlist[this.resultlist.findIndex(g=>g.studentId==Number(n))].remark=o.remark,this.bigboss.push(o)}console.log(this.bigboss)}checkCA(n){return n||0}calGrade(n){let a;return this.gradeScaleList.forEach(t=>{n>=t.begLimit&&n<=t.endLimit&&(a={grade:t.grade,remark:t.remarks})}),a||{grade:"i",remark:"Not Aplicable"}}validateSaveEntry(){let n=this.classSubjects.filter(t=>t.id==this.currentSubjectId)[0]?.subjects,a=this.schoolClasses.filter(t=>t.id==this.currentClass)[0]?.class;Ie.default.fire({title:"Do you want permanently save student exam records for this class?",html:`<p style="font-size: 20px"><b>Subject: </b> ${n}</p> <p style="font-size: 20px"><b>Class: </b> ${a}</p>`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Save"}).then(t=>{t.isConfirmed&&this.submitted==!1&&(this.submitted=!0,this.saveResultEntry())})}saveResultEntry(){if(this.resultForm.invalid){this.cd.markForCheck();return}if(this.resultlist.length<1){this.cd.markForCheck();return}let n=this.schoolClasses.filter(a=>a.id==this.currentClass)[0].class;Ie.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{Ie.default.showLoading(),this.sch.saveSpecialResultEntry(this.bigboss,this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString(),this.currentClass.toString(),n,this.examType).pipe(Y(this.destroy)).subscribe(a=>{this.submitted=!1,Ie.default.close()})}}).then(a=>{Ie.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}clearInput(n,a){return n&&a>n?(alert("Value entered is greater than CA Maximum Score of "+n),this.initvalue?Number(this.initvalue):0):Number(a)}upInputToMax(n,a){return n&&a>n?n:Number(a)}downloadTemplate(){let n=[];for(let M=0;M<this.resultlist.length;M++){let j=new Object;j.sn=M+1,j.studentId=this.resultlist[M].studentId,j.admissionNo=this.resultlist[M].admissionNo,j.studentName=this.resultlist[M].studentName;for(let[ke,rt]of Object.entries(this.caSetupData))j[ke+" ["+rt+"]"]="";n.push(j)}console.log(n);let a=ce.utils.json_to_sheet(n),t=["A1","B1","C1","D1","E1","F1","G1","H1","I1","J1","K1","L1","M1","N1","O1","P1","Q1","R1","S1","T1"];for(let M of t)a[M]&&(a[M].s={font:{color:{rgb:"000000"},bold:!0}});var o=[{wch:4},{wch:10},{wch:20},{wch:35},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10}];a["!cols"]=o;let m=this.classSubjects.filter(M=>M.id==this.currentSubjectId)[0]?.subjects,s=this.schoolClasses.filter(M=>M.id==this.currentClass)[0]?.class,f=ce.utils.book_new(),g=m+"__"+s+"__Entry";if(g.length>30){let M=m?.length-(g.length-30);g=m?.substring(0,M)+"__"+s+"__Entry"}ce.utils.book_append_sheet(f,a,g),ce.writeFile(f,this.auth.currentUserValue.schoolName+"__"+s+"__"+m+"__Result Entry.xlsx",{compression:!0})}loadExcel(n){return Se(this,null,function*(){var a=n.target.files[0];if(a){console.log("hi");var t=new FileReader;t.onload=m=>{let s=t.result;var f=m.target.result,g=ce.read(s,{type:"binary"});g.SheetNames.forEach(M=>{let j=ve.sheet_to_row_object_array(g.Sheets[M]);this.excelObj=j,console.log(j)})},t.readAsBinaryString(a);let o=t}})}populateFromFile(){for(let n=0;n<this.excelObj.length;n++){let a=0,t=0,o=new ae;o.studentId=this.excelObj[n].studentId;for(let[m,s]of Object.entries(this.excelObj[n]))m.substring(0,3)=="CA1"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA1,Number(s)),o.ca1=this.upInputToMax(this.caScoreData.CA1,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca1=this.upInputToMax(this.caScoreData.CA1,Number(s))),m.substring(0,3)=="CA2"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA2,Number(s)),o.ca2=this.upInputToMax(this.caScoreData.CA2,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca2=this.upInputToMax(this.caScoreData.CA2,Number(s))),m.substring(0,3)=="CA3"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA3,Number(s)),o.ca3=this.upInputToMax(this.caScoreData.CA3,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca3=this.upInputToMax(this.caScoreData.CA3,Number(s))),m.substring(0,3)=="CA4"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA4,Number(s)),o.ca4=this.upInputToMax(this.caScoreData.CA4,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca4=this.upInputToMax(this.caScoreData.CA4,Number(s))),m.substring(0,3)=="CA5"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA5,Number(s)),o.ca5=this.upInputToMax(this.caScoreData.CA5,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca5=this.upInputToMax(this.caScoreData.CA5,Number(s))),m.substring(0,3)=="CA6"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA6,Number(s)),o.ca6=this.upInputToMax(this.caScoreData.CA6,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca6=this.upInputToMax(this.caScoreData.CA6,Number(s))),m.substring(0,3)=="CA7"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA7,Number(s)),o.ca7=this.upInputToMax(this.caScoreData.CA7,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca7=this.upInputToMax(this.caScoreData.CA7,Number(s))),m.substring(0,3)=="CA8"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA8,Number(s)),o.ca8=this.upInputToMax(this.caScoreData.CA8,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca8=this.upInputToMax(this.caScoreData.CA8,Number(s))),m.substring(0,3)=="CA9"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA9,Number(s)),o.ca9=this.upInputToMax(this.caScoreData.CA9,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca9=this.upInputToMax(this.caScoreData.CA9,Number(s))),m.substring(0,4)=="CA10"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA10,Number(s)),o.ca10=this.upInputToMax(this.caScoreData.CA10,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca10=this.upInputToMax(this.caScoreData.CA10,Number(s))),m.substring(0,4)=="CA11"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA11,Number(s)),o.ca11=this.upInputToMax(this.caScoreData.CA11,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca11=this.upInputToMax(this.caScoreData.CA11,Number(s))),m.substring(0,4)=="CA12"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA12,Number(s)),o.ca12=this.upInputToMax(this.caScoreData.CA12,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca12=this.upInputToMax(this.caScoreData.CA12,Number(s))),m.substring(0,4)=="CA13"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA13,Number(s)),o.ca13=this.upInputToMax(this.caScoreData.CA13,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca13=this.upInputToMax(this.caScoreData.CA13,Number(s))),m.substring(0,4)=="CA14"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA14,Number(s)),o.ca14=this.upInputToMax(this.caScoreData.CA14,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca14=this.upInputToMax(this.caScoreData.CA14,Number(s))),m.substring(0,4)=="CA15"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.CA15,Number(s)),o.ca15=this.upInputToMax(this.caScoreData.CA15,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].ca15=this.upInputToMax(this.caScoreData.CA15,Number(s))),m.substring(0,4)=="Exam"&&s!=""&&(t=1,a=a+this.upInputToMax(this.caScoreData.Exam,Number(s)),o.exam=this.upInputToMax(this.caScoreData.Exam,Number(s)),this.resultlist[this.resultlist.findIndex(f=>f.studentId==this.excelObj[n].studentId)].exam=this.upInputToMax(this.caScoreData.Exam,Number(s)));t==1&&(this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].totalScore=a,this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].grade=this.calGrade(a).grade,this.resultlist[this.resultlist.findIndex(m=>m.studentId==this.excelObj[n].studentId)].remark=this.calGrade(a).remark,o.totalScore=a,o.grade=this.calGrade(a).grade,o.remark=this.calGrade(a).remark,this.bigboss.push(o))}}};u.\u0275fac=function(a){return new(a||u)(k(F),k(W),k(B),k(L),k(_e))},u.\u0275cmp=R({type:u,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:173,vars:19,consts:[["id","kt_wrapper",1,"marlin"],["id","kt_content"],["id","kt_post"],["id","kt_content_container"],[1,"card","mb-10"],[1,"card-body"],["id","kt_invoice_form",3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","align-items-start","flex-xxl-row"],["data-bs-toggle","tooltip","data-bs-trigger","hover",1,"d-flex","flex-center","flex-equal","fw-row","text-nowrap","order-1","order-xxl-2","me-4"],[1,"fs-2x","fw-bolder","text-gray-800"],[1,"separator","separator-dashed","my-10"],[1,"mb-0"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["formControlName","classId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["cuclass",""],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","eroce",4,"ngIf"],[1,"fv-row","mb-5"],[1,"fs-6","fw-bold","form-label"],["name","class","formControlName","term","aria-label","Select Term","data-control","select2","data-placeholder","Select Term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ter",""],["value",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["formControlName","subjectId","aria-label","Select subject","data-control","select2","data-placeholder","Select subject..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["subj",""],["formControlName","sessionId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ses",""],[1,"row","w-100"],[1,"fv-row","mb-10","col-lg-6","col-sm-12"],["name","examtypeclass","formControlName","examtype","aria-label","Select Term","data-control","select2","data-placeholder","Select Term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["exty",""],["value","REGULAR"],["value","MOCK"],["value","PRESS1"],[1,"fv-row","mb-6","col-lg-6","col-sm-12",2,"display","flex","align-items","flex-end"],[1,"w-100","text-center"],[1,"btn","btn-primary","w-90",2,"padding","10px 10%"],[1,"d-flex",2,"width","100%","justify-content","end","margin-top","60px"],["type","button",1,"btn","btn-info","px-12",2,"margin-right","10px",3,"disabled","click"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","btn","btn-light-info",2,"height","48px","outline","none","border","solid 0.5px #7239ea","padding","6px 15px",3,"disabled"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu",2,"padding","10px"],[2,"margin-bottom","15px","margin-top","10px","font-size","16px"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"dropdown-item",3,"click"],[2,"margin-bottom","10px","font-size","16px"],[1,"dropdown-item",3,"click"],[1,"table-responsive","mb-10"],["data-kt-element","items",1,"table","g-5","gs-0","mb-0","fw-bolder","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"min-w-250px","w-250px",2,"background-color","white"],[1,"min-w-150px","w-150px"],["class","min-w-150px w-150px",4,"ngIf"],["class","border-bottom border-bottom-dashed","data-kt-element","Name",4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],["id","kt_modal_add_customer","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_customer_form","data-kt-redirect","../../demo1/dist/apps/customers/list.html",1,"form"],["id","kt_modal_add_customer_header",1,"modal-header"],[1,"fw-bolder"],["id","kt_modal_add_customer_close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],["id","kt_modal_add_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_customer_header","data-kt-scroll-wrappers","#kt_modal_add_customer_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"required","fs-6","fw-bold","mb-2"],["data-bs-toggle","tooltip","title","Click the button below first to download the template, then upload after the excel sheet has been filled with the necessary data",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["type","file","placeholder","","name","passport",1,"form-control","form-control-solid",3,"change"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_add_customer_cancel",1,"btn","btn-light","me-3"],["type","submit","id","kt_modal_add_customer_submit","data-bs-dismiss","modal",1,"btn","btn-info",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"eroce"],["data-kt-element","Name",1,"border-bottom","border-bottom-dashed"],[1,"pe-7","fixed-column-state"],["type","text","name","name[]","placeholder","Acholo Nora",1,"form-control","form-control-solid","mb-2",3,"value"],[1,"ps-0"],["type","text","name","name[]","disabled","",1,"form-control","form-control-solid","mb-2",3,"value"],[4,"ngIf"],["type","text",1,"form-control","form-control-solid","text-center",3,"value","keydown","keyup"],["exam",""],[1,"form-control","form-control-solid","text-center"],[1,"pt-5","text-end"],["type","text",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["ca1",""],["ca2",""],["ca3",""]],template:function(a,t){if(a&1){let o=T();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),S("ngSubmit",function(){return t.getStudents()}),e(7,"div",7)(8,"div",8)(9,"span",9),r(10,"Enter Students Result"),i()()(),b(11,"div",10),e(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"label",15)(17,"span",16),r(18,"Select Class"),i()(),e(19,"div",17)(20,"select",18,19),S("change",function(){x(o);let s=I(21);return C(t.getGradeScale(s.value))}),e(22,"option",20),r(23,"Select Class..."),i(),v(24,Ai,2,2,"option",21),i(),v(25,ji,3,0,"div",22),i()(),e(26,"div",23)(27,"label",24)(28,"span",16),r(29,"Term"),i()(),e(30,"div",17)(31,"select",25,26),E("ngModelChange",function(s){return w(t.currentTerm,s)||(t.currentTerm=s),s}),e(33,"option",27),r(34,"Select Term..."),i(),e(35,"option",28),r(36,"First "),i(),e(37,"option",29),r(38,"Second"),i(),e(39,"option",30),r(40,"Third"),i()(),v(41,Di,3,0,"div",22),i()()(),e(42,"div",13)(43,"div",14)(44,"label",15)(45,"span",16),r(46,"Subject"),i()(),e(47,"div",17)(48,"select",31,32),E("ngModelChange",function(s){return w(t.currentSubjectId,s)||(t.currentSubjectId=s),s}),e(50,"option",27),r(51,"Select Subject..."),i(),v(52,Oi,2,2,"option",21),i(),v(53,Vi,3,0,"div",22),i()(),e(54,"div",14)(55,"label",24)(56,"span",16),r(57,"Session"),i()(),e(58,"div",17)(59,"select",33,34),E("ngModelChange",function(s){return w(t.currentSessionId,s)||(t.currentSessionId=s),s}),e(61,"option",20),r(62,"Select Session..."),i(),v(63,Ri,2,2,"option",21),i(),v(64,Pi,3,0,"div",22),i()()(),e(65,"div",35)(66,"div",36)(67,"label",24)(68,"span"),r(69,"Exam Type"),i()(),e(70,"div",17)(71,"select",37,38),E("ngModelChange",function(s){return w(t.examType,s)||(t.examType=s),s}),e(73,"option",39),r(74,"Regular"),i(),e(75,"option",40),r(76,"Mock"),i(),e(77,"option",41),r(78,"Pre-SS1"),i()()()(),e(79,"div",42)(80,"div",43)(81,"button",44),r(82,"Show Students"),i()()()(),e(83,"div",45)(84,"button",46),S("click",function(){return t.validateSaveEntry()}),r(85,"Save"),i(),r(86," \xA0 "),e(87,"div",47)(88,"button",48),r(89," Actions "),i(),e(90,"ul",49)(91,"li",50)(92,"a",51),S("click",function(){return t.populateFromFile()}),r(93,"Populate from file"),i()(),e(94,"li",52)(95,"a",53),S("click",function(){return t.downloadTemplate()}),r(96,"Download Template"),i()()()()()(),e(97,"div",54)(98,"table",55)(99,"thead")(100,"tr",56)(101,"th"),r(102,"S/N"),i(),e(103,"th",57),r(104,"Student Name"),i(),e(105,"th",58),r(106,"Admission No"),i(),v(107,Fi,2,1,"th",59)(108,Wi,2,1,"th",59)(109,Li,2,1,"th",59),e(110,"th",58),r(111,"Exam"),i(),e(112,"th",58),r(113,"Total Score"),i(),e(114,"th",58),r(115,"Grade"),i(),e(116,"th",58),r(117,"Remark"),i()()(),e(118,"tbody"),v(119,Hi,22,10,"tr",60),i()()(),e(120,"div",61)(121,"div",62)(122,"div",63)(123,"label")(124,"select",64)(125,"option",65),r(126,"10"),i(),e(127,"option",66),r(128,"25"),i(),e(129,"option",67),r(130,"50"),i(),e(131,"option",68),r(132,"100"),i()()()()(),e(133,"div",69)(134,"div",70)(135,"ul",71)(136,"li",72)(137,"a",73),b(138,"i",74),i()(),e(139,"li",75)(140,"a",76),r(141,"1"),i()(),e(142,"li",77)(143,"a",78),b(144,"i",79),i()()()()()()()()()(),e(145,"div",80)(146,"div",81)(147,"div",82)(148,"form",83)(149,"div",84)(150,"h2",85),r(151,"Upload Result"),i(),e(152,"div",86)(153,"span",87),N(),e(154,"svg",88),b(155,"rect",89)(156,"rect",90),i()()()(),A(),e(157,"div",91)(158,"div",92)(159,"div",93)(160,"label",94),r(161,"Upload Template"),i(),b(162,"i",95),e(163,"input",96),S("change",function(s){return t.loadExcel(s)}),i()()()(),e(164,"div",97)(165,"button",98),r(166,"Discard"),i(),e(167,"button",99),S("click",function(){return t.populateFromFile()}),e(168,"span",100),r(169,"Populate"),i(),e(170,"span",101),r(171,"Please wait... "),b(172,"span",102),i()()()()()()()()()()()}if(a&2){let o=I(21),m=I(32),s=I(49),f=I(60);c(6),p("formGroup",t.resultForm),c(14),p("value",t.currentClass),c(4),p("ngForOf",t.schoolClasses),c(),p("ngIf",!o.value&&t.submitted),c(6),y("ngModel",t.currentTerm),c(10),p("ngIf",!m.value&&t.submitted),c(7),y("ngModel",t.currentSubjectId),c(4),p("ngForOf",t.classSubjects),c(),p("ngIf",!s.value&&t.submitted),c(6),y("ngModel",t.currentSessionId),c(4),p("ngForOf",t.sessionlist),c(),p("ngIf",!f.value&&t.submitted),c(7),y("ngModel",t.examType),c(13),p("disabled",t.resultlist.length<1||t.submitted),c(4),p("disabled",t.resultlist.length<1&&t.submitted),c(19),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA1),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA2),c(),p("ngIf",t.caSetupData==null?null:t.caSetupData.CA3),c(10),p("ngForOf",t.resultlist)}},dependencies:[P,Q,X,z,Z,q,G,U,H,xe,Ce],styles:["@media (max-width:800px){.fixewidth[_ngcontent-%COMP%]{min-width:150px;width:170px}.snfixewidth[_ngcontent-%COMP%]{min-width:10px;width:10px}}@media (min-width: 800px) and (max-width: 3000px){.fixed-column-state[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:100}.fixewidth[_ngcontent-%COMP%]{min-width:250px;width:250px}.snfixewidth[_ngcontent-%COMP%]{min-width:30px;width:30px}}",`.table[_ngcontent-%COMP%] {
                                                width: auto;
                                            }

                                            .table-responsive[_ngcontent-%COMP%] {
                                                overflow-x: auto;
                                                max-width: 100%;
                                            }

                                            .fixed-column[_ngcontent-%COMP%] {
                                                position: sticky;
                                                left: 0;
                                                background-color: #fff; 

                                                z-index: 1;
                                            }`]});let d=u;return d})();var Xi=[{path:"",loadChildren:()=>import("./chunk-E7PMHHZI.js").then(d=>d.StaffDashboardModule)},{path:"dashboard",loadChildren:()=>import("./chunk-E7PMHHZI.js").then(d=>d.StaffDashboardModule)},{path:"staff",loadChildren:()=>import("./chunk-GTPIQMCO.js").then(d=>d.StaffModule)},{path:"profile",component:Ke},{path:"result-entry",component:Je},{path:"staff-result-entry",component:nt},{path:"subject-result",component:Qe},{path:"teacher-comment",component:$e},{path:"calendar",component:et},{path:"staff-weeekly-entry",component:tt},{path:"hostel-comment",component:it}],at=(()=>{let u=class u{};u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=Ne({type:u}),u.\u0275inj=Ae({imports:[Te.forChild(Xi),Te]});let d=u;return d})();var sa=(()=>{let u=class u{};u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=Ne({type:u}),u.\u0275inj=Ae({imports:[Fe,Be,Ge,We,Te,at,He,Ze]});let d=u;return d})();export{sa as StaffModule};
