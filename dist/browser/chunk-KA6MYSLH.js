import{$a as U,Ab as Y,C as w,Cb as Q,Da as L,Db as $,Ea as j,Hb as ee,Ib as te,Jb as ie,K as B,Ka as A,L as d,M as E,Mb as ne,Nb as le,Oa as G,Qa as H,T as C,Ua as J,V as u,Y as e,Z as t,_ as m,a as P,ca as N,cb as k,da as D,ea as T,fb as R,gb as de,hb as K,ma as F,mb as Z,na as i,o as O,oa as p,ra as g,sa as x,t as V,ta as b,u as y,vb as q,w as M,x as I,xb as z,y as _,yb as X,z as v}from"./chunk-CJ262RDI.js";import"./chunk-DUVFM7XF.js";import{h as re}from"./chunk-2YZJNNV5.js";var f=re(de());function se(r,l){if(r&1){let c=N();e(0,"tr")(1,"td")(2,"div",121),m(3,"input",122),t()(),e(4,"td",123)(5,"div",124)(6,"div",125),m(7,"img",126),t()(),e(8,"div",127)(9,"a",128),i(10),t()()(),e(11,"td")(12,"div",129),i(13,"Female"),t()(),e(14,"td",130),i(15),t(),e(16,"td"),i(17),L(18,"date"),t(),e(19,"td"),i(20),t(),e(21,"td"),i(22),t(),e(23,"td"),i(24),t(),e(25,"td")(26,"div",131)(27,"a",132)(28,"button",133),i(29," ACTIONS "),t(),e(30,"ul",134)(31,"li",135)(32,"a",136),i(33,"Edit"),t()(),e(34,"li")(35,"a",137),D("click",function(){let a=M(c).$implicit,h=T();return I(h.deleteDiscipline(a.id))}),i(36,"Delete"),t()()()()()()()}if(r&2){let c=l.$implicit,n=T();d(7),u("src",n.setImg(c.passport),B),d(3),p(c.studentName),d(5),p(c.classes),d(2),p(j(18,7,c.dateOfInfraction)),d(3),p(c.infraction),d(2),p(c.action),d(2),p(c.duration)}}function me(r,l){if(r&1&&(e(0,"option",138),i(1),t()),r&2){let c=l.$implicit;u("value",c.id),d(),p(c.class)}}function ce(r,l){if(r&1&&(e(0,"option",138),i(1),t()),r&2){let c=l.$implicit,n;u("value",c.id),d(),p((((n=c.firstName)!==null&&n!==void 0?n:"")+" "+((n=c.middleName)!==null&&n!==void 0?n:"")+" "+((n=c.surname)!==null&&n!==void 0?n:"")).trim())}}var W=(()=>{let l=class l{constructor(n,s,a,h){this.router=n,this.auth=s,this.sch=a,this.gen=h,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.students=[],this.disciplines=[],this.destroy=new P,this.genk=h,this.userName=s.currentUserValue.name,this.userImgPath=s.currentUserValue.logo,this.adminStatus=s.currentUserValue.status}ngOnInit(){this.genk.topdata="Discipline",this.getDiscipline(),this.getClassNames(),this.getStudentsByClass()}setImg(n){return n&&n.length>0?this.genk.imgurl+n:this.genk.defaultImg}getPopulationData(){this.sch.getPopulationData().subscribe(n=>{this.countdata=n[0]})}logout(){this.auth.logout(),this.router.navigate(["/",this.genk.account])}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n,this.getStudentsByClass()})}getStudentsByClass(){this.sch.getStudentByClass(this.currentClassId.toString()).subscribe(n=>{this.students=n})}getDiscipline(){this.sch.getDiscipline().subscribe(n=>{this.disciplines=n})}setClass(n){this.currentClassId=n,this.getStudentsByClass()}createDiscipline(){let n={studentId:this.currentStudentId,infraction:this.infraction,dateOfInfraction:this.infractionDate,action:this.punishment,duration:this.punishmentDuration};f.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{f.default.showLoading(),this.sch.createDiscipline(n).pipe(O(this.destroy)).subscribe(s=>{this.getDiscipline(),f.default.close()})}}).then(s=>{f.default.fire({icon:"success",title:"Disciplined Student added successfully!.",showConfirmButton:!1,timer:2e3})})}deleteDiscipline(n){f.default.fire({title:"Do you want to delete this discipline data?",showCancelButton:!0,confirmButtonText:"Yes, Delete"}).then(s=>{s.isConfirmed&&this.sch.deleteDiscipline(n.toString()).subscribe(a=>{this.getDiscipline(),f.default.fire("Data deleted","","success")})})}};l.\u0275fac=function(s){return new(s||l)(E(U),E(R),E(Z),E(K))},l.\u0275cmp=V({type:l,selectors:[["ng-component"]],inputs:{header:"header"},decls:258,vars:9,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card",2,"overflow-x","auto"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search Students",1,"form-control","form-control-solid","w-250px","ps-15"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","base",1,"d-flex","justify-content-end"],["type","button","data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end",1,"btn","btn-light-info","me-3"],[1,"svg-icon","svg-icon-2"],["d","M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z","fill","currentColor"],["data-kt-menu","true","id","kt-toolbar-filter",1,"menu","menu-sub","menu-sub-dropdown","w-300px","w-md-325px"],[1,"px-7","py-5"],[1,"fs-4","text-dark","fw-bolder"],[1,"separator","border-gray-200"],[1,"mb-10"],[1,"form-label","fs-5","fw-bold","mb-3"],["data-kt-select2","true","data-placeholder","Select option","data-allow-clear","true","data-kt-customer-table-filter","month","data-dropdown-parent","#kt-toolbar-filter",1,"form-select","form-select-solid","fw-bolder"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"d-flex","justify-content-end"],["type","reset","data-kt-menu-dismiss","true","data-kt-customer-table-filter","reset",1,"btn","btn-light","btn-active-light-primary","me-2"],["type","submit","data-kt-menu-dismiss","true","data-kt-customer-table-filter","filter",1,"btn","btn-info"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_graduate",1,"btn","btn-info","me-3"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bolder","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"w-10px","pe-2"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid","me-3"],["type","checkbox","data-kt-check","true","data-kt-check-target","#kt_customers_table .form-check-input","value","1",1,"form-check-input"],[1,"min-w-125px"],[1,"min-w-50px"],[1,"min-x-50px"],[1,"min-x-125px"],[1,"min-x-75px"],[1,"text-end","min-w-70px"],[1,"fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],["id","kt_modal_add_graduate","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_graduate_form","data-kt-redirect","../../demo1/dist/apps/customers/list.html",1,"form"],["id","kt_modal_add_graduate_header",1,"modal-header"],[1,"fw-bolder"],["id","kt_modal_add_graduate_close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary"],[1,"svg-icon","svg-icon-1"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],["id","kt_modal_add_graduate_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_graduate_header","data-kt-scroll-wrappers","#kt_modal_add_graduate_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],[1,"row","mb-7"],[1,"col-12"],[1,"fs-6","fw-bold","mb-2"],[1,"required"],["name","classy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["sess",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fv-row","mb-7"],[1,"fs-5","fw-bold","form-label","mb-2"],["data-control","select2","data-placeholder","Select student","data-hide-search","true","name","format",1,"form-select","form-select-solid",3,"ngModel","ngModelChange"],[1,"row","g-9","mb-7"],[1,"col-md-12","fv-row"],[1,"required","fs-6","fw-bold","mb-2"],["placeholder","","name","infra",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["id","kt_modal_add_graduate_billing_info",1,"collapse","show"],["type","date","placeholder","","name","infradate",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["data-control","select2","data-placeholder","Select Punishment","data-hide-search","true","name","punishment",1,"form-select","form-select-solid",3,"ngModel","ngModelChange"],["value","SUSPENSION"],["value","EXPULSION"],["data-control","select2","data-placeholder","Select a format","data-hide-search","true","name","duration",1,"form-select","form-select-solid",3,"ngModel","ngModelChange"],["value","1 WEEK"],["value","2 WEEKS"],["value","3 WEEKS"],["value","1 MONTH"],["value","1 TERM"],["value","2 TERM"],["value","1 SESSION"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_add_graduate_cancel",1,"btn","btn-light","me-3"],["type","submit","id","kt_modal_add_graduate_submit",1,"btn","btn-info",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["id","kt_modal_edit_graduate","tabindex","-1","aria-hidden","true",1,"modal","fade"],["action","#","id","kt_modal_edit_graduate_form","data-kt-redirect","#",1,"form"],["id","kt_modal_edit_graduate_header",1,"modal-header"],["id","kt_modal_edit_graduate_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_graduate_header","data-kt-scroll-wrappers","#kt_modal_add_graduate_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],["data-control","select2","data-placeholder","Select class","data-hide-search","true","name","format",1,"form-select","form-select-solid"],["value","JSS1"],["value","JSS3"],["value","SSS1"],["value","SSS2"],["value","SSS3"],["data-control","select2","data-placeholder","Select student","data-hide-search","true","name","format",1,"form-select","form-select-solid"],["value","Silas Oparandu"],["value","Acholo Aaron"],["value","Jayden Smith"],["placeholder","","name","",1,"form-control","form-control-solid"],["id","kt_modal_edit_graduate_billing_info",1,"collapse","show"],["type","date","placeholder","","name","phone",1,"form-control","form-control-solid"],["data-control","select2","data-placeholder","Select Punishment","data-hide-search","true","name","format",1,"form-select","form-select-solid"],["value","Suspension"],["value","Expulsion"],["data-control","select2","data-placeholder","Select a format","data-hide-search","true","name","format",1,"form-select","form-select-solid"],["type","reset","id","kt_modal_edit_graduate_cancel",1,"btn","btn-light","me-3"],["type","submit","id","kt_modal_edit_graduate_submit",1,"btn","btn-info"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox","value","1",1,"form-check-input"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-circle","symbol-40px","overflow-hidden","me-3"],[1,"symbol-label"],["alt","Acholo Nora",1,"w-100",2,"object-fit","cover",3,"src"],[1,"d-flex","flex-column"],["href","#",1,"text-gray-800","text-hover-primary","mb-1"],[1,"badge","badge-light-danger","fw-bolder"],["data-filter","mastercard"],[1,"text-end"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle",2,"font-size","12","outline","none","border","none","background-color","rgb(232, 237, 243)","color","grey","padding","6px 15px"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu",2,"padding","10px"],[2,"margin-bottom","10px"],["data-bs-toggle","modal","data-bs-target","#kt_modal_edit_graduate",1,"dropdown-item"],[1,"dropdown-item",3,"click"],[3,"value"]],template:function(s,a){if(s&1){let h=N();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),_(),e(9,"svg",9),m(10,"rect",10)(11,"path",11),t()(),v(),m(12,"input",12),t()(),e(13,"div",13)(14,"div",14)(15,"button",15)(16,"span",16),_(),e(17,"svg",9),m(18,"path",17),t()(),i(19,"Filter"),t(),v(),e(20,"div",18)(21,"div",19)(22,"div",20),i(23,"Filter Options"),t()(),m(24,"div",21),e(25,"div",19)(26,"div",22)(27,"label",23),i(28,"Duration"),t(),e(29,"select",24),m(30,"option"),e(31,"option",25),i(32,"1 Week"),t(),e(33,"option",26),i(34,"2 Weeks"),t(),e(35,"option",27),i(36,"3 Weeks"),t(),e(37,"option",28),i(38,"1 Month"),t(),e(39,"option",29),i(40,"1 Term"),t(),e(41,"option",29),i(42,"2 Term"),t(),e(43,"option",29),i(44,"1 Session"),t()()(),e(45,"div",30)(46,"button",31),i(47,"Reset"),t(),e(48,"button",32),i(49,"Apply"),t()()()()(),e(50,"button",33),i(51,"Discipline Student"),t(),e(52,"div",34)(53,"div",35),m(54,"span",36),i(55,"Selected "),t(),e(56,"button",37),i(57,"Delete Selected"),t()()()(),e(58,"div",38)(59,"table",39)(60,"thead")(61,"tr",40)(62,"th",41)(63,"div",42),m(64,"input",43),t()(),e(65,"th",44),i(66,"Students Name"),t(),e(67,"th",45),i(68,"Gender"),t(),e(69,"th",45),i(70,"Class"),t(),e(71,"th",46),i(72,"Date"),t(),e(73,"th",44),i(74,"Infraction"),t(),e(75,"th",47),i(76,"Punishment"),t(),e(77,"th",48),i(78,"Duration"),t(),e(79,"th",49),i(80,"Actions"),t()()(),e(81,"tbody",50),C(82,se,37,9,"tr",51),t()()()(),e(83,"div",52)(84,"div",53)(85,"div",54)(86,"form",55)(87,"div",56)(88,"h2",57),i(89,"Discipline Student"),t(),e(90,"div",58)(91,"span",59),_(),e(92,"svg",9),m(93,"rect",60)(94,"rect",61),t()()()(),v(),e(95,"div",62)(96,"div",63)(97,"div",64)(98,"div",65)(99,"label",66)(100,"span",67),i(101,"Class"),t()(),e(102,"select",68,69),D("change",function(){M(h);let o=F(103);return I(a.setClass(o.value))}),e(104,"option",70),i(105,"Select Class..."),t(),C(106,me,2,2,"option",71),t()()(),e(107,"div",72)(108,"label",73),i(109,"Student"),t(),e(110,"select",74),b("ngModelChange",function(o){return x(a.currentStudentId,o)||(a.currentStudentId=o),o}),e(111,"option",70),i(112,"Select Student"),t(),C(113,ce,2,2,"option",71),t()(),e(114,"div",75)(115,"div",76)(116,"label",77),i(117,"Infraction"),t(),e(118,"input",78),b("ngModelChange",function(o){return x(a.infraction,o)||(a.infraction=o),o}),t()()(),e(119,"div",79)(120,"div",75)(121,"div",76)(122,"label",77),i(123,"Date"),t(),e(124,"input",80),b("ngModelChange",function(o){return x(a.infractionDate,o)||(a.infractionDate=o),o}),t()()()(),e(125,"div",72)(126,"label",73),i(127,"Punishment"),t(),e(128,"select",81),b("ngModelChange",function(o){return x(a.punishment,o)||(a.punishment=o),o}),e(129,"option",70),i(130,"Select Punishment"),t(),e(131,"option",82),i(132,"Suspension"),t(),e(133,"option",83),i(134,"Expulsion"),t()()(),e(135,"div",72)(136,"label",73),i(137,"Duration"),t(),e(138,"select",84),b("ngModelChange",function(o){return x(a.punishmentDuration,o)||(a.punishmentDuration=o),o}),m(139,"option"),e(140,"option",85),i(141,"1 Week"),t(),e(142,"option",86),i(143,"2 Weeks"),t(),e(144,"option",87),i(145,"3 Weeks"),t(),e(146,"option",88),i(147,"1 Month"),t(),e(148,"option",89),i(149,"1 Term"),t(),e(150,"option",90),i(151,"2 Term"),t(),e(152,"option",91),i(153,"1 Session"),t()()()()(),e(154,"div",92)(155,"button",93),i(156,"Discard"),t(),e(157,"button",94),D("click",function(){return a.createDiscipline()}),e(158,"span",95),i(159,"Submit"),t(),e(160,"span",96),i(161,"Please wait... "),m(162,"span",97),t()()()()()()(),e(163,"div",98)(164,"div",53)(165,"div",54)(166,"form",99)(167,"div",100)(168,"h2",57),i(169,"Edit Discipline"),t(),e(170,"div",58)(171,"span",59),_(),e(172,"svg",9),m(173,"rect",60)(174,"rect",61),t()()()(),v(),e(175,"div",62)(176,"div",101)(177,"div",64)(178,"div",65)(179,"label",66)(180,"span",67),i(181,"Class"),t()(),e(182,"select",102)(183,"option",70),i(184,"Select Class"),t(),e(185,"option",103),i(186,"JSS1"),t(),e(187,"option",104),i(188,"JSS2"),t(),e(189,"option",104),i(190,"JSS3"),t(),e(191,"option",105),i(192,"SSS1"),t(),e(193,"option",106),i(194,"SSS2"),t(),e(195,"option",107),i(196,"SSS3"),t()()()(),e(197,"div",72)(198,"label",73),i(199,"Student"),t(),e(200,"select",108)(201,"option",70),i(202,"Select Student"),t(),e(203,"option",109),i(204,"Silas Oparandu"),t(),e(205,"option",110),i(206,"Acholo Aaron"),t(),e(207,"option",111),i(208,"Jayden Smith"),t()()(),e(209,"div",75)(210,"div",76)(211,"label",77),i(212,"Infraction"),t(),m(213,"input",112),t()(),e(214,"div",113)(215,"div",75)(216,"div",76)(217,"label",77),i(218,"Date"),t(),m(219,"input",114),t()()(),e(220,"div",72)(221,"label",73),i(222,"Punishment"),t(),e(223,"select",115)(224,"option",70),i(225,"Select Punishment"),t(),e(226,"option",116),i(227,"Suspension"),t(),e(228,"option",117),i(229,"Expulsion"),t()()(),e(230,"div",72)(231,"label",73),i(232,"Duration"),t(),e(233,"select",118),m(234,"option"),e(235,"option",25),i(236,"1 Week"),t(),e(237,"option",26),i(238,"2 Weeks"),t(),e(239,"option",27),i(240,"3 Weeks"),t(),e(241,"option",28),i(242,"1 Month"),t(),e(243,"option",29),i(244,"1 Term"),t(),e(245,"option",29),i(246,"2 Term"),t(),e(247,"option",29),i(248,"1 Session"),t()()()()(),e(249,"div",92)(250,"button",119),i(251,"Discard"),t(),e(252,"button",120)(253,"span",95),i(254,"Submit"),t(),e(255,"span",96),i(256,"Please wait... "),m(257,"span",97),t()()()()()()()()()()()}s&2&&(d(82),u("ngForOf",a.disciplines),d(20),u("value",a.currentClassId),d(4),u("ngForOf",a.schoolClasses),d(4),g("ngModel",a.currentStudentId),d(3),u("ngForOf",a.students),d(5),g("ngModel",a.infraction),d(6),g("ngModel",a.infractionDate),d(4),g("ngModel",a.punishment),d(10),g("ngModel",a.punishmentDuration))},dependencies:[A,$,te,ie,q,ee,z,X,Q,Y,G],encapsulation:2});let r=l;return r})();var pe=[{path:"",component:W},{path:"discipline",component:W}],oe=(()=>{let l=class l{};l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=y({type:l}),l.\u0275inj=w({imports:[k.forChild(pe),k]});let r=l;return r})();var Te=(()=>{let l=class l{};l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=y({type:l}),l.\u0275inj=w({imports:[H,ne,le,J,k,oe]});let r=l;return r})();export{Te as DisciplineModule};
