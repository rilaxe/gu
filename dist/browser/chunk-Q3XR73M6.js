import{a as se}from"./chunk-3HIFRPBE.js";import{$a as R,Ab as X,Bb as I,C as M,Cb as Y,Db as $,Fb as ee,Gb as te,Hb as ie,Ia as G,Ib as ne,Ja as H,Jb as oe,Ka as q,L as d,La as B,Lb as re,M as _,Mb as le,Nb as ae,Qa as Z,T as w,Ua as U,V as c,Y as e,Z as t,Za as W,_ as p,ca as y,cb as k,da as u,ea as m,fb as F,gb as ge,hb as D,ma as S,mb as z,na as o,oa as x,ra as N,sa as T,t as A,ta as P,u as V,vb as K,w as f,wb as E,x as g,xb as J,y as v,yb as Q,z as C,zb as j}from"./chunk-CJ262RDI.js";import"./chunk-DUVFM7XF.js";import{h as fe}from"./chunk-2YZJNNV5.js";var L=fe(ge());function he(a,l){if(a&1&&(e(0,"option",77),o(1),t()),a&2){let n=l.$implicit,r=m(2);c("value",n.id)("selected",n.id===r.genk.selectedSchoolId),d(),x(n.name)}}function _e(a,l){if(a&1){let n=y();e(0,"form",40)(1,"div",41)(2,"div",42)(3,"div",43),p(4,"img",44),t(),e(5,"div",45)(6,"h1",46),o(7,"Education is Key "),t(),e(8,"div",47),o(9,"Select your school and account to sign in. "),t()(),e(10,"div",48)(11,"div",49)(12,"select",50,51),u("change",function(){f(n);let i=S(13),s=m();return g(s.changeSchool(i))}),e(14,"option",52),o(15,"Select your school"),t(),w(16,he,2,3,"option",53),t()(),p(17,"div",54),e(18,"div",55)(19,"div",56),p(20,"input",57),e(21,"label",58),u("click",function(){f(n);let i=m();return i.studentCheck=!0,g(i.staffCheck=!1)}),e(22,"span",59),v(),e(23,"svg",23),p(24,"path",60)(25,"path",61),t()(),C(),e(26,"span",62)(27,"span",63),o(28,"Student Sign-In"),t()()()(),e(29,"div",64),p(30,"input",65),e(31,"label",66),u("click",function(){f(n);let i=m();return i.staffCheck=!0,g(i.studentCheck=!1)}),e(32,"span",59),v(),e(33,"svg",23),p(34,"path",60)(35,"path",61),t()(),C(),e(36,"span",62)(37,"span",63),o(38,"Staff Sign-In"),t()()()(),p(39,"div"),t()()()(),e(40,"div",67)(41,"div",68)(42,"button",69)(43,"span",70),v(),e(44,"svg",23),p(45,"rect",71)(46,"path",72),t()(),o(47,"Previous"),t()(),C(),e(48,"div")(49,"button",73),u("click",function(){f(n);let i=m();return g(i.switchPage())}),o(50,"Continue "),e(51,"span",74),v(),e(52,"svg",23),p(53,"rect",75)(54,"path",76),t()()()()()()}if(a&2){let n=m();d(16),c("ngForOf",n.schools),d(5),c("ngClass",n.studentCheck?"bg-light-primary border-primary":""),d(10),c("ngClass",n.staffCheck?"bg-light-primary border-primary":""),d(18),c("disabled",!n.genk.selectedSchoolId)}}function xe(a,l){if(a&1){let n=y();e(0,"div",78)(1,"form",79),u("ngSubmit",function(){f(n);let i=m();return g(i.submitAdmin())}),e(2,"div",80)(3,"h1",81),o(4,"Staff Sign In "),t()(),e(5,"div",82)(6,"div",83)(7,"label",84),o(8,"Username"),t()(),e(9,"input",85,86),u("change",function(){f(n);let i=S(10),s=m();return g(s.email=s.genk.hook(i.value.toString()))}),t(),e(11,"div",87)(12,"div"),o(13),t()()(),e(14,"div",82)(15,"div",83)(16,"label",84),o(17,"Password"),t()(),e(18,"input",88,89),u("change",function(){f(n);let i=S(19),s=m();return g(s.password=s.genk.hook(i.value.toString()))}),t(),e(20,"div",87)(21,"div"),o(22),t()()(),e(23,"div",90)(24,"button",91)(25,"span",92),u("click",function(){f(n);let i=m();return g(i.submitAdmin())}),o(26,"Login"),t(),e(27,"span",93),o(28,"Please wait... "),p(29,"span",94),t()(),e(30,"button",95),u("click",function(){f(n);let i=m();return g(i.returnPage())}),e(31,"span",70),v(),e(32,"svg",23),p(33,"rect",71)(34,"path",72),t()(),o(35,"Previous"),t()()()()}if(a&2){let n=m();d(),c("formGroup",n.loginForm),d(8),c("value",n.email),d(4),x(n.emailError),d(5),c("value",n.password),d(4),x(n.passwordError),d(3),c("disabled",n.loading)}}function ve(a,l){if(a&1){let n=y();e(0,"div",96)(1,"form",79),u("ngSubmit",function(){f(n);let i=m();return g(i.submit())}),e(2,"div",80)(3,"h1",81),o(4,"Student Sign In "),t()(),e(5,"div",82)(6,"div",83)(7,"label",84),o(8,"Admission Number"),t()(),e(9,"input",97,98),u("change",function(){f(n);let i=S(10),s=m();return g(s.email=s.genk.hook(i.value.toString()))}),t(),e(11,"div",87)(12,"div"),o(13),t()()(),e(14,"div",82)(15,"div",83)(16,"label",84),o(17,"Password"),t()(),e(18,"input",99,100),u("change",function(){f(n);let i=S(19),s=m();return g(s.password=s.genk.hook(i.value.toString()))}),t(),e(20,"div",87)(21,"div"),o(22),t()(),e(23,"div",101)(24,"div",83)(25,"button",102),o(26,"Forgot Admission Number"),t()()()(),e(27,"div",90)(28,"button",91)(29,"span",92),u("click",function(){f(n);let i=m();return g(i.submit())}),o(30,"Login"),t(),e(31,"span",93),o(32,"Please wait... "),p(33,"span",94),t()(),e(34,"button",95),u("click",function(){f(n);let i=m();return g(i.returnPage())}),e(35,"span",70),v(),e(36,"svg",23),p(37,"rect",71)(38,"path",72),t()(),o(39,"Previous"),t()()()()}if(a&2){let n=m();d(),c("formGroup",n.loginStudentForm),d(8),c("value",n.email),d(4),x(n.emailError),d(5),c("value",n.password),d(4),x(n.passwordError),d(7),c("disabled",n.loading)}}function be(a,l){if(a&1&&(e(0,"option",103),o(1),t()),a&2){let n=l.$implicit;c("value",n.id),d(),x(n.class)}}function Se(a,l){if(a&1){let n=y();e(0,"div",104)(1,"div",105),p(2,"div",106),e(3,"div",107)(4,"h4"),o(5),t(),e(6,"h4",108),o(7),t()()(),e(8,"button",109),u("click",function(){let s=f(n).$implicit,b=m();return g(b.copyTextToClipboard(s.admissionNo))}),o(9,"copy"),t()()}if(a&2){let n=l.$implicit;d(5),x(n.name),d(2),x(n.admissionNo)}}function Ce(a,l){a&1&&(e(0,"div",110)(1,"h5",111),o(2,"Oops! Nothing found. kindly check the details and try again"),t()())}var ce=(()=>{let l=class l{constructor(r,i,s,b,h,pe,ue,O){if(this.router=r,this.route=i,this.image_service=s,this.locate=b,this.authenticationService=h,this.school=pe,this.auth=ue,this.gen=O,this.userName="",this.userImgPath="",this.mobileModal=!1,this.email="",this.password="",this.loading=!1,this.submitted=!1,this.loginModal=!1,this.schoolClasses=[],this.students=[],this.studentCheck=!0,this.staffCheck=!1,this.logpage="none",this.isNoStudents=!1,this.textToCopy="This is the text to copy.",this.genk=O,this.genk.selectedSchoolId){let ye=this.genk.selectedSchoolId}}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"",this.loginForm=new j({email:new I(this.email,[E.required]),password:new I(this.password,[E.required])},{}),this.loginStudentForm=new j({studentEmail:new I(this.email,[E.required]),studentPassword:new I(this.password,[E.required])},{}),this.getSchools()}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}changeSchool(r){debugger;this.genk.selectedSchoolId=Number(r.value),this.getClassNames()}getSchools(){this.school.listSchools().subscribe(r=>{this.schools=r})}getClassNames(){this.school.getClassNamesBySchool(this.genk.selectedSchoolId.toString()).subscribe(r=>{this.schoolClasses=r})}searchSurname(){this.school.getSurnamesByClass(this.genk.selectedSchoolId.toString(),this.currentClassId.toString(),this.surname).subscribe(r=>{this.students=r,this.isNoStudents=!(this.students.length>0)})}switchPage(){this.staffCheck&&(this.logpage="staff"),this.studentCheck&&(this.logpage="student")}returnPage(){this.logpage="none"}submitAdmin(){this.submitted=!0,this.loading=!0,this.authenticationService.login(this.email,this.password,Number(this.genk.selectedSchoolId.toString())).subscribe(r=>{switch(r.code){case 0:this.loading=!1;break;case 2:this.passwordError="Password is incorrect",this.emailError="",this.loading=!1;break;case 3:this.emailError="This email is not on our record",this.passwordError="",this.loading=!1;break;default:this.loading=!1;let i=this.returnUrl;debugger;r.status=="1"?i?this.locate.replaceState(i):this.locate.replaceState("/admin/dashboard"):i?this.locate.replaceState(i):this.locate.replaceState("/staff/dashboard"),window.location.reload()}})}submit(){this.submitted=!0,!this.loginStudentForm.invalid&&(this.loading=!0,this.authenticationService.loginStudent(this.email,this.password,Number(this.genk.selectedSchoolId.toString())).subscribe(r=>{debugger;switch(r.code){case 0:this.loading=!1;break;case 2:this.passwordError="Password is incorrect",this.emailError="",this.loading=!1;break;case 3:this.emailError="This Admission No. is not on our record",this.passwordError="",this.loading=!1;break;default:this.loading=!1;let i=this.returnUrl;this.returnUrl="",this.locate.replaceState("/student/dashboard"),window.location.reload()}}))}copyTextToClipboard(r){navigator.clipboard.writeText(r.trim()).then(()=>{L.default.fire({icon:"success",title:"Admission Number copied!",showConfirmButton:!1,timer:2e3})},i=>{L.default.fire({icon:"error",title:"Failed to copy Admission Number!",showConfirmButton:!1,timer:2e3})})}};l.\u0275fac=function(i){return new(i||l)(_(R),_(W),_(se),_(G),_(F),_(z),_(F),_(D))},l.\u0275cmp=A({type:l,selectors:[["app-start"]],inputs:{header:"header"},decls:52,vars:8,consts:[["id","kt_body",1,"bg-body"],[1,"d-flex","flex-column","flex-root"],["id","kt_create_account_stepper",1,"d-flex","flex-column","flex-lg-row","flex-column-fluid","stepper","stepper-pills","stepper-column"],[1,"d-flex","flex-column","w-lg-100px","w-xl-400px","bgi-size-cover","bgi-position-center","flex-lg-row-auto","w-xl-600px","positon-xl-relative","topimgheight",2,"background-image","url(../assets/images/tuo2.jpg)"],[1,"d-flex","flex-column","mt-15","flex-column","text-center","d-none","d-lg-block","top-0","bottom-0","w-xl-500px","scroll-y"],[1,"d-flex","flex-column","mb-20","position-xl-fixed","top-0","bottom-0","w-xl-600px","scroll-y"],[1,"d-flex","flex-row-fluid","mb-20","justify-content-end","flex-column","text-center","pt-5","pt-lg-5"],[1,"fw-bolder","fs-2qx","pb-5","pb-md-5",2,"color","#ffff"],[1,"fw-6","fs-4",2,"color","#ffff"],[1,"d-flex","flex-column","flex-lg-row-fluid","py-1"],[1,"d-flex","flex-center","flex-column","flex-column-fluid"],[1,"w-lg-800px","p-10","p-lg-15","mx-auto"],["class","my-auto pb-5",4,"ngIf"],["class","corporate-form",4,"ngIf"],["class","personal-form",4,"ngIf"],["id","kt_modal_add_customer","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_customer_form","data-kt-redirect","../../demo1/dist/apps/customers/list.html",1,"form"],["id","kt_modal_add_customer_header",1,"modal-header"],[1,"fw-bolder"],["id","kt_modal_add_customer_close","data-bs-dismiss","modal",1,"btn","btn-icon","btn-sm","btn-active-icon-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],["id","kt_modal_add_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_customer_header","data-kt-scroll-wrappers","#kt_modal_add_customer_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],[1,"d-flex","flex-column","mb-7","fv-row"],[1,"fs-6","fw-bold","mb-2"],[1,"required"],["data-bs-toggle","tooltip","title","Students Class",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["name","forgeId","data-control","select2","data-placeholder","Select Class...","data-dropdown-parent","#kt_modal_add_customer",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","surname","placeholder","Enter Surname",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"fv-row","mt-5","mb-10"],["id","lookupButton",1,"btn","btn-info","w-100",3,"click"],["class","d-flex align-items-center bg-light rounded text-center justify-content-between mb-7 fv-row gap-2 p-5","style","display: none;",4,"ngFor","ngForOf"],["class","d-flex text-center align-content-center justify-content-center justify-items-center align-items-center mb-7 fv-row gap-2","style","display: none;",4,"ngIf"],[1,"my-auto","pb-5"],["data-kt-stepper-element","content",1,"current"],[1,"w-100"],[1,"mb-5","aligntopimg"],["alt","Logo","src","assets/media/logos/logo1-new.svg",1,"logimg"],[1,"pb-10","pt-15","pb-lg-15"],[1,"fw-bolder","d-flex","align-items-center","text-dark"],[1,"text-muted","fw-bold","fs-4"],[1,"fv-row"],[1,"fv-row","mb-3"],["name","mylo","data-placeholder","Select your school",1,"form-select","form-select","form-select-lg","fw-bold","fs-4",3,"change"],["fir",""],["selected","","value",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"d-flex","flex-stack","flex-wrap","gap-3","fs-base","fw-bold","mb-4"],[1,"row"],[1,"col-lg-6"],["type","radio","name","account_type","value","personal",1,"btn-check"],[1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","p-8","d-flex","align-items-center","mb-10",3,"ngClass","click"],[1,"svg-icon","svg-icon-3x","me-5"],["d","M20 14H18V10H20C20.6 10 21 10.4 21 11V13C21 13.6 20.6 14 20 14ZM21 19V17C21 16.4 20.6 16 20 16H18V20H20C20.6 20 21 19.6 21 19ZM21 7V5C21 4.4 20.6 4 20 4H18V8H20C20.6 8 21 7.6 21 7Z","fill","currentColor"],["opacity","0.3","d","M17 22H3C2.4 22 2 21.6 2 21V3C2 2.4 2.4 2 3 2H17C17.6 2 18 2.4 18 3V21C18 21.6 17.6 22 17 22ZM10 7C8.9 7 8 7.9 8 9C8 10.1 8.9 11 10 11C11.1 11 12 10.1 12 9C12 7.9 11.1 7 10 7ZM13.3 16C14 16 14.5 15.3 14.3 14.7C13.7 13.2 12 12 10.1 12C8.10001 12 6.49999 13.1 5.89999 14.7C5.59999 15.3 6.19999 16 7.39999 16H13.3Z","fill","currentColor"],[1,"d-block","fw-bold","text-start"],[1,"text-dark","fw-bolder","d-block","fs-4","mb-2"],[1,"col-lg-6","mb-5"],["type","radio","name","account_type","value","corporate",1,"btn-check"],[1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","p-8","d-flex","align-items-center",3,"ngClass","click"],[1,"d-flex","flex-stack","pt-5"],[1,"mr-2"],["type","button","data-kt-stepper-action","previous",1,"btn","btn-lg","btn-light-info","me-3"],[1,"svg-icon","svg-icon-4","me-1"],["opacity","0.5","x","6","y","11","width","13","height","2","rx","1","fill","currentColor"],["d","M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z","fill","currentColor"],["type","button",1,"btn","btn-lg","btn-info",3,"disabled","click"],[1,"svg-icon","svg-icon-4","ms-1"],["opacity","0.5","x","18","y","13","width","13","height","2","rx","1","transform","rotate(-180 18 13)","fill","currentColor"],["d","M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z","fill","currentColor"],[3,"value","selected"],[1,"corporate-form"],[1,"form","w-100",3,"formGroup","ngSubmit"],[1,"text-start","mb-10"],[1,"text-dark","mb-3"],[1,"fv-row","mb-10"],[1,"d-flex","flex-stack","mb-2"],[1,"form-label","fw-bolder","text-dark","fs-6","mb-0"],["autocomplete","off","type","email","required","","placeholder","Username","formControlName","email",1,"form-control","form-control-lg","form-control-light",3,"value","change"],["logi",""],[1,"eroce"],["type","password","required","","autocomplete","off","autocorrect","off","placeholder","Password","formControlName","password",1,"form-control","form-control-lg","form-control-light",3,"value","change"],["pas",""],[1,"row","text-center"],["type","submit",1,"btn","btn-lg","btn-info","w-100","mb-5"],[1,"indicator-label",3,"disabled","click"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["type","button",1,"btn","btn-lg","btn-light-info","me-3",3,"click"],[1,"personal-form"],["autocomplete","off","type","email","required","","placeholder","Admission Number","formControlName","studentEmail",1,"form-control","form-control-lg","form-control-light",3,"value","change"],["studlogi",""],["required","","type","password","autocomplete","off","autocorrect","off","placeholder","Password","formControlName","studentPassword",1,"form-control",3,"value","change"],["studpas",""],[1,"fv-row","mb-10","mt-4"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"btn","btn-sm","btn-light-danger","fw-bolder","fs-6","mb-0",2,"margin-left","auto"],[3,"value"],[1,"d-flex","align-items-center","bg-light","rounded","text-center","justify-content-between","mb-7","fv-row","gap-2","p-5",2,"display","none"],[1,"d-flex","gap-4"],[1,"circle"],[1,"d-flex","flex-column","text-start"],[1,"text-dark"],[1,"btn","btn-sm","btn-dark",3,"click"],[1,"d-flex","text-center","align-content-center","justify-content-center","justify-items-center","align-items-center","mb-7","fv-row","gap-2",2,"display","none"],[1,"text-danger"]],template:function(i,s){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),o(8,"Fast, Efficient School Software"),t(),e(9,"p",8),o(10," Streamline administrative tasks, grading, and academic "),p(11,"br"),o(12," reporting in one intuitive platform."),t()()()()(),e(13,"div",9)(14,"div",10)(15,"div",11),w(16,_e,55,4,"form",12)(17,xe,36,6,"div",13)(18,ve,40,6,"div",14),t()()()()()(),e(19,"div",15)(20,"div",16)(21,"div",17)(22,"form",18)(23,"div",19)(24,"h2",20),o(25,"Admission Number Lookup"),t(),e(26,"div",21)(27,"span",22),v(),e(28,"svg",23),p(29,"rect",24)(30,"rect",25),t()()()(),C(),e(31,"div",26)(32,"div",27)(33,"div",28)(34,"label",29)(35,"span",30),o(36,"Select Class"),t(),p(37,"i",31),t(),e(38,"select",32),P("ngModelChange",function(h){return T(s.currentClassId,h)||(s.currentClassId=h),h}),e(39,"option",33),o(40,"Select Class..."),t(),w(41,be,2,2,"option",34),t()(),e(42,"div",28)(43,"label",29)(44,"span",30),o(45,"Enter Surname"),t()(),e(46,"input",35),P("ngModelChange",function(h){return T(s.surname,h)||(s.surname=h),h}),t()(),e(47,"div",36)(48,"button",37),u("click",function(){return s.searchSurname()}),o(49,"Admission Number Lookup"),t()(),w(50,Se,10,2,"div",38)(51,Ce,3,0,"div",39),t()()()()()()),i&2&&(d(16),c("ngIf",s.logpage=="none"),d(),c("ngIf",s.logpage=="staff"),d(),c("ngIf",s.logpage=="student"),d(20),N("ngModel",s.currentClassId),d(3),c("ngForOf",s.schoolClasses),d(5),N("ngModel",s.surname),d(4),c("ngForOf",s.students),d(),c("ngIf",s.isNoStudents))},dependencies:[H,q,B,$,ne,oe,K,ie,J,Q,re,Y,X,ee,te],styles:["@media (max-width:800px){.topimgheight[_ngcontent-%COMP%]{height:15vh}.logimg[_ngcontent-%COMP%]{height:50px}.aligntopimg[_ngcontent-%COMP%]{text-align:center}}@media (min-width: 800px) and (max-width: 3000px){.topimgheight[_ngcontent-%COMP%]{height:100vh}.logimg[_ngcontent-%COMP%]{height:70px}.aligntopimg[_ngcontent-%COMP%]{text-align:start}}",`.circle[_ngcontent-%COMP%]{
                                      background-color: #ed09b0;
                                      height: 15px;
                                      width: 15px;
                                      border-radius: 50%;
                                  }`]});let a=l;return a})();var we=[{path:"",component:ce}],me=(()=>{let l=class l{};l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=V({type:l}),l.\u0275inj=M({imports:[k.forChild(we),k]});let a=l;return a})();var Ue=(()=>{let l=class l{};l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=V({type:l}),l.\u0275inj=M({imports:[Z,le,ae,U,k,me]});let a=l;return a})();export{Ue as StartModule};
