import{a as Be}from"./chunk-ZY33OERW.js";import{a as Re,b as Le}from"./chunk-FFFBICEK.js";import{c as Ge}from"./chunk-GFTAKBCK.js";import{Oa as Fe,Pa as We}from"./chunk-XSMVWDDC.js";import{b as Oe}from"./chunk-VGUA5J4Q.js";import{c as Pe,e as ye}from"./chunk-S5EBJMGB.js";import{a as Me}from"./chunk-CXNATHVA.js";import{a as q}from"./chunk-B2YP673Q.js";import{$a as L,A as me,Ba as V,Ga as O,Ha as J,I as ve,J as d,K as T,Ka as Ie,Ma as ke,P as Ee,Pa as Te,R as I,T as p,Ta as ie,Va as R,W as e,X as t,Y as b,Ya as le,a as te,aa as k,ab as pe,ba as g,bb as F,ca as f,db as fe,eb as oe,fa as xe,fb as W,gb as B,hb as Ae,ib as G,jb as se,ka as E,kb as Q,la as a,lb as H,ma as h,n as K,na as j,nb as Ne,oa as ue,ob as je,pa as v,pb as U,qa as x,qb as X,r as P,ra as y,rb as Z,s as ce,u as S,ub as De,v as C,vb as Ve,w as M,x as A,za as D}from"./chunk-WDIAUSLE.js";import{h as ee,j as we}from"./chunk-3EYC4JTX.js";var N=ee(pe());function Ke(s,m){if(s&1&&(e(0,"option",217),a(1),t()),s&2){let l=m.$implicit,n=f();p("selected",l==n.staff.state)("value",l),d(),h(l)}}function Je(s,m){if(s&1&&(e(0,"option",217),a(1),t()),s&2){let l=m.$implicit,n=f();p("selected",l==n.staff.lga)("value",l),d(),h(l)}}function Qe(s,m){s&1&&(e(0,"div",218)(1,"h4",219),a(2,"You Are Activating this Staff Profile"),t(),e(3,"div",220),a(4,"Before you proceed with activating this staff profile, please note that once the activation process is initiated, this staff can be assigned subjects. "),b(5,"br"),t()())}function $e(s,m){s&1&&(e(0,"div",218)(1,"h4",219),a(2,"You Are Deactivating this Staff Profile"),t(),e(3,"div",220),a(4,"Before you proceed with deactivating this staff profile, please note that once the deactivation process is initiated, this staff cannot be assigned subjects. "),b(5,"br"),t()())}function et(s,m){if(s&1){let l=k();e(0,"div",147)(1,"button",221),g("click",function(){S(l);let r=f();return C(r.activateAccount(r.staff.id))}),a(2,"Activate Account"),t()()}}function tt(s,m){if(s&1){let l=k();e(0,"div",222),g("click",function(){S(l);let r=f();return C(r.deactivateAccount(r.staff.id))}),e(1,"button",223),a(2,"Deactivate Account"),t()()}}function it(s,m){if(s&1&&(e(0,"tr")(1,"td",224),a(2),t(),e(3,"td")(4,"a",225),a(5),t()(),e(6,"td")(7,"a",225),a(8),t()()()),s&2){let l=m.$implicit,n=m.index;d(2),j(" ",n+1," "),d(3),h(l.class),d(3),h(l.subjects)}}function nt(s,m){if(s&1&&(e(0,"option",226),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.class)}}function at(s,m){if(s&1&&(e(0,"option",226),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.subjects)}}var He=(()=>{let m=class m{constructor(n,r,i,c,u,o){this.router=n,this.sch=r,this.auth=i,this.activeRoute=c,this.obj=u,this.gen=o,this.userName="",this.userImgPath="",this.mobileModal=!1,this.staff=new Pe,this.destroy=new te,this.lgs=[],this.states=[],this.subjectList=[],this.staffSubjectList=[],this.schoolClasses=[],this.genk=o,this.objService=u,this.userName=i.currentUserValue.name,this.userImgPath=i.currentUserValue.logo,this.adminStatus=i.currentUserValue.status}ngOnInit(){this.genk.topdata="Staff",this.studentId=this.auth.currentUserValue.id.toString(),this.states=Object.keys(this.objService.lga),this.getStaff(),this.getSubjects(),this.getClassNames(),this.getStaffSubjects()}setImg(n){return n&&n.length>0?this.genk.imgurl+n:this.genk.defaultImg}setLGA(n){this.lgs=this.objService.lga[n],this.staff.state=n}selectLG(n){this.staff.lga=n}getStaff(){this.sch.getStaffById(this.studentId.toString()).subscribe(n=>{this.studentobj=n,this.staff=n,this.staff.otherNames&&(this.staff.firstName=this.staff.otherNames.split(" ")[0]),this.staff.middleName=this.staff.otherNames.split(" ")[1]})}updateStaff(){this.staff.schoolId=this.auth.currentUserValue.schoolId,this.staff.passport=this.genk.studentImgFile;let n=new FormData;for(let i in this.staff)if(this.staff[i])switch(i.toString()){case"passport":n.append("media",this.genk.studentImgFile,this.passportName);break;default:n.append(i.toString(),this.staff[i]);break}let r;N.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{N.default.showLoading(),this.sch.updateStaff(n).pipe(K(this.destroy)).subscribe(i=>{this.getStaff(),N.default.close()})}}).then(i=>{N.default.fire({icon:"success",title:"Staff Information updated!.",showConfirmButton:!1,timer:2e3})})}getSubjects(){this.sch.getSubjects().subscribe(n=>{this.subjectList=n})}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}createStaffSubject(n,r){let i=this.subjectList.filter(o=>o.id==n)[0].subjects,c=this.schoolClasses.filter(o=>o.id==r)[0].class,u={classId:r,Class:c,subjectId:n,subjects:i,staffId:Number(this.studentId)};N.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{N.default.showLoading(),this.sch.createStaffSubject(u).pipe(K(this.destroy)).subscribe(o=>{this.getStaffSubjects(),N.default.close()})}}).then(o=>{N.default.fire({icon:"success",title:"Staff Information updated!.",showConfirmButton:!1,timer:2e3})})}getStaffSubjects(){this.sch.getStaffSubjects(this.studentId).subscribe(n=>{this.staffSubjectList=n})}deleteStaffSubjects(n){N.default.fire({title:"Do you want to delete this data?",showCancelButton:!0,confirmButtonText:"Yes, Delete"}).then(r=>{r.isConfirmed&&this.sch.deleteStaffSubjects(n.toString()).subscribe(i=>{this.staffSubjectList=i,this.getStaffSubjects(),N.default.fire("Data deleted","","success")})})}deactivateAccount(n){N.default.fire({title:"Do you really want to deactivated this staff?",text:"You won't be able to assign subjects to this staff",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Deactivate"}).then(r=>{r.isConfirmed&&this.sch.deactivateStaff(n.toString()).subscribe(i=>{N.default.fire({icon:"success",title:"Staff deactivated successfully!.",showConfirmButton:!1,timer:2e3})})})}activateAccount(n){N.default.fire({title:"Do you really want to activated this staff?",text:"Subjects can assigned to this staff",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Activate"}).then(r=>{r.isConfirmed&&this.sch.activateStaff(n.toString()).subscribe(i=>{N.default.fire({icon:"success",title:"Staff deactivated successfully!.",showConfirmButton:!1,timer:2e3})})})}};m.\u0275fac=function(r){return new(r||m)(T(R),T(q),T(L),T(ie),T(Me),T(F))},m.\u0275cmp=P({type:m,selectors:[["ng-component"]],inputs:{header:"header"},decls:463,vars:41,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_header"],[1,"container-fluid","d-flex","align-items-stretch","justify-content-between"],[1,"d-flex","align-items-stretch","justify-content-between","flex-lg-grow-1"],[1,"d-flex","align-items-stretch","flex-shrink-0"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card","mb-5","mb-xl-10"],[1,"card-body","pt-9","pb-0"],[1,"d-flex","flex-wrap","flex-sm-nowrap","mb-3"],[1,"me-7","mb-4"],[1,"symbol","symbol-100px","cover","symbol-lg-160px","symbol-fixed","position-relative"],[2,"object-fit","cover",3,"src"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between","align-items-start","flex-wrap","mb-2"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center","mb-2"],["href","#",1,"text-gray-900","text-hover-primary","fs-2","fw-bolder","me-1"],["href","#"],[1,"svg-icon","svg-icon-1","svg-icon-primary"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","viewBox","0 0 24 24"],["d","M10.0813 3.7242C10.8849 2.16438 13.1151 2.16438 13.9187 3.7242V3.7242C14.4016 4.66147 15.4909 5.1127 16.4951 4.79139V4.79139C18.1663 4.25668 19.7433 5.83365 19.2086 7.50485V7.50485C18.8873 8.50905 19.3385 9.59842 20.2758 10.0813V10.0813C21.8356 10.8849 21.8356 13.1151 20.2758 13.9187V13.9187C19.3385 14.4016 18.8873 15.491 19.2086 16.4951V16.4951C19.7433 18.1663 18.1663 19.7433 16.4951 19.2086V19.2086C15.491 18.8873 14.4016 19.3385 13.9187 20.2758V20.2758C13.1151 21.8356 10.8849 21.8356 10.0813 20.2758V20.2758C9.59842 19.3385 8.50905 18.8873 7.50485 19.2086V19.2086C5.83365 19.7433 4.25668 18.1663 4.79139 16.4951V16.4951C5.1127 15.491 4.66147 14.4016 3.7242 13.9187V13.9187C2.16438 13.1151 2.16438 10.8849 3.7242 10.0813V10.0813C4.66147 9.59842 5.1127 8.50905 4.79139 7.50485V7.50485C4.25668 5.83365 5.83365 4.25668 7.50485 4.79139V4.79139C8.50905 5.1127 9.59842 4.66147 10.0813 3.7242V3.7242Z","fill","#00A3FF"],["d","M14.8563 9.1903C15.0606 8.94984 15.3771 8.9385 15.6175 9.14289C15.858 9.34728 15.8229 9.66433 15.6185 9.9048L11.863 14.6558C11.6554 14.9001 11.2876 14.9258 11.048 14.7128L8.47656 12.4271C8.24068 12.2174 8.21944 11.8563 8.42911 11.6204C8.63877 11.3845 8.99996 11.3633 9.23583 11.5729L11.3706 13.4705L14.8563 9.1903Z","fill","white",1,"permanent"],[1,"d-flex","flex-wrap","fw-bold","fs-6","mb-4","pe-2"],[1,"badge","badge-light-primary","fw-bolder","ms-2","fs-8","py-1","px-3"],[1,"d-flex","align-items-center","text-gray-400","text-hover-primary","me-5","mb-2"],[1,"svg-icon","svg-icon-4","me-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.3","d","M21 18.3V4H20H5C4.4 4 4 4.4 4 5V20C10.9 20 16.7 15.6 19 9.5V18.3C18.4 18.6 18 19.3 18 20C18 21.1 18.9 22 20 22C21.1 22 22 21.1 22 20C22 19.3 21.6 18.6 21 18.3Z","fill","currentColor"],["d","M22 4C22 2.9 21.1 2 20 2C18.9 2 18 2.9 18 4C18 4.7 18.4 5.29995 18.9 5.69995C18.1 12.6 12.6 18.2 5.70001 18.9C5.30001 18.4 4.7 18 4 18C2.9 18 2 18.9 2 20C2 21.1 2.9 22 4 22C4.8 22 5.39999 21.6 5.79999 20.9C13.8 20.1 20.1 13.7 20.9 5.80005C21.6 5.40005 22 4.8 22 4Z","fill","currentColor"],[1,"d-flex","my-4"],["href","#","data-bs-toggle","modal","data-bs-target","#kt_modal_offer_a_deal",1,"btn","btn-sm","btn-primary","me-2"],[1,"fonticon-printer"],[1,"d-flex","flex-wrap","flex-stack"],[1,"d-flex","flex-column","flex-grow-1","pe-8"],[1,"d-flex","flex-wrap"],[1,"border","border-gray-300","border-dashed","rounded","min-w-125px","py-3","px-4","me-6","mb-3"],[1,"fw-bold","fs-7","text-gray-400"],[1,"d-flex","align-items-center"],[1,"badge-light-danger","fs-5","fw-bolder"],["data-kt-countup","true","data-kt-countup-value","5",1,"fs-5","fw-bolder"],[1,"nav","nav-stretch","nav-line-tabs","nav-line-tabs-2x","border-transparent","fs-5","fw-bolder"],[1,"nav-item","mt-2"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_general",1,"nav-link","text-active-primary","ms-0","me-10","py-5","active"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_advanced",1,"nav-link","text-active-primary","ms-0","me-10","py-5"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_new",1,"nav-link","text-active-primary","ms-0","me-10","py-5"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_new1",1,"nav-link","text-active-primary","ms-0","me-10","py-5"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade","show","active"],[1,"d-flex","flex-column","gap-7","gap-lg-10"],[1,"card","mb-2","mb-xl-5"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_settings_profile_details",1,"collapse","show"],["id","kt_account_profile_details_form",1,"form",3,"ngSubmit"],[1,"card-body","border-top","p-9"],[1,"fv-row","mb-7"],[1,"d-block","fw-bold","fs-6","mb-5"],[2,"display","flex"],["magdiv",""],[2,"width","120px",3,"src"],["mag",""],[2,"margin-top","10px"],["type","file","accept",".jpg, .jpeg, .png, .gif, .tif",1,"intbox",3,"change"],["dile",""],[1,"form-text"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-4","fv-row"],["type","text","placeholder","Surname","name","surname",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","placeholder","First Name","name","firstname",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","placeholder","Middle Name","name","middlename",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-lg-8","fv-row"],["type","text","name","company","placeholder","","name","staffId",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"required"],["data-bs-toggle","tooltip","title","Phone number must be active",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["type","tel","placeholder","Phone number","name","phone",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","date","placeholder","Date of birth","name","dob",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["aria-label","Select a category ","data-control","select2","data-placeholder","Select Category..","name","category",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],["value","Academic Staff"],["value","Non Academic Staff"],["aria-label","Select a department","data-control","select2","data-placeholder","Select Department..","name","department",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","Humanities I"],["value","Humanities II"],["value","Business"],["value"," Mathematics & Computer Science"],["value","Vocational & Technology Studies"],["value","Science"],["value","Clerical"],["value","Utility"],["value","Ground Staff"],["value","Vocation and technical Department"],["aria-label","Select a position","data-control","select2","data-placeholder","Select position..","name","position",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","Vice Principal Administration"],["value","Vice Principal Academics"],["value","Human Resource Officer I"],["value","Human Resource Officer II"],["value","Exam Officer (Internal)"],["value","Exam Officer (External)"],["value","Matron"],["value","Cook"],["value","Sewing"],["value","Cr\xE8che"],["value","Driver"],["value","Nurses"],["value","Gardeners"],["value","Canteen"],["value","Bakery"],["value","Teacher"],["value","Receptionist"],["value","Electrician"],["value","Plumber"],["value","Class Teacher"],["value","ICT Staff"],["value","Facility Manager"],["value","Head of Department"],["value","Academic Support and Foreign Admission Officer"],["value","Accountant"],["value","Store Keeper"],["value","Procurement"],["value","Principal"],["value","Laboratory scientist"],["value","Chief Security 1"],["value","Chief Security 2"],["value","Counselor 1"],["value","Counselor 2"],["value","Chief Nurse"],["value","Cleaner"],["value","Chief Librarian"],["value","Executive Assistant"],["value","Librarian"],["value","Administration Assistant"],["type","date","name","dateemployed",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-12","fv-row"],["type","email","placeholder","","name","homeAddress",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","states","aria-label","Select a state","data-control","select2","data-placeholder","Select state...",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["st",""],[3,"selected","value",4,"ngFor","ngForOf"],["aria-label","Select ","data-control","select2","data-placeholder","Select LGA...",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["lges",""],["rows","3","placeholder","","name","address",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit","id","kt_account_profile_details_submit",1,"btn","btn-primary"],[1,"card"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_deactivate","aria-expanded","true","aria-controls","kt_account_deactivate",1,"card-header","border-0","cursor-pointer"],["id","kt_account_settings_deactivate",1,"collapse","show"],["id","kt_account_deactivate_form",1,"form"],[1,"notice","d-flex","bg-light-warning","rounded","border-warning","border","border-dashed","mb-9","p-6"],[1,"svg-icon","svg-icon-2tx","svg-icon-warning","me-4"],["opacity","0.3","x","2","y","2","width","20","height","20","rx","10","fill","currentColor"],["x","11","y","14","width","7","height","2","rx","1","transform","rotate(-90 11 14)","fill","currentColor"],["x","11","y","17","width","2","height","2","rx","1","transform","rotate(-90 11 17)","fill","currentColor"],[1,"d-flex","flex-stack","flex-grow-1"],["class","fw-bold",4,"ngIf"],["class","card-footer d-flex justify-content-end py-6 px-9",4,"ngIf"],["class","card-footer d-flex justify-content-end py-6 px-9",3,"click",4,"ngIf"],["id","kt_ecommerce_add_product_advanced","role","tab-panel",1,"tab-pane","fade"],[1,"card","mb-5","mb-xl-5"],["type","text","name","fullname","placeholder","First name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","tel","name","nokphone","placeholder","Phone number",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","occupation","placeholder","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","relationship","placeholder","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","nokaddress","rows","3","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["id","kt_ecommerce_add_product_new","role","tab-panel",1,"tab-pane","fade"],["type","text","name","institution","placeholder","Enter Institution Name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","courseofstudy","placeholder","Course of study",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","date","name","yearadmitted","placeholder","Year Admitted",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","date","name","yeargraduated","placeholder","Year Graduated",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","certificate","placeholder","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["id","kt_ecommerce_add_product_new1","role","tab-panel",1,"tab-pane","fade"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search",1,"form-control","form-control-solid","w-250px","ps-15",3,"keyup"],["myInput",""],[1,"card-toolbar"],[1,"card-body","pt-0"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"w-200px","pe-5"],[1,"min-w-125px"],[1,"fw-bold","text-gray-600"],["myTbody",""],[4,"ngFor","ngForOf"],["id","kt_modal_create_app","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-700px"],[1,"modal-content"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-icon","btn-active-color-info"],[1,"svg-icon","svg-icon-1"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-lg-10","px-lg-10","h-350px","scroll-y"],["id","kt_modal_create_app_stepper",1,"stepper","stepper-pills","stepper-column","d-flex","flex-column","flex-xl-row","flex-row-fluid"],[1,"flex-row-fluid","py-lg-5","px-lg-15"],["novalidate","novalidate","id","kt_modal_create_app_form",1,"form",3,"ngSubmit"],["data-kt-stepper-element","content",1,"current"],[1,"w-100"],[1,"row","mb-10"],[1,"col-12"],[1,"fs-6","fw-bold","mb-2"],[1,""],["name","classid","data-control","select","data-placeholder","Select Class",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","subjectId","data-control","select2","data-placeholder","Select Subject",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","flex-row-fluid"],["type","reset","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],["type","submit",1,"btn","btn-info"],[3,"selected","value"],[1,"fw-bold"],[1,"text-gray-900","fw-bolder"],[1,"fs-6","text-gray-700"],["id","kt_account_deactivate_account_submit",1,"btn","btn-success","fw-bold",3,"click"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9",3,"click"],["id","kt_account_deactivate_account_submit","type","submit",1,"btn","btn-danger","fw-bold"],[1,"text-gray-800","pe-5","text-hover-info"],["href","#",1,"text-gray-800","text-hover-info","mb-1"],[3,"value"]],template:function(r,i){if(r&1){let c=k();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"div",4),t()()(),e(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),b(13,"img",13),t()(),e(14,"div",14)(15,"div",15)(16,"div",16)(17,"div",17)(18,"a",18),a(19),t(),e(20,"a",19)(21,"span",20),M(),e(22,"svg",21),b(23,"path",22)(24,"path",23),t()()()(),A(),e(25,"div",24)(26,"a",25),a(27),t(),a(28," \xA0\xA0\xA0 "),e(29,"a",26)(30,"span",27),M(),e(31,"svg",28),b(32,"path",29)(33,"path",30),t()(),a(34,"Teacher"),t()()(),A(),e(35,"div",31)(36,"a",32),b(37,"i",33),a(38," Print Profile"),t()()(),e(39,"div",34)(40,"div",35)(41,"div",36)(42,"div",37)(43,"div",38),a(44,"ID No."),t(),e(45,"div",39)(46,"div",40),a(47),t()()(),e(48,"div",37)(49,"div",38),a(50,"Phone"),t(),e(51,"div",39)(52,"div",41),a(53),t()()()()()()()(),e(54,"ul",42)(55,"li",43)(56,"a",44),a(57,"Staff Personal Information"),t()(),e(58,"li",43)(59,"a",45),a(60,"Next of Kin Details"),t()(),e(61,"li",43)(62,"a",46),a(63,"Educational Details"),t()(),e(64,"li",43)(65,"a",47),a(66,"Subject Listing"),t()()()()(),e(67,"div",48)(68,"div",49)(69,"div",50)(70,"div",51)(71,"div",52)(72,"div",53)(73,"h3",54),a(74,"Profile Details"),t()()(),e(75,"div",55)(76,"form",56),g("ngSubmit",function(){return i.updateStaff()}),e(77,"div",57)(78,"div",58)(79,"label",59),a(80,"Staff Picture"),t(),e(81,"div")(82,"div",60,61),b(84,"img",62,63),t(),e(86,"label",64)(87,"input",65,66),g("change",function(o){S(c);let _=E(85);return C(i.genk.showPreview(o,_))}),t()()(),e(89,"div",67),a(90,"Allowed file types: png, jpg, jpeg."),t()(),e(91,"div",68)(92,"label",69),a(93,"Full Name"),t(),e(94,"div",70)(95,"div",71)(96,"div",72)(97,"input",73),y("ngModelChange",function(o){return x(i.staff.surname,o)||(i.staff.surname=o),o}),t()(),e(98,"div",72)(99,"input",74),y("ngModelChange",function(o){return x(i.staff.firstName,o)||(i.staff.firstName=o),o}),t()(),e(100,"div",72)(101,"input",75),y("ngModelChange",function(o){return x(i.staff.middleName,o)||(i.staff.middleName=o),o}),t()()()()(),e(102,"div",68)(103,"label",69),a(104,"Staff ID"),t(),e(105,"div",76)(106,"input",77),y("ngModelChange",function(o){return x(i.staff.idCardNo,o)||(i.staff.idCardNo=o),o}),t()()(),e(107,"div",68)(108,"label",78)(109,"span",79),a(110,"Contact Phone"),t(),b(111,"i",80),t(),e(112,"div",76)(113,"input",81),y("ngModelChange",function(o){return x(i.staff.phone,o)||(i.staff.phone=o),o}),t()()(),e(114,"div",68)(115,"label",78),a(116,"Date of Birth"),t(),e(117,"div",76)(118,"input",82),y("ngModelChange",function(o){return x(i.staff.birthDate,o)||(i.staff.birthDate=o),o}),t()()(),e(119,"div",68)(120,"label",69),a(121,"Category"),t(),e(122,"div",76)(123,"select",83),y("ngModelChange",function(o){return x(i.staff.category,o)||(i.staff.category=o),o}),e(124,"option",84),a(125,"Select Category.."),t(),e(126,"option",85),a(127,"Academic"),t(),e(128,"option",86),a(129,"Non-Academic"),t()()()(),e(130,"div",68)(131,"label",69),a(132,"Department"),t(),e(133,"div",76)(134,"select",87),y("ngModelChange",function(o){return x(i.staff.department,o)||(i.staff.department=o),o}),e(135,"option",84),a(136,"Select Department..."),t(),e(137,"option",88),a(138,"Humanities I"),t(),e(139,"option",89),a(140,"Humanities II "),t(),e(141,"option",90),a(142," Business "),t(),e(143,"option",91),a(144,"Mathematics & Computer Science"),t(),e(145,"option",92),a(146,"Vocational & Technology Studies "),t(),e(147,"option",93),a(148,"Science "),t(),e(149,"option",94),a(150,"Clerical "),t(),e(151,"option",95),a(152,"Utility"),t(),e(153,"option",96),a(154,"Ground Staff"),t(),e(155,"option",97),a(156,"Vocation and technical Department"),t()()()(),e(157,"div",68)(158,"label",69),a(159,"Position"),t(),e(160,"div",76)(161,"select",98),y("ngModelChange",function(o){return x(i.staff.position,o)||(i.staff.position=o),o}),e(162,"option",84),a(163,"Select Position..."),t(),e(164,"option",99),a(165,"Vice Principal Administration"),t(),e(166,"option",100),a(167,"Vice Principal Academics "),t(),e(168,"option",101),a(169,"Human Resource Officer I "),t(),e(170,"option",102),a(171,"Human Resource Officer II "),t(),e(172,"option",103),a(173,"Exam Officer (Internal) "),t(),e(174,"option",104),a(175,"Exam Officer (External) "),t(),e(176,"option",105),a(177,"Matron"),t(),e(178,"option",106),a(179,"Cook"),t(),e(180,"option",107),a(181,"Sewing"),t(),e(182,"option",108),a(183,"Cr\xE8che"),t(),e(184,"option",109),a(185,"Driver"),t(),e(186,"option",110),a(187,"Nurses"),t(),e(188,"option",111),a(189,"Gardeners"),t(),e(190,"option",112),a(191,"Canteen"),t(),e(192,"option",113),a(193,"Bakery"),t(),e(194,"option",114),a(195,"Teacher"),t(),e(196,"option",115),a(197,"Receptionist"),t(),e(198,"option",116),a(199,"Electrician"),t(),e(200,"option",117),a(201,"Plumber"),t(),e(202,"option",118),a(203,"Class Teacher"),t(),e(204,"option",119),a(205,"ICT Staff"),t(),e(206,"option",120),a(207,"Facility Manager"),t(),e(208,"option",121),a(209,"Head of Department"),t(),e(210,"option",122),a(211," Academic Support and Foreign Admission Officer"),t(),e(212,"option",123),a(213,"Accountant"),t(),e(214,"option",124),a(215,"Store Keeper"),t(),e(216,"option",125),a(217,"Procurement"),t(),e(218,"option",126),a(219,"Principal"),t(),e(220,"option",127),a(221,"Laboratory scientist"),t(),e(222,"option",128),a(223,"Chief Security 1"),t(),e(224,"option",129),a(225,"Chief Security 2"),t(),e(226,"option",130),a(227,"Counselor 1"),t(),e(228,"option",131),a(229,"Counselor 2"),t(),e(230,"option",132),a(231,"Chief Nurse"),t(),e(232,"option",133),a(233,"Cleaner"),t(),e(234,"option",134),a(235,"Chief Librarian"),t(),e(236,"option",135),a(237,"Executive Assistant"),t(),e(238,"option",136),a(239,"Librarian"),t(),e(240,"option",137),a(241,"Administration Assistant "),t()()()(),e(242,"div",68)(243,"label",78),a(244,"Date Employed"),t(),e(245,"div",76)(246,"input",138),y("ngModelChange",function(o){return x(i.staff.dateEmployed,o)||(i.staff.dateEmployed=o),o}),t()()(),e(247,"div",68)(248,"label",78),a(249,"Email Address"),t(),e(250,"div",70)(251,"div",71)(252,"div",139)(253,"input",140),y("ngModelChange",function(o){return x(i.staff.email,o)||(i.staff.email=o),o}),t()()()()(),e(254,"div",68)(255,"label",69),a(256,"State of Origin"),t(),e(257,"div",70)(258,"div",71)(259,"div",139)(260,"select",141,142),g("change",function(){S(c);let o=E(261);return C(i.setLGA(o.value))}),I(262,Ke,2,3,"option",143),t()()()()(),e(263,"div",68)(264,"label",78),a(265,"Local Government Area"),t(),e(266,"div",70)(267,"div",71)(268,"div",139)(269,"select",144,145),g("change",function(){S(c);let o=E(270);return C(i.selectLG(o.value))}),I(271,Je,2,3,"option",143),t()()()()(),e(272,"div",68)(273,"label",69),a(274,"Home address"),t(),e(275,"div",70)(276,"div",71)(277,"div",139)(278,"textarea",146),y("ngModelChange",function(o){return x(i.staff.homeAddress,o)||(i.staff.homeAddress=o),o}),t()()()()()(),e(279,"div",147)(280,"button",148),a(281,"Save Changes"),t()()()()(),e(282,"div",149)(283,"div",150)(284,"div",53)(285,"h3",54),a(286,"Deactivate Staff Profile"),t()()(),e(287,"div",151)(288,"form",152)(289,"div",57)(290,"div",153)(291,"span",154),M(),e(292,"svg",28),b(293,"rect",155)(294,"rect",156)(295,"rect",157),t()(),A(),e(296,"div",158),I(297,Qe,6,0,"div",159)(298,$e,6,0,"div",159),t()()(),I(299,et,3,0,"div",160)(300,tt,3,0,"div",161),t()()()()(),e(301,"div",162)(302,"div",50)(303,"div",163)(304,"div",52)(305,"div",53)(306,"h3",54),a(307,"Next of Kin Details"),t()()(),e(308,"div",55)(309,"form",56),g("ngSubmit",function(){return i.updateStaff()}),e(310,"div",57)(311,"div",68)(312,"label",69),a(313,"Full Name"),t(),e(314,"div",70)(315,"div",71)(316,"div",139)(317,"input",164),y("ngModelChange",function(o){return x(i.staff.nokFullName,o)||(i.staff.nokFullName=o),o}),t()()()()(),e(318,"div",68)(319,"label",78)(320,"span",79),a(321,"Contact Phone"),t(),b(322,"i",80),t(),e(323,"div",76)(324,"input",165),y("ngModelChange",function(o){return x(i.staff.nokContactPhone,o)||(i.staff.nokContactPhone=o),o}),t()()(),e(325,"div",68)(326,"label",78),a(327,"Occupation"),t(),e(328,"div",70)(329,"div",71)(330,"div",139)(331,"input",166),y("ngModelChange",function(o){return x(i.staff.nokOccupation,o)||(i.staff.nokOccupation=o),o}),t()()()()(),e(332,"div",68)(333,"label",78),a(334,"Relationship"),t(),e(335,"div",70)(336,"div",71)(337,"div",139)(338,"input",167),y("ngModelChange",function(o){return x(i.staff.nokRelationship,o)||(i.staff.nokRelationship=o),o}),t()()()()(),e(339,"div",68)(340,"label",69),a(341," Contact Address"),t(),e(342,"div",70)(343,"div",71)(344,"div",139)(345,"textarea",168),y("ngModelChange",function(o){return x(i.staff.nokContactAddress,o)||(i.staff.nokContactAddress=o),o}),t()()()()()(),e(346,"div",147)(347,"button",148),a(348,"Save Changes"),t()()()()()()(),e(349,"div",169)(350,"div",50)(351,"div",163)(352,"div",52)(353,"div",53)(354,"h3",54),a(355,"Educational Details"),t()()(),e(356,"div",55)(357,"form",56),g("ngSubmit",function(){return i.updateStaff()}),e(358,"div",57)(359,"div",68)(360,"label",69),a(361,"Institution"),t(),e(362,"div",70)(363,"div",71)(364,"div",139)(365,"input",170),y("ngModelChange",function(o){return x(i.staff.institution,o)||(i.staff.institution=o),o}),t()()()()(),e(366,"div",68)(367,"label",78)(368,"span",79),a(369,"Course of Study"),t()(),e(370,"div",76)(371,"input",171),y("ngModelChange",function(o){return x(i.staff.courseOfStudy,o)||(i.staff.courseOfStudy=o),o}),t()()(),e(372,"div",68)(373,"label",78),a(374,"Year Admitted"),t(),e(375,"div",70)(376,"div",71)(377,"div",139)(378,"input",172),y("ngModelChange",function(o){return x(i.staff.yearAdmitted,o)||(i.staff.yearAdmitted=o),o}),t()()()()(),e(379,"div",68)(380,"label",78),a(381,"Year Graduated"),t(),e(382,"div",70)(383,"div",71)(384,"div",139)(385,"input",173),y("ngModelChange",function(o){return x(i.staff.yearGraduated,o)||(i.staff.yearGraduated=o),o}),t()()()()(),e(386,"div",68)(387,"label",78),a(388,"Certificate"),t(),e(389,"div",70)(390,"div",71)(391,"div",139)(392,"input",174),y("ngModelChange",function(o){return x(i.staff.certificate,o)||(i.staff.certificate=o),o}),t()()()()()(),e(393,"div",147)(394,"button",148),a(395,"Save Changes"),t()()()()()()(),e(396,"div",175)(397,"div",50)(398,"div",149)(399,"div",176)(400,"div",177)(401,"div",178)(402,"span",179),M(),e(403,"svg",28),b(404,"rect",180)(405,"path",181),t()(),A(),e(406,"input",182,183),g("keyup",function(){S(c);let o=E(407),_=E(420);return C(i.genk.searchTable(o,_))}),t()()(),b(408,"div",184),t(),e(409,"div",185)(410,"table",186)(411,"thead")(412,"tr",187)(413,"th",188),a(414," S/N "),t(),e(415,"th",189),a(416,"Class"),t(),e(417,"th",189),a(418,"Subject"),t()()(),e(419,"tbody",190,191),I(421,it,9,3,"tr",192),t()()()()()()()()()()(),e(422,"div",193)(423,"div",194)(424,"div",195)(425,"div",196)(426,"h2"),a(427," Select Class "),t(),e(428,"div",197)(429,"span",198),M(),e(430,"svg",28),b(431,"rect",199)(432,"rect",200),t()()()(),A(),e(433,"div",201)(434,"div",202)(435,"div",203)(436,"form",204),g("ngSubmit",function(){return i.createStaffSubject(i.subjectId,i.classid)}),e(437,"div",205)(438,"div",206)(439,"div",207)(440,"div",208)(441,"label",209)(442,"span",210),a(443,"Class"),t()(),e(444,"select",211),y("ngModelChange",function(o){return x(i.classid,o)||(i.classid=o),o}),e(445,"option",84),a(446,"Select Class..."),t(),I(447,nt,2,2,"option",212),t()()(),e(448,"div",207)(449,"div",208)(450,"label",209)(451,"span",210),a(452,"Subject"),t()(),e(453,"select",213),y("ngModelChange",function(o){return x(i.subjectId,o)||(i.subjectId=o),o}),e(454,"option",84),a(455,"Select Subject"),t(),I(456,at,2,2,"option",212),t()()()()(),e(457,"div")(458,"div",214)(459,"button",215),a(460,"Cancel"),t(),e(461,"button",216),a(462,"Submit"),t()()()()()()()()()()}if(r&2){let c;d(13),p("src",i.genk.setImgRemote(i.staff.photo),ve),d(6),h((((c=i.studentobj.surname)!==null&&c!==void 0?c:"")+" "+((c=i.studentobj.otherNames)!==null&&c!==void 0?c:"")).trim()),d(8),h(i.studentobj.gender),d(20),h(i.studentobj.idCardNo),d(6),h(i.studentobj.phone),d(31),p("src",i.genk.imag||i.genk.setImgRemote(i.staff.photo),ve),d(13),v("ngModel",i.staff.surname),d(2),v("ngModel",i.staff.firstName),d(2),v("ngModel",i.staff.middleName),d(5),v("ngModel",i.staff.idCardNo),d(7),v("ngModel",i.staff.phone),d(5),v("ngModel",i.staff.birthDate),d(5),v("ngModel",i.staff.category),d(11),v("ngModel",i.staff.department),d(27),v("ngModel",i.staff.position),d(85),v("ngModel",i.staff.dateEmployed),d(7),v("ngModel",i.staff.email),d(7),p("value",i.staff.state),d(2),p("ngForOf",i.states),d(7),p("value",i.staff.lga),d(2),p("ngForOf",i.lgs),d(7),v("ngModel",i.staff.homeAddress),d(19),p("ngIf",i.staff.status=="DEACTIVATED"),d(),p("ngIf",i.staff.status=="ACTIVE"),d(),p("ngIf",i.staff.status=="DEACTIVATED"),d(),p("ngIf",i.staff.status=="ACTIVE"),d(17),v("ngModel",i.staff.nokFullName),d(7),v("ngModel",i.staff.nokContactPhone),d(7),v("ngModel",i.staff.nokOccupation),d(7),v("ngModel",i.staff.nokRelationship),d(7),v("ngModel",i.staff.nokContactAddress),d(20),v("ngModel",i.staff.institution),d(6),v("ngModel",i.staff.courseOfStudy),d(7),v("ngModel",i.staff.yearAdmitted),d(7),v("ngModel",i.staff.yearGraduated),d(7),v("ngModel",i.staff.certificate),d(29),p("ngForOf",i.staffSubjectList),d(23),v("ngModel",i.classid),d(3),p("ngForOf",i.schoolClasses),d(6),v("ngModel",i.subjectId),d(3),p("ngForOf",i.subjectList)}},dependencies:[O,J,H,X,Z,fe,U,W,B,Q,G],encapsulation:2});let s=m;return s})();var ae=ee(pe());var $=ee(Be());function rt(s,m){if(s&1&&(e(0,"option",96),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.class)}}function lt(s,m){s&1&&(e(0,"div",97)(1,"div"),a(2,"No class is selected"),t()())}function ot(s,m){s&1&&(e(0,"div",97)(1,"div"),a(2,"No term is selected"),t()())}function st(s,m){if(s&1&&(e(0,"option",96),a(1),t()),s&2){let l=m.$implicit;p("value",l.subjectId),d(),h(l.subjects)}}function dt(s,m){s&1&&(e(0,"div",97)(1,"div"),a(2,"No subject is selected"),t()())}function ct(s,m){if(s&1&&(e(0,"option",96),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.sessionName)}}function mt(s,m){s&1&&(e(0,"div",97)(1,"div"),a(2,"No session is selected"),t()())}function ut(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA1?l.caSetupData.CA1:"CA1")}}function pt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA2?l.caSetupData.CA2:"CA2")}}function ft(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA3?l.caSetupData.CA3:"CA3")}}function ht(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA4?l.caSetupData.CA4:"CA4")}}function gt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA5?l.caSetupData.CA5:"CA5")}}function _t(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA6?l.caSetupData.CA6:"CA6")}}function St(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA7?l.caSetupData.CA7:"CA7")}}function Ct(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA8?l.caSetupData.CA8:"CA8")}}function bt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA9?l.caSetupData.CA9:"CA9")}}function vt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA10?l.caSetupData.CA10:"CA10")}}function xt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA11?l.caSetupData.CA11:"CA11")}}function yt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA12?l.caSetupData.CA12:"CA12")}}function wt(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA13?l.caSetupData.CA13:"CA13")}}function Et(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA14?l.caSetupData.CA14:"CA14")}}function It(s,m){if(s&1&&(e(0,"th",51),a(1),t()),s&2){let l=f();d(),h(l.caSetupData.CA15?l.caSetupData.CA15:"CA15")}}function kt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",104,108),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca1"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca1)!==null&&n!==void 0?n:"")}}function Tt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",109,110),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca2"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca2)!==null&&n!==void 0?n:"")}}function Mt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",109,111),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca3"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca3)!==null&&n!==void 0?n:"")}}function At(s,m){if(s&1){let l=k();e(0,"td")(1,"input",109,112),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca4"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca4)!==null&&n!==void 0?n:"")}}function Nt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,114),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca5"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca5)!==null&&n!==void 0?n:"")}}function jt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",109,115),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca6"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca6)!==null&&n!==void 0?n:"")}}function Dt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,116),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca7"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca7)!==null&&n!==void 0?n:"")}}function Vt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,117),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca8"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca8)!==null&&n!==void 0?n:"")}}function Pt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,118),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca9"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca9)!==null&&n!==void 0?n:"")}}function Ot(s,m){if(s&1){let l=k();e(0,"td")(1,"input",109,119),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca10"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca10)!==null&&n!==void 0?n:"")}}function Rt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,120),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca11"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca11)!==null&&n!==void 0?n:"")}}function Lt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",109,121),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca12"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca12)!==null&&n!==void 0?n:"")}}function Ft(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,122),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca13"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca13)!==null&&n!==void 0?n:"")}}function Wt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,123),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca14"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca14)!==null&&n!==void 0?n:"")}}function Bt(s,m){if(s&1){let l=k();e(0,"td")(1,"input",113,124),g("keyup",function(){S(l);let r=E(2),i=f().$implicit,c=f();return C(c.setCa(i.studentId,r,"ca15"))}),t()()}if(s&2){let l=f().$implicit,n;d(),p("value",(n=l.ca15)!==null&&n!==void 0?n:"")}}function Gt(s,m){if(s&1){let l=k();e(0,"tr",98)(1,"td"),a(2),t(),e(3,"td",99),b(4,"input",100),t(),e(5,"td",101),b(6,"input",102),t(),I(7,kt,3,1,"td",103)(8,Tt,3,1,"td",103)(9,Mt,3,1,"td",103)(10,At,3,1,"td",103)(11,Nt,3,1,"td",103)(12,jt,3,1,"td",103)(13,Dt,3,1,"td",103)(14,Vt,3,1,"td",103)(15,Pt,3,1,"td",103)(16,Ot,3,1,"td",103)(17,Rt,3,1,"td",103)(18,Lt,3,1,"td",103)(19,Ft,3,1,"td",103)(20,Wt,3,1,"td",103)(21,Bt,3,1,"td",103),e(22,"td")(23,"input",104,105),g("keyup",function(){let i=S(l).$implicit,c=E(24),u=f();return C(u.setCa(i.studentId,c,"exam"))}),t()(),e(25,"td")(26,"span",106),a(27),t()(),e(28,"td",107)(29,"span",106),a(30),t()(),e(31,"td")(32,"span",106),a(33),t()()()}if(s&2){let l=m.$implicit,n=m.index,r=f(),i,c,u,o,_,w;d(2),h(n+1),d(2),xe("value",(i=l.studentName)!==null&&i!==void 0?i:""),d(2),xe("value",(c=l.admissionNo)!==null&&c!==void 0?c:""),d(),p("ngIf",r.caSetupData.CA1),d(),p("ngIf",r.caSetupData.CA2),d(),p("ngIf",r.caSetupData.CA3),d(),p("ngIf",r.caSetupData.CA4),d(),p("ngIf",r.caSetupData.CA5),d(),p("ngIf",r.caSetupData.CA6),d(),p("ngIf",r.caSetupData.CA7),d(),p("ngIf",r.caSetupData.CA8),d(),p("ngIf",r.caSetupData.CA9),d(),p("ngIf",r.caSetupData.CA10),d(),p("ngIf",r.caSetupData.CA11),d(),p("ngIf",r.caSetupData.CA12),d(),p("ngIf",r.caSetupData.CA13),d(),p("ngIf",r.caSetupData.CA14),d(),p("ngIf",r.caSetupData.CA15),d(2),p("value",(u=l.exam)!==null&&u!==void 0?u:""),d(4),h((o=l.totalScore)!==null&&o!==void 0?o:""),d(3),h((_=l.grade)!==null&&_!==void 0?_:""),d(3),h((w=l.remark)!==null&&w!==void 0?w:"")}}var Ue=(()=>{let m=class m{constructor(n,r,i,c,u){this.router=n,this.auth=r,this.sch=i,this.gen=c,this.cd=u,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.psycomotorlist=[],this.studentlist=[],this.bigboss=[],this.smallboss=[],this.psycoObjList=[],this.psylist=[],this.motorlist=[],this.classSubjects=[],this.resultlist=[],this.gradeScaleList=[],this.destroy=new te,this.submitted=!1,this.staffSubjectList=[],this.staffClasses=[],this.genk=c,this.userName=r.currentUserValue.name,this.userImgPath=r.currentUserValue.logo,this.adminStatus=r.currentUserValue.status}ngOnInit(){this.genk.topdata="Result Entry",this.resultForm=new Ae({term:new se(this.currentTerm,[oe.required]),sessionId:new se(this.currentSessionId,[oe.required]),subjectId:new se(this.currentSubjectId,[oe.required]),classId:new se(this.currentClass,[oe.required])},{}),this.getClassNames(),this.getSession(),this.getCurrentSession(),this.getStaffSubjects(),this.cd.markForCheck()}get f(){return this.resultForm.controls}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n,this.cd.markForCheck()})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n,this.cd.markForCheck()})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm),this.cd.markForCheck()})}getClassSubjects(){this.classSubjects=this.staffSubjectList.filter(n=>n.classId==this.currentClass)}getStudents(){debugger;if(this.submitted=!0,this.resultForm.invalid){this.cd.markForCheck();return}this.sch.getStudents(this.currentClass.toString()).subscribe(n=>{this.studentlist=n,this.getResultsByClass(),this.getCaSetupByClass(),this.submitted=!0,this.cd.markForCheck()})}getResultsByClass(){this.sch.getResultsByClass(this.currentClass.toString(),this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString()).subscribe(n=>{this.resultlist=n,this.bigboss=[]})}getCaSetupByClass(){this.sch.getCaSetupByClass(this.currentClass.toString()).subscribe(n=>{this.caSetupData=n.systemname,this.caScoreData=n.score})}getGradeScale(n){this.currentClass=Number(n),this.getClassSubjects();let i=this.schoolClasses.filter(c=>c.id==this.currentClass)[0].classLevelId;this.sch.getGradeScaleByCategory(i).subscribe(c=>{this.gradeScaleList=c,this.cd.markForCheck()})}getStaffSubjects(){this.sch.getStaffSubjects(this.auth.currentUserValue.id.toString()).subscribe(n=>{this.staffSubjectList=n;let r=[];this.staffSubjectList.forEach(i=>{r.filter(c=>c==i.classId).length<1&&(r.push(i.classId),this.staffClasses.push({class:i.class,id:i.classId}))})})}setCa(n,r,i){debugger;let c,u;if(this.bigboss.filter(o=>o.studentId==Number(n)).length>0){c=this.bigboss.filter(w=>w.studentId==Number(n))[0],u=this.resultlist.filter(w=>w.studentId==Number(n))[0];let o=this.clearInput(this.caScoreData[i.toUpperCase()],Number(r.value),this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))][i.toUpperCase()]);r.value=o.toString(),c[i]=o,c.totalScore=Number(c.ca1??this.checkCA(u.ca1))+Number(c.ca2??this.checkCA(u.ca2))+Number(c.ca3??this.checkCA(u.ca3))+Number(c.ca4??this.checkCA(u.ca4))+Number(c.ca5??this.checkCA(u.ca5))+Number(c.ca6??this.checkCA(u.ca6))+Number(c.ca7??this.checkCA(u.ca7))+Number(c.ca8??this.checkCA(u.ca8))+Number(c.ca9??this.checkCA(u.ca9))+Number(c.ca10??this.checkCA(u.ca10))+Number(c.ca11??this.checkCA(u.ca11))+Number(c.ca12??this.checkCA(u.ca12))+Number(c.ca13??this.checkCA(u.ca13))+Number(c.ca14??this.checkCA(u.ca14))+Number(c.ca15??this.checkCA(u.ca15))+Number(c.exam??this.checkCA(u.exam));let _=this.calGrade(c.totalScore);c.grade=_.grade,c.remark=_.remark,this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))].totalScore=c.totalScore,this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))].grade=c.grade,this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))].remark=c.remark,this.bigboss[this.bigboss.findIndex(w=>w.studentId==Number(n))]=c}else{c=new ye,u=this.resultlist.filter(w=>w.studentId==Number(n))[0],c.studentId=n;let o=this.clearInput(this.caScoreData[i.toUpperCase()],Number(r.value),this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))][i.toUpperCase()]);r.value=o.toString(),c[i]=o,c.totalScore=Number(c.ca1??this.checkCA(u.ca1))+Number(c.ca2??this.checkCA(u.ca2))+Number(c.ca3??this.checkCA(u.ca3))+Number(c.ca4??this.checkCA(u.ca4))+Number(c.ca5??this.checkCA(u.ca5))+Number(c.ca6??this.checkCA(u.ca6))+Number(c.ca7??this.checkCA(u.ca7))+Number(c.ca8??this.checkCA(u.ca8))+Number(c.ca9??this.checkCA(u.ca9))+Number(c.ca10??this.checkCA(u.ca10))+Number(c.ca11??this.checkCA(u.ca11))+Number(c.ca12??this.checkCA(u.ca12))+Number(c.ca13??this.checkCA(u.ca13))+Number(c.ca14??this.checkCA(u.ca14))+Number(c.ca15??this.checkCA(u.ca15))+Number(c.exam??this.checkCA(u.exam));let _=this.calGrade(c.totalScore);c.grade=_.grade,c.remark=_.remark,this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))].totalScore=c.totalScore,this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))].grade=c.grade,this.resultlist[this.resultlist.findIndex(w=>w.studentId==Number(n))].remark=c.remark,this.bigboss.push(c)}console.log(this.bigboss)}checkCA(n){return n||0}calGrade(n){let r;return this.gradeScaleList.forEach(i=>{n>=i.begLimit&&n<=i.endLimit&&(r={grade:i.grade,remark:i.remarks})}),r||{grade:"i",remark:"Not Aplicable"}}validateSaveEntry(){let n=this.classSubjects.filter(i=>i.subjectId==this.currentSubjectId)[0]?.subjects,r=this.schoolClasses.filter(i=>i.id==this.currentClass)[0]?.class;ae.default.fire({title:"Do you want permanently save student exam records for this class?",html:`<p style="font-size: 20px"><b>Subject: </b> ${n}</p> <p style="font-size: 20px"><b>Class: </b> ${r}</p>`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Save"}).then(i=>{i.isConfirmed&&this.saveResultEntry()})}saveResultEntry(){if(this.submitted=!0,this.resultForm.invalid){this.cd.markForCheck();return}if(this.resultlist.length<1){this.cd.markForCheck();return}let n=this.schoolClasses.filter(r=>r.id==this.currentClass)[0].class;ae.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{ae.default.showLoading(),this.sch.saveResultEntry(this.bigboss,this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString(),this.currentClass.toString(),n).pipe(K(this.destroy)).subscribe(r=>{ae.default.close()})}}).then(r=>{ae.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}clearInput(n,r,i){return n&&r>n?(alert("Value entered is greater than CA Maximum Score of "+n),i?Number(i):0):Number(r)}upInputToMax(n,r){return n&&r>n?n:Number(r)}downloadTemplate(){let n=[];for(let w=0;w<this.resultlist.length;w++){let Y=new Object;Y.sn=w+1,Y.studentId=this.resultlist[w].studentId,Y.admissionNo=this.resultlist[w].admissionNo,Y.studentName=this.resultlist[w].studentName;for(let[de,Ye]of Object.entries(this.caSetupData))Y[de+" ["+Ye+"]"]="";n.push(Y)}console.log(n);let r=$.utils.json_to_sheet(n),i=["A1","B1","C1","D1","E1","F1","G1","H1","I1","J1","K1","L1","M1","N1","O1","P1","Q1","R1","S1","T1"];for(let w of i)r[w]&&(r[w].s={font:{color:{rgb:"000000"},bold:!0}});var c=[{wch:4},{wch:10},{wch:20},{wch:35},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10}];r["!cols"]=c;let u=this.classSubjects.filter(w=>w.subjectId==this.currentSubjectId)[0]?.subjects,o=this.schoolClasses.filter(w=>w.id==this.currentClass)[0]?.class,_=$.utils.book_new();$.utils.book_append_sheet(_,r,u+"__"+o+"__Entry"),$.writeFile(_,this.auth.currentUserValue.schoolName+"__Result Entry.xlsx",{compression:!0})}loadExcel(n){return we(this,null,function*(){var r=n.target.files[0];if(r){console.log("hi");var i=new FileReader;i.onload=u=>{let o=i.result;var _=u.target.result,w=$.read(o,{type:"binary"});w.SheetNames.forEach(Y=>{let de=Ge.sheet_to_row_object_array(w.Sheets[Y]);this.excelObj=de,console.log(de)})},i.readAsBinaryString(r);let c=i}})}populateFromFile(){for(let n=0;n<this.excelObj.length;n++){let r=0,i=0,c=new ye;c.studentId=this.excelObj[n].studentId;for(let[u,o]of Object.entries(this.excelObj[n]))u.substring(0,3)=="CA1"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA1,Number(o)),c.ca1=this.upInputToMax(this.caScoreData.CA1,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca1=this.upInputToMax(this.caScoreData.CA1,Number(o))),u.substring(0,3)=="CA2"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA2,Number(o)),c.ca2=this.upInputToMax(this.caScoreData.CA2,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca2=this.upInputToMax(this.caScoreData.CA2,Number(o))),u.substring(0,3)=="CA3"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA3,Number(o)),c.ca3=this.upInputToMax(this.caScoreData.CA3,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca3=this.upInputToMax(this.caScoreData.CA3,Number(o))),u.substring(0,3)=="CA4"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA4,Number(o)),c.ca4=this.upInputToMax(this.caScoreData.CA4,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca4=this.upInputToMax(this.caScoreData.CA4,Number(o))),u.substring(0,3)=="CA5"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA5,Number(o)),c.ca5=this.upInputToMax(this.caScoreData.CA5,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca5=this.upInputToMax(this.caScoreData.CA5,Number(o))),u.substring(0,3)=="CA6"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA6,Number(o)),c.ca6=this.upInputToMax(this.caScoreData.CA6,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca6=this.upInputToMax(this.caScoreData.CA6,Number(o))),u.substring(0,3)=="CA7"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA7,Number(o)),c.ca7=this.upInputToMax(this.caScoreData.CA7,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca7=this.upInputToMax(this.caScoreData.CA7,Number(o))),u.substring(0,3)=="CA8"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA8,Number(o)),c.ca8=this.upInputToMax(this.caScoreData.CA8,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca8=this.upInputToMax(this.caScoreData.CA8,Number(o))),u.substring(0,3)=="CA9"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA9,Number(o)),c.ca9=this.upInputToMax(this.caScoreData.CA9,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca9=this.upInputToMax(this.caScoreData.CA9,Number(o))),u.substring(0,4)=="CA10"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA10,Number(o)),c.ca10=this.upInputToMax(this.caScoreData.CA10,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca10=this.upInputToMax(this.caScoreData.CA10,Number(o))),u.substring(0,4)=="CA11"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA11,Number(o)),c.ca11=this.upInputToMax(this.caScoreData.CA11,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca11=this.upInputToMax(this.caScoreData.CA11,Number(o))),u.substring(0,4)=="CA12"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA12,Number(o)),c.ca12=this.upInputToMax(this.caScoreData.CA12,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca12=this.upInputToMax(this.caScoreData.CA12,Number(o))),u.substring(0,4)=="CA13"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA13,Number(o)),c.ca13=this.upInputToMax(this.caScoreData.CA13,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca13=this.upInputToMax(this.caScoreData.CA13,Number(o))),u.substring(0,4)=="CA14"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA14,Number(o)),c.ca14=this.upInputToMax(this.caScoreData.CA14,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca14=this.upInputToMax(this.caScoreData.CA14,Number(o))),u.substring(0,4)=="CA15"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.CA15,Number(o)),c.ca15=this.upInputToMax(this.caScoreData.CA15,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].ca15=this.upInputToMax(this.caScoreData.CA15,Number(o))),u.substring(0,4)=="Exam"&&o!=""&&(i=1,r=r+this.upInputToMax(this.caScoreData.Exam,Number(o)),c.exam=this.upInputToMax(this.caScoreData.Exam,Number(o)),this.resultlist[this.resultlist.findIndex(_=>_.studentId==this.excelObj[n].studentId)].exam=this.upInputToMax(this.caScoreData.Exam,Number(o)));i==1&&(this.resultlist[this.resultlist.findIndex(u=>u.studentId==this.excelObj[n].studentId)].totalScore=r,this.resultlist[this.resultlist.findIndex(u=>u.studentId==this.excelObj[n].studentId)].grade=this.calGrade(r).grade,this.resultlist[this.resultlist.findIndex(u=>u.studentId==this.excelObj[n].studentId)].remark=this.calGrade(r).remark,c.totalScore=r,c.grade=this.calGrade(r).grade,c.remark=this.calGrade(r).remark,this.bigboss.push(c))}}};m.\u0275fac=function(r){return new(r||m)(T(R),T(L),T(q),T(F),T(Ee))},m.\u0275cmp=P({type:m,selectors:[["app-dashboard"]],inputs:{header:"header"},decls:171,vars:30,consts:[["id","kt_wrapper",1,"d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"d-flex"],["id","kt_content_container",2,"width","100%"],[1,"card","mb-10"],[1,"card-body"],["id","kt_invoice_form",3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","align-items-start","flex-xxl-row"],["data-bs-toggle","tooltip","data-bs-trigger","hover",1,"d-flex","flex-center","flex-equal","fw-row","text-nowrap","order-1","order-xxl-2","me-4"],[1,"fs-2x","fw-bolder","text-gray-800"],[1,"separator","separator-dashed","my-10"],[1,"mb-0"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["formControlName","classId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["cuclass",""],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","eroce",4,"ngIf"],[1,"fv-row","mb-5"],[1,"fs-6","fw-bold","form-label"],["name","class","formControlName","term","aria-label","Select Term","data-control","select2","data-placeholder","Select Term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ter",""],["value",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["formControlName","subjectId","aria-label","Select subject","data-control","select2","data-placeholder","Select subject..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["subj",""],["formControlName","sessionId","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["ses",""],[2,"text-align","center","width","100%"],[1,"btn","btn-primary",2,"padding","10px 10%",3,"click"],[1,"d-flex",2,"width","100%","justify-content","end","margin-top","60px"],["type","button",1,"btn","btn-info","px-12",2,"margin-right","10px",3,"disabled","click"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","btn","btn-light-info",2,"height","48px","outline","none","border","solid 0.5px #7239ea","padding","6px 15px",3,"disabled"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu",2,"padding","10px"],[2,"margin-bottom","15px","margin-top","10px","font-size","16px"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"dropdown-item",3,"click"],[2,"margin-bottom","10px","font-size","16px"],[1,"dropdown-item",3,"click"],[1,"table-responsive","mb-10"],["data-kt-element","items",1,"table","g-5","gs-0","mb-0","fw-bolder","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"snfixewidth"],[1,"fixewidth","fixed-column-state",2,"background-color","white"],[1,"min-w-150px","w-150px"],["class","min-w-150px w-150px",4,"ngIf"],["class","border-bottom border-bottom-dashed","data-kt-element","Name",4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],["id","kt_modal_add_customer","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_customer_form","data-kt-redirect","../../demo1/dist/apps/customers/list.html",1,"form"],["id","kt_modal_add_customer_header",1,"modal-header"],[1,"fw-bolder"],["id","kt_modal_add_customer_close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],["id","kt_modal_add_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_customer_header","data-kt-scroll-wrappers","#kt_modal_add_customer_scroll","data-kt-scroll-offset","300px",1,"scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"required","fs-6","fw-bold","mb-2"],["data-bs-toggle","tooltip","title","Click the button below first to download the template, then upload after the excel sheet has been filled with the necessary data",1,"fas","fa-exclamation-circle","ms-1","fs-7"],["type","file","placeholder","","name","passport",1,"form-control","form-control-solid",3,"change"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_add_customer_cancel",1,"btn","btn-light","me-3"],["type","submit","id","kt_modal_add_customer_submit","data-bs-dismiss","modal",1,"btn","btn-info",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"eroce"],["data-kt-element","Name",1,"border-bottom","border-bottom-dashed"],[1,"pe-7","fixed-column-state"],["type","text","name","name[]","placeholder","Acholo Nora",1,"form-control","form-control-solid","mb-2",3,"value"],[1,"ps-0"],["type","text","name","name[]","disabled","",1,"form-control","form-control-solid","mb-2",3,"value"],[4,"ngIf"],["type","text",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["exam",""],[1,"form-control","form-control-solid","text-center"],[1,"pt-5","text-end"],["ca1",""],["type","number",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["ca2",""],["ca3",""],["ca4",""],["type","number","type","text",1,"form-control","form-control-solid","text-center",3,"value","keyup"],["ca5",""],["ca6",""],["ca7",""],["ca8",""],["ca9",""],["ca10",""],["ca11",""],["ca12",""],["ca13",""],["ca14",""],["ca15",""]],template:function(r,i){if(r&1){let c=k();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),g("ngSubmit",function(){return i.getStudents()}),e(7,"div",7)(8,"div",8)(9,"span",9),a(10,"Enter Students Result"),t()()(),b(11,"div",10),e(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"label",15)(17,"span",16),a(18,"Select Class"),t()(),e(19,"div",17)(20,"select",18,19),g("change",function(){S(c);let o=E(21);return C(i.getGradeScale(o.value))}),e(22,"option",20),a(23,"Select Class..."),t(),I(24,rt,2,2,"option",21),t(),I(25,lt,3,0,"div",22),t()(),e(26,"div",23)(27,"label",24)(28,"span",16),a(29,"Term"),t()(),e(30,"div",17)(31,"select",25,26),y("ngModelChange",function(o){return x(i.currentTerm,o)||(i.currentTerm=o),o}),e(33,"option",27),a(34,"Select Term..."),t(),e(35,"option",28),a(36,"First "),t(),e(37,"option",29),a(38,"Second"),t(),e(39,"option",30),a(40,"Third"),t()(),I(41,ot,3,0,"div",22),t()()(),e(42,"div",13)(43,"div",14)(44,"label",15)(45,"span",16),a(46,"Subject"),t()(),e(47,"div",17)(48,"select",31,32),y("ngModelChange",function(o){return x(i.currentSubjectId,o)||(i.currentSubjectId=o),o}),e(50,"option",27),a(51,"Select Subject..."),t(),I(52,st,2,2,"option",21),t(),I(53,dt,3,0,"div",22),t()(),e(54,"div",14)(55,"label",24)(56,"span",16),a(57,"Session"),t()(),e(58,"div",17)(59,"select",33,34),y("ngModelChange",function(o){return x(i.currentSessionId,o)||(i.currentSessionId=o),o}),e(61,"option",20),a(62,"Select Session..."),t(),I(63,ct,2,2,"option",21),t(),I(64,mt,3,0,"div",22),t()()(),e(65,"div",35)(66,"div")(67,"button",36),g("click",function(){return i.getStudents()}),a(68,"Show Students"),t()()(),e(69,"div",37)(70,"button",38),g("click",function(){return i.validateSaveEntry()}),a(71,"Save"),t(),a(72," \xA0 "),e(73,"div",39)(74,"button",40),a(75," Actions "),t(),e(76,"ul",41)(77,"li",42)(78,"a",43),g("click",function(){return i.populateFromFile()}),a(79,"Populate from file"),t()(),e(80,"li",44)(81,"a",45),g("click",function(){return i.downloadTemplate()}),a(82,"Download Template"),t()()()()()(),e(83,"div",46)(84,"table",47)(85,"thead")(86,"tr",48)(87,"th",49),a(88,"S/N"),t(),e(89,"th",50),a(90,"Student Name"),t(),e(91,"th",51),a(92,"Admission No"),t(),I(93,ut,2,1,"th",52)(94,pt,2,1,"th",52)(95,ft,2,1,"th",52)(96,ht,2,1,"th",52)(97,gt,2,1,"th",52)(98,_t,2,1,"th",52)(99,St,2,1,"th",52)(100,Ct,2,1,"th",52)(101,bt,2,1,"th",52)(102,vt,2,1,"th",52)(103,xt,2,1,"th",52)(104,yt,2,1,"th",52)(105,wt,2,1,"th",52)(106,Et,2,1,"th",52)(107,It,2,1,"th",52),e(108,"th",51),a(109,"Exam (60%)"),t(),e(110,"th",51),a(111,"Total Score"),t(),e(112,"th",51),a(113,"Grade"),t(),e(114,"th",51),a(115,"Remark"),t()()(),e(116,"tbody"),I(117,Gt,34,22,"tr",53),t()()(),e(118,"div",54)(119,"div",55)(120,"div",56)(121,"label")(122,"select",57)(123,"option",58),a(124,"10"),t(),e(125,"option",59),a(126,"25"),t(),e(127,"option",60),a(128,"50"),t(),e(129,"option",61),a(130,"100"),t()()()()(),e(131,"div",62)(132,"div",63)(133,"ul",64)(134,"li",65)(135,"a",66),b(136,"i",67),t()(),e(137,"li",68)(138,"a",69),a(139,"1"),t()(),e(140,"li",70)(141,"a",71),b(142,"i",72),t()()()()()()()()()(),e(143,"div",73)(144,"div",74)(145,"div",75)(146,"form",76)(147,"div",77)(148,"h2",78),a(149,"Upload Result"),t(),e(150,"div",79)(151,"span",80),M(),e(152,"svg",81),b(153,"rect",82)(154,"rect",83),t()()()(),A(),e(155,"div",84)(156,"div",85)(157,"div",86)(158,"label",87),a(159,"Upload Template"),t(),b(160,"i",88),e(161,"input",89),g("change",function(o){return i.loadExcel(o)}),t()()()(),e(162,"div",90)(163,"button",91),a(164,"Discard"),t(),e(165,"button",92),g("click",function(){return i.populateFromFile()}),e(166,"span",93),a(167,"Populate"),t(),e(168,"span",94),a(169,"Please wait... "),b(170,"span",95),t()()()()()()()()()()()}if(r&2){let c=E(21),u=E(32),o=E(49),_=E(60);d(6),p("formGroup",i.resultForm),d(14),p("value",i.currentClass),d(4),p("ngForOf",i.staffClasses),d(),p("ngIf",!c.value&&i.submitted),d(6),v("ngModel",i.currentTerm),d(10),p("ngIf",!u.value&&i.submitted),d(7),v("ngModel",i.currentSubjectId),d(4),p("ngForOf",i.classSubjects),d(),p("ngIf",!o.value&&i.submitted),d(6),v("ngModel",i.currentSessionId),d(4),p("ngForOf",i.sessionlist),d(),p("ngIf",!_.value&&i.submitted),d(6),p("disabled",i.resultlist.length<1),d(4),p("disabled",i.resultlist.length<1),d(19),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA1),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA2),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA3),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA4),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA5),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA6),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA7),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA8),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA9),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA10),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA11),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA12),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA13),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA14),d(),p("ngIf",i.caSetupData==null?null:i.caSetupData.CA15),d(10),p("ngForOf",i.resultlist)}},dependencies:[O,J,H,X,Z,U,W,B,G,Ne,je],styles:["@media (max-width:800px){.fixewidth[_ngcontent-%COMP%]{min-width:150px;width:170px}.snfixewidth[_ngcontent-%COMP%]{min-width:10px;width:10px}}@media (min-width: 800px) and (max-width: 3000px){.fixed-column-state[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:100}.fixewidth[_ngcontent-%COMP%]{min-width:250px;width:250px}.snfixewidth[_ngcontent-%COMP%]{min-width:30px;width:30px}}",`.table[_ngcontent-%COMP%] {
                                                width: auto;
                                            }

                                            .table-responsive[_ngcontent-%COMP%] {
                                                overflow-x: auto;
                                                max-width: 100%;
                                            }

                                            .fixed-column[_ngcontent-%COMP%] {
                                                position: sticky;
                                                left: 0;
                                                background-color: #fff; 

                                                z-index: 1;
                                            }`]});let s=m;return s})();var re=ee(Be());function Ht(s,m){if(s&1&&(e(0,"option",72),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.class)}}function Ut(s,m){if(s&1&&(e(0,"option",72),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.sessionName)}}function Xt(s,m){if(s&1&&(e(0,"option",72),a(1),t()),s&2){let l=m.$implicit;p("value",l.subjectId),d(),h(l.subjects)}}function Zt(s,m){if(s&1&&(e(0,"tr",73)(1,"td",74)(2,"span",75),a(3),t()(),e(4,"td",74)(5,"span",76),a(6),t()(),e(7,"td")(8,"span",76),a(9),t()(),e(10,"td",77)(11,"a",78),a(12),t()(),e(13,"td",77)(14,"span",78),a(15),t()(),e(16,"td",77)(17,"span",78),a(18),t()(),e(19,"td",77)(20,"span",78),a(21),t()()()),s&2){let l=m.$implicit,n=m.index,r=f();d(3),h(n+1),d(3),h(l.studentName),d(3),h(l.admissionNo),d(3),j("",r.currentSubjectName," "),d(3),h(l.totalScore),d(3),h(l.grade),d(3),h(l.totalScore?r.formatPosition(n+1):"")}}var Xe=(()=>{let m=class m{constructor(n,r,i,c,u){this.router=n,this.route=r,this.auth=i,this.sch=c,this.gen=u,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.resultlist=[],this.classSubjects=[],this.staffSubjectList=[],this.staffClasses=[],this.genk=u,this.userName=i.currentUserValue.name,this.userImgPath=i.currentUserValue.logo,this.adminStatus=i.currentUserValue.status}ngOnInit(){this.genk.topdata="Subject Result",this.getClassNames(),this.getSession(),this.getCurrentSession(),this.getStaffSubjects()}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm)})}getResults(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getStaffSubjects(){this.sch.getStaffSubjects(this.auth.currentUserValue.id.toString()).subscribe(n=>{this.staffSubjectList=n;let r=[];this.staffSubjectList.forEach(i=>{r.filter(c=>c==i.classId).length<1&&(r.push(i.classId),this.staffClasses.push({class:i.class,id:i.classId}))})})}getResultsAverageByClass(){this.sch.getResultsAverageByClass(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(r=>r.id==this.currentSessionId)[0].sessionName})}formatPosition(n){let r;switch(n){case 1:r="1st";break;case 2:r="2nd";break;case 3:r="3rd";break;default:r=n+"th";break}return r}getClassSubjects(){this.classSubjects=this.staffSubjectList.filter(n=>n.classId==this.currentClass)}setClass(n){this.currentClass=n.toString(),this.getClassSubjects()}getSubjectResultsByClass(){this.sch.getStudentResultsByClass(this.currentClass,this.currentSessionId.toString(),this.currentTerm,this.currentSubjectId.toString()).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(r=>r.id==this.currentSessionId)[0].sessionName,this.currentSubjectName=this.classSubjects.filter(r=>r.subjectId==this.currentSubjectId)[0].subjects,this.currentClassName=this.schoolClasses.filter(r=>r.id==this.currentClass)[0].class})}exportTable(){var n=document.getElementById("subjecttable");let r=re.utils.table_to_sheet(n);var i=[{wch:5},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}];r["!cols"]=i;let c=re.utils.book_new();re.utils.book_append_sheet(c,r,"Subject-Result"),re.writeFile(c,"Subject-Result.xlsx",{compression:!0})}};m.\u0275fac=function(r){return new(r||m)(T(R),T(ie),T(L),T(q),T(F))},m.\u0275cmp=P({type:m,selectors:[["ng-component"]],inputs:{header:"header"},decls:123,vars:8,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card","mb-10"],[1,"card-body","p-12"],["action","","id","kt_invoice_form"],[1,"mb-0"],[1,"row"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label"],[1,"required"],[1,"w-100"],["name","classy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["sess",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","class","aria-label","Select subject","data-control","select2","data-placeholder","Select subject..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],[1,"w-100","text-center"],["type","button",1,"mt-8","w-50","btn","btn-info",3,"click"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search ",1,"form-control","form-control-solid","w-250px","ps-15",3,"keyup"],["myInput",""],[1,"card-toolbar"],[1,"text-end"],["type","button",1,"btn","btn-info",3,"click"],[1,"table-responsive","mb-10"],["id","subjecttable","data-kt-element","items",1,"table","g-5","gs-0","mb-0","fs-4","text-gray-700"],[1,"border-bottom","fs-7","fw-bolder","text-gray-700","text-uppercase"],[1,"min-w-10px","w-10px","fixed-column",2,"background-color","white"],[1,"min-w-250px","w-250px","fixed-column",2,"background-color","white"],[1,"min-w-150px","w-150px"],[1,"min-w-200px","w-200px","text-center"],[1,"min-w-150px","w-150px","text-center"],["myTbody",""],["class","border-bottom border-bottom-dashed","data-kt-element","Name",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],["id","kt_footer",1,"footer","py-4","d-flex","flex-lg-column"],[1,"container-fluid","d-flex","flex-column","flex-md-row","align-items-center","justify-content-between"],[1,"text-dark","order-2","order-md-1"],[1,"text-muted","fw-bold","me-1"],["href","https://GradexCloud.com","target","_blank",1,"text-gray-800","text-hover-info"],[3,"value"],["data-kt-element","Name",1,"border-bottom","border-bottom-dashed"],[1,"pe-7","fixed-column",2,"background-color","white"],[1,"mb-1"],[1,"text-hover-info","mb-1"],[1,"text-center"],[1,"text-gray-800","text-hover-info","mb-1"]],template:function(r,i){if(r&1){let c=k();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11)(12,"span",12),a(13,"Class Name"),t()(),e(14,"div",13)(15,"select",14,15),g("change",function(){S(c);let o=E(16);return C(i.setClass(o.value))}),e(17,"option",16),a(18,"Select Class..."),t(),I(19,Ht,2,2,"option",17),t()()(),e(20,"div",10)(21,"label",11)(22,"span",12),a(23,"Session"),t()(),e(24,"div",13)(25,"select",18),y("ngModelChange",function(o){return x(i.currentSessionId,o)||(i.currentSessionId=o),o}),e(26,"option",16),a(27,"Select Session..."),t(),I(28,Ut,2,2,"option",17),t()()()(),e(29,"div",9)(30,"div",10)(31,"label",11)(32,"span",12),a(33,"Subject"),t()(),e(34,"div",13)(35,"select",19),y("ngModelChange",function(o){return x(i.currentSubjectId,o)||(i.currentSubjectId=o),o}),e(36,"option",16),a(37,"Select Subject..."),t(),I(38,Xt,2,2,"option",17),t()()(),e(39,"div",10)(40,"label",11)(41,"span",12),a(42,"Term"),t()(),e(43,"div",13)(44,"select",20),y("ngModelChange",function(o){return x(i.currentTerm,o)||(i.currentTerm=o),o}),e(45,"option",21),a(46,"Select term"),t(),e(47,"option",22),a(48,"First"),t(),e(49,"option",23),a(50,"Second"),t(),e(51,"option",24),a(52,"Third"),t()()()()(),e(53,"div",10)(54,"div",25)(55,"button",26),g("click",function(){return i.getSubjectResultsByClass()}),a(56,"Show Students"),t()()(),e(57,"div",27)(58,"div",28)(59,"div",29)(60,"span",30),M(),e(61,"svg",31),b(62,"rect",32)(63,"path",33),t()(),A(),e(64,"input",34,35),g("keyup",function(){S(c);let o=E(65),_=E(89);return C(i.genk.searchTable(o,_))}),t()()(),e(66,"div",36)(67,"div",37)(68,"button",38),g("click",function(){return i.exportTable()}),a(69,"Export"),t()()()()(),e(70,"div",39)(71,"table",40)(72,"thead")(73,"tr",41)(74,"th",42),a(75,"S/N"),t(),e(76,"th",43),a(77,"Student Name"),t(),e(78,"th",44),a(79,"Admission No"),t(),e(80,"th",45),a(81,"Subject"),t(),e(82,"th",46),a(83,"Total Score"),t(),e(84,"th",46),a(85,"Grade"),t(),e(86,"th",46),a(87,"Position"),t()()(),e(88,"tbody",null,47),I(90,Zt,22,7,"tr",48),t()()(),e(91,"div",8)(92,"div",49)(93,"div",50)(94,"label")(95,"select",51)(96,"option",52),a(97,"10"),t(),e(98,"option",53),a(99,"25"),t(),e(100,"option",54),a(101,"50"),t(),e(102,"option",55),a(103,"100"),t()()()()(),e(104,"div",56)(105,"div",57)(106,"ul",58)(107,"li",59)(108,"a",60),b(109,"i",61),t()(),e(110,"li",62)(111,"a",63),a(112,"1"),t()(),e(113,"li",64)(114,"a",65),b(115,"i",66),t()()()()()()()()()()()()(),e(116,"div",67)(117,"div",68)(118,"div",69)(119,"span",70),a(120,"2022\xA9"),t(),e(121,"a",71),a(122,"gradeX-Cloud"),t()()()()()}r&2&&(d(15),p("value",i.currentClass),d(4),p("ngForOf",i.staffClasses),d(6),v("ngModel",i.currentSessionId),d(3),p("ngForOf",i.sessionlist),d(7),v("ngModel",i.currentSubjectId),d(3),p("ngForOf",i.classSubjects),d(6),v("ngModel",i.currentTerm),d(46),p("ngForOf",i.resultlist))},dependencies:[O,H,X,Z,U,W,B,Q,G],styles:[`.table[_ngcontent-%COMP%] {
                                                width: auto;
                                            }

                                            .table-responsive[_ngcontent-%COMP%] {
                                                overflow-x: auto;
                                                max-width: 100%;
                                            }

                                            .fixed-column[_ngcontent-%COMP%] {
                                                position: sticky;
                                                left: 0;
                                                background-color: #fff;
                                                

                                                z-index: 1;
                                            }`]});let s=m;return s})();var z=ee(pe());function qt(s,m){if(s&1&&(e(0,"option",73),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),h(l.class)}}function zt(s,m){if(s&1&&(e(0,"option",73),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),j("",l.sessionName," ")}}function Yt(s,m){if(s&1){let l=k();e(0,"tr")(1,"td",74),a(2),t(),e(3,"td")(4,"a",75),a(5),t()(),e(6,"td")(7,"a",76),a(8),t()(),e(9,"td"),a(10),t(),e(11,"td"),a(12),t(),e(13,"td")(14,"input",77,78),g("change",function(){let i=S(l).$implicit,c=E(15),u=f(2);return C(u.editComment(i.studentId,c.value))}),t()()()}if(s&2){let l=m.$implicit,n=m.index,r=f(2),i;d(2),j(" ",n+1," "),d(3),h(l.studentName),d(3),h(l.sex),d(2),h(l.average),d(2),h(l.average?r.formatPosition(n+1):""),d(2),p("value",(i=l.comment)!==null&&i!==void 0?i:"")}}function Kt(s,m){if(s&1){let l=k();e(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"label",16)(6,"span",17),a(7,"Class"),t()(),e(8,"div",18)(9,"select",19),y("ngModelChange",function(r){S(l);let i=f();return x(i.currentClass,r)||(i.currentClass=r),C(r)}),e(10,"option",20),a(11,"Select Class..."),t(),I(12,qt,2,2,"option",21),t()()(),e(13,"div",15)(14,"label",22)(15,"span",17),a(16,"Session"),t()(),e(17,"div",18)(18,"select",23),y("ngModelChange",function(r){S(l);let i=f();return x(i.currentSessionId,r)||(i.currentSessionId=r),C(r)}),e(19,"option",20),a(20,"Select Session..."),t(),I(21,zt,2,2,"option",21),t()()()(),e(22,"div",14)(23,"div",15)(24,"label",16)(25,"span",17),a(26,"Term"),t()(),e(27,"div",18)(28,"select",24),y("ngModelChange",function(r){S(l);let i=f();return x(i.currentTerm,r)||(i.currentTerm=r),C(r)}),e(29,"option",25),a(30,"Select term"),t(),e(31,"option",26),a(32,"First"),t(),e(33,"option",27),a(34,"Second"),t(),e(35,"option",28),a(36,"Third"),t(),e(37,"option",29),a(38,"Annual"),t()()()(),e(39,"div",30)(40,"div",18)(41,"button",31),g("click",function(){S(l);let r=f();return C(r.getResultsAverageByClass())}),a(42,"Show Results"),t()()()(),e(43,"div",32)(44,"div",33)(45,"div",34)(46,"span",35),M(),e(47,"svg",36),b(48,"rect",37)(49,"path",38),t()(),A(),b(50,"input",39),t()(),e(51,"div")(52,"div",40)(53,"button",41),g("click",function(){S(l);let r=f();return C(r.saveComments())}),e(54,"span",42),a(55,"Save Comment"),t()(),e(56,"button",43),a(57,"Batch Uploads "),t()()()()(),e(58,"div",44)(59,"table",45)(60,"thead")(61,"tr",46)(62,"th",47),a(63," S/N "),t(),e(64,"th",48),a(65,"Students Name"),t(),e(66,"th",49),a(67,"Gender"),t(),e(68,"th",50),a(69,"Average"),t(),e(70,"th",50),a(71,"Position"),t(),e(72,"th",51),a(73,"Class Teacher's Comment "),t()()(),e(74,"tbody",52),I(75,Yt,16,6,"tr",53),t()()(),e(76,"div",54)(77,"div",55)(78,"div",56)(79,"label")(80,"select",57)(81,"option",58),a(82,"10"),t(),e(83,"option",59),a(84,"25"),t(),e(85,"option",60),a(86,"50"),t(),e(87,"option",61),a(88,"100"),t()()()()(),e(89,"div",62)(90,"div",63)(91,"ul",64)(92,"li",65)(93,"a",66),b(94,"i",67),t()(),e(95,"li",68)(96,"a",69),a(97,"1"),t()(),e(98,"li",70)(99,"a",71),b(100,"i",72),t()()()()()()()()}if(s&2){let l=f();d(9),v("ngModel",l.currentClass),d(3),p("ngForOf",l.formTeacherClasses),d(6),v("ngModel",l.currentSessionId),d(3),p("ngForOf",l.sessionlist),d(7),v("ngModel",l.currentTerm),d(47),p("ngForOf",l.resultlist)}}function Jt(s,m){s&1&&(e(0,"div")(1,"h1"),a(2,"No data to display"),t(),e(3,"h4"),a(4,"You are not a Form Teacher"),t()())}var Ze=(()=>{let m=class m{constructor(n,r,i,c,u){this.router=n,this.route=r,this.auth=i,this.sch=c,this.gen=u,this.userName="",this.userImgPath="",this.mobileModal=!1,this.schoolClasses=[],this.sessionlist=[],this.resultlist=[],this.principalresultlist=[],this.commentlist=[],this.principlecommentlist=[],this.studentresultlist=[],this.destroy=new te,this.formTeacherClasses=[],this.genk=u,this.userName=i.currentUserValue.name,this.userImgPath=i.currentUserValue.logo,this.adminStatus=i.currentUserValue.status}ngOnInit(){this.genk.topdata="Form Teacher Comment",this.getFormTeacherClass(),this.getClassNames(),this.getSession(),this.getCurrentSession()}getFormTeacherClass(){this.sch.getFormTeacherClass().subscribe(n=>{this.formTeacherClasses=n})}getClassNames(){this.sch.getClassNames().subscribe(n=>{this.schoolClasses=n})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}setImg(n){return n&&n.length>0?this.genk.imgurl+n:this.genk.defaultImg}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.currentSessionObj.currentTerm&&(this.currentTerm=this.currentSessionObj.currentTerm)})}getResults(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getResultsAverageByClass(){this.sch.getResultsAverageByClassComment(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.resultlist=n,this.currentSession=this.sessionlist.filter(r=>r.id==this.currentSessionId)[0].sessionName})}getResultsAverageByClassPrincipalComment(){this.sch.getResultsAverageByClassPrincipalComment(this.currentClass,this.currentSessionId.toString(),this.currentTerm).subscribe(n=>{this.principalresultlist=n,this.currentSession=this.sessionlist.filter(r=>r.id==this.currentSessionId)[0].sessionName})}editComment(n,r){if(this.commentlist.length>0)if(this.commentlist.filter(i=>i.studentId==Number(n)).length>0)this.commentlist[this.commentlist.findIndex(i=>i.studentId==Number(n))].comment=r;else{let i={studentId:n,comment:r};this.commentlist.push(i)}else{let i={studentId:n,comment:r};this.commentlist.push(i)}}editPrincipleComment(n,r){if(this.principlecommentlist.length>0)if(this.principlecommentlist.filter(i=>i.studentId==Number(n)).length>0)this.principlecommentlist[this.principlecommentlist.findIndex(i=>i.studentId==Number(n))].comment=r;else{let i={studentId:n,comment:r};this.principlecommentlist.push(i)}else{let i={studentId:n,comment:r};this.principlecommentlist.push(i)}}formatPosition(n){let r;switch(n){case 1:r="1st";break;case 2:r="2nd";break;case 3:r="3rd";break;default:r=n+"th";break}return r}saveComments(){z.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{z.default.showLoading(),this.sch.saveFormTeacherComment(this.commentlist,this.currentClass,this.currentSessionId.toString(),this.currentTerm).pipe(K(this.destroy)).subscribe(n=>{z.default.close()})}}).then(n=>{z.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}getResultsByStudent(n,r,i,c){this.myStudentId=n,this.myStudentName=r,this.myStudentPhoto=i,this.principleComment=c,this.sch.getResultsByStudent(this.currentClass,this.currentSessionId.toString(),this.currentTerm,n.toString()).subscribe(u=>{this.studentresultlist=u})}savePrincipleComments(){z.default.fire({title:"Processing Data...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{z.default.showLoading(),this.sch.saveFormPrincipalComment(this.principlecommentlist,this.currentClass,this.currentSessionId.toString(),this.currentTerm).pipe(K(this.destroy)).subscribe(n=>{z.default.close()})}}).then(n=>{z.default.fire({icon:"success",title:"Result Entry updated successfully!.",showConfirmButton:!1,timer:2e3})})}};m.\u0275fac=function(r){return new(r||m)(T(R),T(ie),T(L),T(q),T(F))},m.\u0275cmp=P({type:m,selectors:[["ng-component"]],inputs:{header:"header"},decls:11,vars:2,consts:[["id","kt_wrapper",1,"wrapper","d-flex","flex-column","flex-row-fluid"],["id","kt_content",1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_post",1,"post","d-flex","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],["id","kt_ecommerce_add_product_form","data-kt-redirect","#",1,"form","d-flex","flex-column","flex-lg-row"],[1,"d-flex","flex-column","flex-row-fluid","gap-7","gap-lg-10"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade","show","active"],[1,"d-flex","flex-column","gap-7","gap-lg-10"],["class","card card-flush py-4",4,"ngIf"],[4,"ngIf"],[1,"card","card-flush","py-4"],[1,"card-body","pt-10"],[1,"row","gx-10","mb-5"],[1,"col-lg-6"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","form-label","mt-3"],[1,"required"],[1,"w-100"],["name","classy","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fs-6","fw-bold","form-label"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","FIRST"],["value","SECOND"],["value","THIRD"],["value","ANNUAL"],[1,"fv-row","mb-5",2,"margin-top","60px"],[1,"w-100","btn","btn-primary",2,"padding","10px",3,"click"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-customer-table-filter","search","placeholder","Search Students",1,"form-control","form-control-solid","w-250px","ps-15"],[1,"text-end"],["type","submit",1,"me-3","btn","btn-info",3,"click"],[1,"indicator-label"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"btn","btn-info"],[1,"table-responsive","mb-10"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-gray-400","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"w-10px","pe-2"],[1,"min-w-150px"],[1,"min-w-100px"],[1,"min-w-125px"],[1,"min-w-300px"],[1,"fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],["id","kt_customers_table_length",1,"dataTables_length"],["name","kt_customers_table_length","aria-controls","kt_customers_table",1,"form-select","form-select-sm","form-select-solid"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12","col-md-7","d-flex","align-items-center","justify-content-center","justify-content-md-end"],["id","kt_customers_table_paginate",1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],["id","kt_customers_table_previous",1,"paginate_button","page-item","previous","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","0","tabindex","0",1,"page-link"],[1,"previous"],[1,"paginate_button","page-item","active"],["href","#","aria-controls","kt_customers_table","data-dt-idx","1","tabindex","0",1,"page-link"],["id","kt_customers_table_next",1,"paginate_button","page-item","next","disabled"],["href","#","aria-controls","kt_customers_table","data-dt-idx","2","tabindex","0",1,"page-link"],[1,"next"],[3,"value"],[1,"text-gray-800","text-bold"],["href","View_user.html",1,"text-gray-800","text-hover-info","mb-1"],["href","#",1,"text-gray-600","text-hover-info","mb-1"],["id","textField","type","text","name","class","aria-label","Enter comment","placeholder","Enter comment...",1,"form-control","form-control-solid","form-control-lg",3,"value","change"],["de",""]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),I(9,Kt,101,6,"div",9)(10,Jt,5,0,"div",10),t()()()()()()()()()),r&2&&(d(9),p("ngIf",i.formTeacherClasses.length>0),d(),p("ngIf",i.formTeacherClasses.length==0))},dependencies:[O,J,H,X,Z,U,W,B,Q,G],encapsulation:2});let s=m;return s})();var be=ee(pe());function Qt(s,m){if(s&1&&(e(0,"div")(1,"div",9),b(2,"full-calendar",10),t()()),s&2){let l=f();d(2),p("options",l.calendarOptions)}}function $t(s,m){if(s&1&&(e(0,"option",34),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),j("",l.sessionName," ")}}function ei(s,m){if(s&1&&(e(0,"div",48)(1,"span",49),a(2,"Time:"),t(),e(3,"span",50),a(4),D(5,"date"),D(6,"date"),t()()),s&2){let l=f().$implicit;d(4),ue("",V(5,2,l.startDateTime,"hh:mm a"),"\xA0 - \xA0",V(6,5,l.endDateTime,"hh:mm a"),"")}}function ti(s,m){if(s&1&&(e(0,"div",48)(1,"span",49),a(2,"Time:"),t(),e(3,"span",50),a(4),D(5,"date"),D(6,"date"),t()()),s&2){let l=f().$implicit;d(4),ue("",V(5,2,l.startDateTime,"EEE hh:mm a"),"\xA0 - \xA0",V(6,5,l.endDateTime,"EEE hh:mm a (MMM d)"),"")}}function ii(s,m){if(s&1){let l=k();e(0,"div")(1,"div",35),b(2,"span",36),e(3,"div",37)(4,"div",38)(5,"span",39),a(6),D(7,"date"),t(),b(8,"br"),e(9,"span",40),a(10),D(11,"date"),t()()(),e(12,"div",41)(13,"div",42),a(14),t(),e(15,"div",43),a(16),t(),I(17,ei,7,8,"div",44)(18,ti,7,8,"div",44),e(19,"div",45),a(20,"Venue: "),e(21,"span",46),a(22),t()()(),e(23,"a",47),g("click",function(){let i=S(l).$implicit,c=f(2);return C(c.viewEvent(i.id))}),a(24,"View"),t()()()}if(s&2){let l=m.$implicit,n=f(2);d(6),h(V(7,7,l.startDateTime,"EEE")),d(4),h(V(11,10,l.startDateTime,"MMM	d")),d(4),h(l.title),d(2),h(n.cutText(l.description)),d(),p("ngIf",l.isSameDay),d(),p("ngIf",!l.isSameDay),d(4),h(l.location)}}function ni(s,m){if(s&1){let l=k();e(0,"div",11)(1,"div")(2,"div",12)(3,"div",13)(4,"div",14)(5,"span",15),a(6,"School Events / Timeline"),t()(),e(7,"div")(8,"div",16)(9,"div",17)(10,"div",18)(11,"select",19,20),g("change",function(){S(l);let r=E(12),i=f();return C(i.switchSession(r.value))}),I(13,$t,2,2,"option",21),t()()(),e(14,"div")(15,"div",17)(16,"div",18)(17,"select",22,23),g("change",function(){S(l);let r=E(18),i=f();return C(i.switchTerm(r.value))}),e(19,"option",24),a(20,"Select term"),t(),e(21,"option",25),a(22,"Upcoming"),t(),e(23,"option",26),a(24,"All"),t(),e(25,"option",27),a(26,"First"),t(),e(27,"option",28),a(28,"Second"),t(),e(29,"option",29),a(30,"Third"),t()()()()()()()(),e(31,"div",30)(32,"div",31)(33,"div",32),I(34,ii,25,13,"div",33),t()()()()()()}if(s&2){let l=f();d(11),p("value",l.currentSessionId),d(2),p("ngForOf",l.sessionlist),d(4),p("value",l.currentTerm),d(17),p("ngForOf",l.calendarTimelineList)}}function ai(s,m){if(s&1&&(e(0,"option",34),a(1),t()),s&2){let l=m.$implicit;p("value",l.id),d(),j("",l.sessionName," ")}}function ri(s,m){if(s&1){let l=k();e(0,"div",51)(1,"div",52)(2,"div",53)(3,"form",54)(4,"div",55)(5,"h2",56),a(6,"Add Event"),t(),e(7,"div",57),g("click",function(){S(l);let r=f();return C(r.closeModal())}),e(8,"span",58),M(),e(9,"svg",59),b(10,"rect",60)(11,"rect",61),t()()()(),A(),e(12,"div",62)(13,"div",18)(14,"label",63),a(15,"Event Title"),t(),e(16,"input",64),y("ngModelChange",function(r){S(l);let i=f();return x(i.eventTitle,r)||(i.eventTitle=r),C(r)}),t()(),e(17,"div",18)(18,"label",65),a(19,"Event Description"),t(),e(20,"textarea",66),y("ngModelChange",function(r){S(l);let i=f();return x(i.eventDesc,r)||(i.eventDesc=r),C(r)}),t()(),e(21,"div",18)(22,"label",65),a(23,"Event Location"),t(),e(24,"input",67),y("ngModelChange",function(r){S(l);let i=f();return x(i.eventLocation,r)||(i.eventLocation=r),C(r)}),t()(),e(25,"div",16)(26,"div",17)(27,"div",18)(28,"label",68),a(29,"Event Start Date"),t(),e(30,"input",69),y("ngModelChange",function(r){S(l);let i=f();return x(i.startDateTime,r)||(i.startDateTime=r),C(r)}),t()()(),e(31,"div")(32,"div",17)(33,"div",18)(34,"label",65),a(35,"Event End Date"),t(),e(36,"input",70),y("ngModelChange",function(r){S(l);let i=f();return x(i.endDateTime,r)||(i.endDateTime=r),C(r)}),t()()()()(),e(37,"div",16)(38,"div",17)(39,"div",18)(40,"label",68),a(41,"Session"),t(),e(42,"select",71),y("ngModelChange",function(r){S(l);let i=f();return x(i.currentSessionId,r)||(i.currentSessionId=r),C(r)}),e(43,"option",72),a(44,"Select Session..."),t(),I(45,ai,2,2,"option",21),t()()(),e(46,"div")(47,"div",17)(48,"div",18)(49,"label",65),a(50,"Term"),t(),e(51,"select",73),y("ngModelChange",function(r){S(l);let i=f();return x(i.currentTerm,r)||(i.currentTerm=r),C(r)}),e(52,"option",24),a(53,"Select term"),t(),e(54,"option",27),a(55,"First"),t(),e(56,"option",28),a(57,"Second"),t(),e(58,"option",29),a(59,"Third"),t()()()()()()(),e(60,"div",74)(61,"button",75),g("click",function(){S(l);let r=f();return C(r.closeModal())}),a(62,"Cancel"),t(),e(63,"button",76),g("click",function(){S(l);let r=f();return C(r.submitEvent())}),e(64,"span",77),a(65,"Submit"),t(),e(66,"span",78),a(67,"Please wait... "),b(68,"span",79),t()()()()()()()}if(s&2){let l=f();d(16),v("ngModel",l.eventTitle),d(4),v("ngModel",l.eventDesc),d(4),v("ngModel",l.eventLocation),d(6),v("ngModel",l.startDateTime),d(6),v("ngModel",l.endDateTime),d(6),v("ngModel",l.currentSessionId),d(3),p("ngForOf",l.sessionlist),d(6),v("ngModel",l.currentTerm)}}function li(s,m){if(s&1&&(e(0,"div")(1,"div",93)(2,"span",102),M(),e(3,"svg",103),b(4,"circle",104),t()(),A(),e(5,"div",105)(6,"span",106),a(7,"Start: "),t(),e(8,"span",107),a(9),D(10,"date"),t()()(),e(11,"div",108)(12,"span",109),M(),e(13,"svg",103),b(14,"circle",104),t()(),A(),e(15,"div",105)(16,"span",110),a(17,"Ends: "),t(),e(18,"span",111),a(19),D(20,"date"),t()()()()),s&2){let l=f(2);d(9),j("",V(10,2,l.eventDisplayObj.startDateTime,"EEE hh:mm a, MMM d y")," "),d(10),h(V(20,5,l.eventDisplayObj.endDateTime,"EEE hh:mm a, MMM d y"))}}function oi(s,m){if(s&1&&(e(0,"div",93)(1,"span",102),M(),e(2,"svg",103),b(3,"circle",104),t()(),A(),e(4,"div",105)(5,"span",106),a(6,"Time: "),t(),e(7,"span",107),a(8),D(9,"date"),D(10,"date"),t()()()),s&2){let l=f(2);d(8),ue("",V(9,2,l.eventDisplayObj.startDateTime,"EEE hh:mm a")," \xA0 - \xA0 ",V(10,5,l.eventDisplayObj.endDateTime,"hh:mm a, MMM d y"),"")}}function si(s,m){if(s&1){let l=k();e(0,"div",80),g("click",function(){S(l);let r=f();return C(r.closeModal())}),e(1,"div",52)(2,"div",53)(3,"div",81)(4,"div",82)(5,"span",83),g("click",function(){S(l);let r=f();return C(r.deleteCalendarEvent(r.eventDisplayObj.id))}),b(6,"i",84),t()(),e(7,"div",85)(8,"span",58),M(),e(9,"svg",59),b(10,"rect",60)(11,"rect",61),t()()()(),A(),e(12,"div",86)(13,"div",87)(14,"span",88),M(),e(15,"svg",59),b(16,"path",89)(17,"path",90)(18,"path",91),t()(),A(),e(19,"div",92)(20,"div",93)(21,"span",94),a(22),t(),b(23,"span",95),t(),e(24,"div",96),a(25),t()()(),I(26,li,21,8,"div",5)(27,oi,11,8,"div",97),e(28,"div",98)(29,"span",88),M(),e(30,"svg",59),b(31,"path",99)(32,"path",100),t()(),A(),e(33,"div",101),a(34),t()()()()()()}if(s&2){let l=f();d(22),h(l.eventDisplayObj.title),d(3),h(l.eventDisplayObj.description),d(),p("ngIf",!l.eventDisplayObj.isSameDay),d(),p("ngIf",l.eventDisplayObj.isSameDay),d(7),h(l.eventDisplayObj.location)}}var qe=(()=>{let m=class m{constructor(n,r,i,c){this.router=n,this.auth=r,this.sch=i,this.gen=c,this.userName="",this.userImgPath="",this.mobileModal=!1,this.isEnterModal=!1,this.isViewModal=!1,this.calendarEventList=[],this.calendarTimelineList=[],this.sessionlist=[],this.currentTerm="UPCOMING",this.isCalendar=!0,this.isTimeline=!1,this.calendarOptions={initialView:"dayGridMonth",plugins:[Re,Le],dateClick:u=>this.handleDateClick(u),events:this.calendarEventList,eventClick:u=>{this.viewEvent(u.event.id)}},this.genk=c,this.userName=r.currentUserValue.name,this.userImgPath=r.currentUserValue.logo,this.adminStatus=r.currentUserValue.status}ngOnInit(){this.genk.topdata="Award Listings",this.getCalendarEvent(),this.getSession(),this.getCurrentSession(),this.getTimelineCalendarEvent()}get setImg(){return this.userImgPath&&this.userImgPath.length>0?this.genk.imgurl+this.userImgPath:this.genk.defaultImg}handleDateClick(n){this.startDateTime=n.dateStr+"T00:00",this.isEnterModal=!0}submitEvent(){this.isEnterModal=!1;let n={title:this.eventTitle,description:this.eventDesc,location:this.eventLocation,startDateTime:this.startDateTime,endDateTime:this.endDateTime,sessionId:this.currentSessionId,term:this.currentTerm};this.sch.createCalendarEvent(n).subscribe(r=>{this.isEnterModal=!1,this.getCalendarEvent(),be.default.fire("Event Added Successfully","","success")})}closeModal(){this.isEnterModal=!1,this.isViewModal=!1}getCalendarEvent(){this.sch.getCalendarEvents().subscribe(n=>{debugger;this.calendarEventList=n;let r;this.calendarEventList.forEach(i=>{r={id:i.id,title:i.title,date:i.startDateTime.split("T")[0]},this.calendarEventList.push(r),this.calendarOptions.events=this.calendarEventList})})}viewEvent(n){this.eventDisplayObj=this.calendarEventList.filter(r=>r.id==Number(n))[0],this.isViewModal=!0}deleteCalendarEvent(n){be.default.fire({title:"Do you really want to delete this event?",showCancelButton:!0,confirmButtonText:"Yes, Delete"}).then(r=>{r.isConfirmed&&this.sch.deleteCalendarEvent(n.toString()).subscribe(i=>{this.getCalendarEvent(),this.isViewModal=!1,be.default.fire("Data deleted","","success")})})}getSession(){this.sch.getSession().subscribe(n=>{this.sessionlist=n})}getCurrentSession(){this.sch.getCurrentSession().subscribe(n=>{this.currentSessionObj=n,this.currentSessionId=this.currentSessionObj.sessionId,this.getTimelineCalendarEvent()})}switchTimeline(n){n=="TIMELINE"?(this.isCalendar=!1,this.isTimeline=!0):(this.isCalendar=!0,this.isTimeline=!1)}getTimelineCalendarEvent(){this.sch.getCalendarEventsByTerm(this.currentTerm,this.currentSessionId.toString()).subscribe(n=>{this.calendarTimelineList=n})}cutText(n){return n.length>200?n.substring(0,200)+"...":n}switchTerm(n){this.currentTerm=n,this.getTimelineCalendarEvent()}switchSession(n){this.currentSessionId=n,this.getTimelineCalendarEvent()}};m.\u0275fac=function(r){return new(r||m)(T(R),T(L),T(q),T(F))},m.\u0275cmp=P({type:m,selectors:[["ng-component"]],inputs:{header:"header"},decls:12,vars:4,consts:[[2,"margin","1% 5% 2% 5%","padding","5px"],[1,"nav","nav-custom","nav-tabs","nav-line-tabs","nav-line-tabs-2x","border-0","fs-4","fw-bold","mb-n2"],[1,"nav-item"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_general",1,"nav-link","text-active-primary","pb-4","active",3,"click"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_advanced",1,"nav-link","text-active-primary","pb-4",3,"click"],[4,"ngIf"],["style","padding: 0 5%",4,"ngIf"],["class","modale",4,"ngIf"],["class","modale",3,"click",4,"ngIf"],[1,"card",2,"margin","1% 5% 5% 5%","padding","20px"],[3,"options"],[2,"padding","0 5%"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start"],[1,"card-label","fs-2","fw-bolder","text-dark"],[1,"row","row-cols-lg-2","g-10"],[1,"col"],[1,"fv-row","mb-9"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["ses",""],[3,"value",4,"ngFor","ngForOf"],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"value","change"],["tm",""],["selected","","disabled",""],["value","UPCOMING"],["value","ALL"],["value","FIRST"],["value","SECOND"],["value","THIRD"],[1,"card-body","pt-3","px-0"],[1,"tab-content","mb-2","px-9"],["id","kt_timeline_widget_3_tab_content_1",1,"tab-pane","fade","show","active"],[4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","align-items-center","mb-11",2,"font-family","'Poppins'"],["data-kt-element","bullet",1,"bullet","bullet-vertical","d-flex","align-items-center","min-h-70px","mh-100","me-4","bg-success"],[2,"margin-right","30px","background-color","dodgerblue","color","white","width","70px","height","70px","border-radius","100%","display","flex","justify-content","center","align-items","center"],[2,"text-align","center"],[2,"font-weight","500","font-size","18px"],[2,"font-weight","700","font-size","12px"],[1,"flex-grow-1","me-5",2,"width","60%"],[1,"text-black-500","fw-bold","fs-2"],[1,"text-black-500","fs-4"],["class","fw-bold fs-4","style","color: #3A7BD5;",4,"ngIf"],[1,"text-gray-600","fw-bolder","fs-7"],["href","#",1,"text-grey","opacity-85-hover","fw-bold"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_project",1,"btn","btn-sm","btn-light",3,"click"],[1,"fw-bold","fs-4",2,"color","#3A7BD5"],[2,"font-weight","600","margin-right","8px"],[1,"fw-bold","fs-4"],[1,"modale"],[1,"modal-dialog","modal-dialog-centered","mw-650px"],[1,"modal-content"],["action","#","id","kt_modal_add_event_form",1,"form"],[1,"modal-header"],["data-kt-calendar","title",1,"fw-bolder"],[1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","py-10","px-lg-17"],[1,"fs-6","fw-bold","required","mb-2"],["type","text","placeholder","","name","calendar_event_name",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fs-6","fw-bold","mb-2"],["type","text","placeholder","","name","calendar_event_description",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","","name","calendar_event_location",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fs-6","fw-bold","mb-2","required"],["type","datetime-local","name","calendar_event_start_date","placeholder","Pick a start date",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","datetime-local","name","calendar_event_end_date","placeholder","Pick a end date",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","classu","aria-label","Select class","data-control","select2","data-placeholder","Select class..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],["name","clasis","aria-label","Select term","data-control","select2","data-placeholder","Select term..",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],[1,"modal-footer","flex-center"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"modale",3,"click"],[1,"modal-header","border-0","justify-content-end"],["title","Delete Event","id","kt_modal_view_event_delete",1,"btn","btn-icon","btn-sm","btn-color-gray-400","btn-active-icon-danger","me-2","mr-5"],[3,"click"],[1,"fa-solid","fa-trash-can",2,"font-size","20px","color","red"],["data-bs-toggle","tooltip","title","Hide Event","data-bs-dismiss","modal",1,"btn","btn-icon","btn-sm","btn-color-gray-500","btn-active-icon-primary"],[1,"modal-body","pt-0","pb-20","px-lg-17"],[1,"d-flex"],[1,"svg-icon","svg-icon-1","svg-icon-muted","me-5"],["opacity","0.3","d","M21 22H3C2.4 22 2 21.6 2 21V5C2 4.4 2.4 4 3 4H21C21.6 4 22 4.4 22 5V21C22 21.6 21.6 22 21 22Z","fill","currentColor"],["d","M6 6C5.4 6 5 5.6 5 5V3C5 2.4 5.4 2 6 2C6.6 2 7 2.4 7 3V5C7 5.6 6.6 6 6 6ZM11 5V3C11 2.4 10.6 2 10 2C9.4 2 9 2.4 9 3V5C9 5.6 9.4 6 10 6C10.6 6 11 5.6 11 5ZM15 5V3C15 2.4 14.6 2 14 2C13.4 2 13 2.4 13 3V5C13 5.6 13.4 6 14 6C14.6 6 15 5.6 15 5ZM19 5V3C19 2.4 18.6 2 18 2C17.4 2 17 2.4 17 3V5C17 5.6 17.4 6 18 6C18.6 6 19 5.6 19 5Z","fill","currentColor"],["d","M8.8 13.1C9.2 13.1 9.5 13 9.7 12.8C9.9 12.6 10.1 12.3 10.1 11.9C10.1 11.6 10 11.3 9.8 11.1C9.6 10.9 9.3 10.8 9 10.8C8.8 10.8 8.59999 10.8 8.39999 10.9C8.19999 11 8.1 11.1 8 11.2C7.9 11.3 7.8 11.4 7.7 11.6C7.6 11.8 7.5 11.9 7.5 12.1C7.5 12.2 7.4 12.2 7.3 12.3C7.2 12.4 7.09999 12.4 6.89999 12.4C6.69999 12.4 6.6 12.3 6.5 12.2C6.4 12.1 6.3 11.9 6.3 11.7C6.3 11.5 6.4 11.3 6.5 11.1C6.6 10.9 6.8 10.7 7 10.5C7.2 10.3 7.49999 10.1 7.89999 10C8.29999 9.90003 8.60001 9.80003 9.10001 9.80003C9.50001 9.80003 9.80001 9.90003 10.1 10C10.4 10.1 10.7 10.3 10.9 10.4C11.1 10.5 11.3 10.8 11.4 11.1C11.5 11.4 11.6 11.6 11.6 11.9C11.6 12.3 11.5 12.6 11.3 12.9C11.1 13.2 10.9 13.5 10.6 13.7C10.9 13.9 11.2 14.1 11.4 14.3C11.6 14.5 11.8 14.7 11.9 15C12 15.3 12.1 15.5 12.1 15.8C12.1 16.2 12 16.5 11.9 16.8C11.8 17.1 11.5 17.4 11.3 17.7C11.1 18 10.7 18.2 10.3 18.3C9.9 18.4 9.5 18.5 9 18.5C8.5 18.5 8.1 18.4 7.7 18.2C7.3 18 7 17.8 6.8 17.6C6.6 17.4 6.4 17.1 6.3 16.8C6.2 16.5 6.10001 16.3 6.10001 16.1C6.10001 15.9 6.2 15.7 6.3 15.6C6.4 15.5 6.6 15.4 6.8 15.4C6.9 15.4 7.00001 15.4 7.10001 15.5C7.20001 15.6 7.3 15.6 7.3 15.7C7.5 16.2 7.7 16.6 8 16.9C8.3 17.2 8.6 17.3 9 17.3C9.2 17.3 9.5 17.2 9.7 17.1C9.9 17 10.1 16.8 10.3 16.6C10.5 16.4 10.5 16.1 10.5 15.8C10.5 15.3 10.4 15 10.1 14.7C9.80001 14.4 9.50001 14.3 9.10001 14.3C9.00001 14.3 8.9 14.3 8.7 14.3C8.5 14.3 8.39999 14.3 8.39999 14.3C8.19999 14.3 7.99999 14.2 7.89999 14.1C7.79999 14 7.7 13.8 7.7 13.7C7.7 13.5 7.79999 13.4 7.89999 13.2C7.99999 13 8.2 13 8.5 13H8.8V13.1ZM15.3 17.5V12.2C14.3 13 13.6 13.3 13.3 13.3C13.1 13.3 13 13.2 12.9 13.1C12.8 13 12.7 12.8 12.7 12.6C12.7 12.4 12.8 12.3 12.9 12.2C13 12.1 13.2 12 13.6 11.8C14.1 11.6 14.5 11.3 14.7 11.1C14.9 10.9 15.2 10.6 15.5 10.3C15.8 10 15.9 9.80003 15.9 9.70003C15.9 9.60003 16.1 9.60004 16.3 9.60004C16.5 9.60004 16.7 9.70003 16.8 9.80003C16.9 9.90003 17 10.2 17 10.5V17.2C17 18 16.7 18.4 16.2 18.4C16 18.4 15.8 18.3 15.6 18.2C15.4 18.1 15.3 17.8 15.3 17.5Z","fill","currentColor"],[1,"mb-9"],[1,"d-flex","align-items-center","mb-2"],["data-kt-calendar","event_name",1,"fs-2","fw-bolder","me-3"],["data-kt-calendar","all_day",1,"badge","badge-light-success"],["data-kt-calendar","event_description",1,"fs-6"],["class","d-flex align-items-center mb-2",4,"ngIf"],[1,"d-flex","align-items-center"],["opacity","0.3","d","M18.0624 15.3453L13.1624 20.7453C12.5624 21.4453 11.5624 21.4453 10.9624 20.7453L6.06242 15.3453C4.56242 13.6453 3.76242 11.4453 4.06242 8.94534C4.56242 5.34534 7.46242 2.44534 11.0624 2.04534C15.8624 1.54534 19.9624 5.24534 19.9624 9.94534C20.0624 12.0453 19.2624 13.9453 18.0624 15.3453Z","fill","currentColor"],["d","M12.0624 13.0453C13.7193 13.0453 15.0624 11.7022 15.0624 10.0453C15.0624 8.38849 13.7193 7.04535 12.0624 7.04535C10.4056 7.04535 9.06241 8.38849 9.06241 10.0453C9.06241 11.7022 10.4056 13.0453 12.0624 13.0453Z","fill","currentColor"],["data-kt-calendar","event_location",1,"fs-6"],[1,"svg-icon","svg-icon-1","svg-icon-success","me-5"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["fill","currentColor","cx","12","cy","12","r","8"],[1,"fs-6"],[1,"fw-bolder",2,"padding-right","15px"],["data-kt-calendar","event_start_date"],[1,"d-flex","align-items-center","mb-9"],[1,"svg-icon","svg-icon-1","svg-icon-danger","me-5"],[1,"fw-bolder",2,"padding-right","20px"],["data-kt-calendar","event_end_date"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),g("click",function(){return i.switchTimeline("CALENDAR")}),a(4,"Event Calendar"),t()(),e(5,"li",2)(6,"a",4),g("click",function(){return i.switchTimeline("TIMELINE")}),a(7,"Timeline"),t()()()(),I(8,Qt,3,1,"div",5)(9,ni,35,4,"div",6)(10,ri,69,8,"div",7)(11,si,35,5,"div",8)),r&2&&(d(8),p("ngIf",i.isCalendar),d(),p("ngIf",i.isTimeline),d(),p("ngIf",i.isEnterModal),d(),p("ngIf",i.isViewModal))},dependencies:[O,J,H,X,Z,fe,U,W,B,Q,G,Fe,Ie],styles:[".modale[_ngcontent-%COMP%]{display:block;position:fixed;z-index:6;width:100%;height:100%;top:0;left:0;overflow:auto;align-items:center;background-color:#0000004d}"]});let s=m;return s})();var di=[{path:"",loadChildren:()=>import("./chunk-QHVMGOQY.js").then(s=>s.StaffDashboardModule)},{path:"dashboard",loadChildren:()=>import("./chunk-QHVMGOQY.js").then(s=>s.StaffDashboardModule)},{path:"staff",loadChildren:()=>import("./chunk-2E27KQJB.js").then(s=>s.StaffModule)},{path:"profile",component:He},{path:"result-entry",component:Ue},{path:"subject-result",component:Xe},{path:"teacher-comment",component:Ze},{path:"calendar",component:qe}],ze=(()=>{let m=class m{};m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=ce({type:m}),m.\u0275inj=me({imports:[le.forChild(di),le]});let s=m;return s})();var en=(()=>{let m=class m{};m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=ce({type:m}),m.\u0275inj=me({imports:[ke,De,Ve,Te,le,ze,Oe,We]});let s=m;return s})();export{en as StaffModule};
