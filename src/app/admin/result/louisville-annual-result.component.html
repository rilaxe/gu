<div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
    <!--end::Header-->
    <!--begin::Content-->
   
    <div class="content d-flex flex-column flex-column-fluid " id="kt_content">
        <div style="text-align: end; margin: 10px 30px;">
            <button style="padding: 10px 50px; border: none; outline: none; background-color: dodgerblue; color: white; border-radius: 20px; box-shadow: 1px 1px 3px rgb(0, 0, 0, 0.3);" (click)="convertToPDF(prin)"><i class="fonticon-printer" style="margin-right: 6px; color: white; font-size: 16px;"></i> Print</button>
        </div>
        <!--begin::Post-->
        <div class="post d-flex flex-column-fluid" id="kt_post">
            <!--begin::Container-->
            <div id="kt_content_container" class="container-xxl" >
                <!--begin::Card-->
                <div  #prin class="card mb-10" >
                    <!--begin::Card body-->
                    <div class="card-body p-12">
                            <div style="font-family: 'Poppins-Medium'">
                                <div style="text-align: center; margin-bottom: 20px;">
                                    <span style="font-size: 39px; color: rgb(36, 91, 143); font-weight: 900;">{{myschool?.schoolName}}</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; font-size: 16px;">
                                    <div class="col-4">
                                        <span style="font-weight: 600;">Postal Address:</span><br>
                                        <span>{{myschool?.address}}</span>
                                    </div>
                                    <div class="col-4 text-center">
                                        <img [src]="setImg(myschool?.schoolLogo)" style="object-fit:cover; height: 100px; width: 100px; border-radius: 100%;"/>
                                    </div>
                                    <div class="col-4">
                                        <span style="font-weight: 600;">Email: </span><span>{{myschool?.email}}</span><br>
                                        <span style="font-weight: 600;">Phone: </span><span>{{myschool?.phoneOne}}</span><br>
                                        <span style="font-weight: 600;">website: </span><span>{{myschool?.website}}</span>
                                    </div>
                                </div>
                                <div style="height: 6px; background-color: rgb(36, 91, 143); margin-top: 30px;"></div>
                                <div style="display: flex; justify-content: space-between; font-size: 17px;">
                                    <div>
                                        <span style="font-weight: 600;">STUDENTS NAME: </span><span>{{((studentobj?.surname ?? '') + ' ' + (studentobj?.middleName ?? '') + ' ' + (studentobj?.firstName ?? '')).trim()}}</span><br>
                                        <span style="font-weight: 600;">CLASS NAME: </span><span>{{className}}</span><br>
                                        <span style="font-weight: 600;">NO. IN CLASS: </span><span>{{noInClass}}</span><br>
                                        <span style="font-weight: 600;">AVERAGE SCORE: </span><span>{{average}}</span><br>
                                        <span style="font-weight: 600;">TOTAL SCORE: </span><span>{{studentTotal?.toFixed(1)}}</span><br>
                                        <span style="font-weight: 600;">POSITION IN CLASS: </span><span>{{position}}</span>
                                    </div>
                                    <div class="col-4">
                                        <span style="font-weight: 600;">TERM:  </span><span>{{currentTerm}}</span><br>
                                        <span style="font-weight: 600;">SESSION:  </span><span>{{currentSession}}</span><br>
                                        <span style="font-weight: 600;">ADMISSION NO.:  </span><span>{{studentobj?.admissionNo}}</span><br>
                                        <span style="font-weight: 600;">NEXT TERM BEGINS: </span><span>{{nextResumptionDate | date}}</span><br>
                                        <span style="font-weight: 600;">HOUSE: </span><span></span><br>
                                        <span style="font-weight: 600;">NO OF TIMES PRESENT: </span><span></span><br>
                                    </div>
                                </div>
                               <div style="text-align: center; margin-top: 10px;">
                                <h1>CONTINUOUS ASSESSMENT DOSSIER FOR JUNIOR AND SENIOR SECONDARY SCHOOL</h1>
                               </div> 
                               <div>
                               
                               </div>
                            </div>


                            <table #tabl id="customers">
                                <thead>
                                    <tr>
                                        <!-- <th *ngIf="caSetupData?.CA1">1st Term</th>
                                        <th *ngIf="caSetupData?.CA2">2nd Term</th>
                                        <th *ngIf="caSetupData?.CA3">3rd Term</th>
                                        <th *ngIf="caSetupData?.CA4">Total</th>
                                        <th *ngIf="caSetupData?.CA5">Annual</th> -->

                                        <th>Subject</th>
                                        <th>1st Term</th>
                                        <th>2nd Term</th>
                                        <th>3rd Term</th>
                                        <th>Total</th>
                                        <th>Annual</th>
                                        <th>Grade</th>
                                        <th>Remark</th>
                                        <th>Position</th>
                                        <th>Lowest Score</th>
                                        <th>Highest Score</th>
                                        <th>Average</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let result of resultlist; index as u" class="border-bottom border-bottom-dashed">
                                        <td>{{result.subject}}</td>
                                        <td>{{result.firstTermTotalScore?.toFixed(1) ?? ''}}</td>
                                        <td>{{result.secondTermTotalScore?.toFixed(1) ?? ''}}</td>
                                        <td>{{result.thirdTermTotalScore?.toFixed(1) ?? ''}}</td>
                                        <td>{{calTotal(result.firstTermTotalScore, result.secondTermTotalScore, result.thirdTermTotalScore)?.toFixed(1)}}</td>
                                        <td>{{calTotalAverage(result.firstTermTotalScore, result.secondTermTotalScore, result.thirdTermTotalScore)}}</td>
                                   
                                        <td>{{calGrade(calTotalAverage(result.firstTermTotalScore, result.secondTermTotalScore, result.thirdTermTotalScore)).grade}}</td>
                                        <td>{{calGrade(calTotalAverage(result.firstTermTotalScore, result.secondTermTotalScore, result.thirdTermTotalScore)).remark}}</td>
                                        <td>{{result.position ?? ''}}</td>
                                        <td>{{result.lowestScore?.toFixed(1) ?? ''}}</td>
                                        <td>{{result.highestScore?.toFixed(1) ?? ''}}</td>
                                        <!-- <td>{{calHighestAverage(result.firstTermTotalScore, result.secondTermTotalScore, result.thirdTermTotalScore, result.lowestScore)}}</td>
                                        <td>{{calHighestAverage(result.firstTermTotalScore, result.secondTermTotalScore, result.thirdTermTotalScore, result.highestScore)}}</td> -->
                                        <td>{{result.average?.toFixed(1) ?? ''}}</td>
                                    </tr>
                                </tbody>
                              </table>

                              <br>
                            
                              <table id="ireg" class="heitable" style="width: 100%;">
                                <colgroup span="2"></colgroup>
                                <colgroup span="2"></colgroup>
                                
                                    <tr style="text-align: center; font-size: 10px; font-weight: 600;">
                                        <th colspan="2" scope="colgroup">HEIGHT</th>
                                        <th colspan="2" scope="colgroup">WEIGHT</th>
                                        <th colspan="4" scope="colgroup">SOCIETIES/CLUBS</th>
                                      </tr>
                             
                                    <tr style="font-size: 10px; font-weight: 600;">
                                        <th scope="col">Beginning of Term</th>
                                        <th scope="col">End of Term</th>
                                        <th scope="col">Beginning of Term</th>
                                        <th scope="col">End of Term</th>
      
                                        <th scope="col">Academic</th>
                                        <th scope="col">Social</th>
                                        <th scope="col">Pious</th>
                                        <th scope="col">Social Acad</th>
                                      </tr>
      
                                      <tr style="font-size: 10px;">
                                          <td scope="col">153M</td>
                                          <td scope="col">153M</td>
                                          <td scope="col">53</td>
                                          <td scope="col">52</td>
      
                                          <td scope="col">4000</td>
                                          <td scope="col">1000</td>
                                          <td scope="col">St. Vincent de paul</td>
                                          <td scope="col">Road Safety</td>
                                      </tr>
                              </table>
                              

                              <div style="margin: 50px 0 30px 0;">
                                <table id="mykey" style="border: 1px solid rgb(174, 179, 181);">
                                    <!-- <tr>
                                      <th style="border: 1px solid black; border-collapse: collapse; width: 200px; text-align: center; padding: 10px 0;">KEY TO GRADE:</th>
                                      <td style="border: 1px solid black; border-collapse: collapse; padding: 10px 10px;">
                                        <span *ngFor="let gradescaletext of gradescaletextlist; index as u">
                                            <span>{{gradescaletext}}</span> &nbsp;&nbsp;
                                        </span> 
                                    </td>
                                    </tr> -->
                                    <tr style="font-size: 9px;">
                                      <th style="padding: 2px 5px;">KEY-TO-RATINGS:</th>
                                      <td style="padding: 2px 5px; ">1 = Unsatisfactory &nbsp;&nbsp; 2 = Below Average &nbsp;&nbsp; 3 = Average &nbsp;&nbsp; 4 = Good &nbsp;&nbsp; 5 = Excellent</td> 
                                    </tr>
                                  </table>
                              </div>

                              <div style="display: flex; justify-content: space-between;">
                                <div style="display: flex; width: 50%;">
                                    <table id="psyco" style="width: 50%;">
                                        <tr *ngFor="let psycom of psycomotorlist; index as u" style="font-size: 11px;">
                                            <td>{{psycom.skill}}</td>
                                            <td>{{psycom.score}}</td>
                                        </tr>
                                    </table>
    
                                    <table id="psyco2" style="width: 50%;">
    
                                        <tr *ngFor="let psycom of psycomotorlist2; index as u" style="font-size: 11px;">
                                            <td>{{psycom.skill}}</td>
                                            <td>{{psycom.score}}</td>
                                        </tr>
                                    </table>
                                </div>
    
    
                                <table id="grade" style="font-size: 11px; width: 40%;" >
                                    <thead style="font-weight: 600;">
                                        <tr style="border: solid 1px grey;">
                                            <th>Color</th>
                                            <th>Grade</th>
                                            <th>Over 100</th>
                                            <th>Over 60</th>
                                            <th>Over 40</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let gradescaler of gradeScalelist; index as u">
                                            <td [ngStyle]="{'color': gradescaler.color.toString()}"
                                                style="font-weight: 700;">{{gradescaler.color}}</td>
                                            <td>{{gradescaler.grade}}</td>
                                            <td>{{gradescaler.begLimit + " " + "-" + " " + floorNum(gradescaler.endLimit)}}
                                            </td>
                                            <td>{{over60Num(gradescaler.begLimit) + " " + "-" + " " +
                                                over60Num(gradescaler.endLimit)}}</td>
                                            <td>{{over40Num(gradescaler.begLimit) + " " + "-" + " " +
                                                over40Num(gradescaler.endLimit)}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>


                    </div>

                    <div style="padding: 0 0 50px 50px;">
                        <div style="margin-bottom: 15px;">
                            <span style="font-size: 15px; font-weight: 600; color: rgb(75, 73, 73);">Form Teacher's Comment:</span> &nbsp;&nbsp;
                            <span style="font-size: 15px; color: rgb(9, 95, 182); font-style: italic;">{{resultComment?.formTeacherComment}}</span>
                        </div>
                        <div>
                            <span style="font-size: 15px; font-weight: 600; color: rgb(75, 73, 73);">Principal's Comment:</span> &nbsp;&nbsp;
                            <span style="font-size: 15px; color: rgb(9, 95, 182); font-style: italic;">{{resultComment?.principalComment}}</span>
                        </div>
                      </div>
                    <!--end::Card body-->
                </div>
            </div>
            <!--end::Container-->
        </div>
        <!--end::Post-->
    </div>
</div>